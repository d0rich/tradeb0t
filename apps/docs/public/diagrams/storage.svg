<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1180px" preserveAspectRatio="none" style="width:2623px;height:1180px;" version="1.1" viewBox="0 0 2623 1180" width="2623px" zoomAndPan="magnify"><defs><filter height="300%" id="f16ancgsboqluv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class ITypedTransformer--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="75.6719" id="ITypedTransformer" style="stroke: #A80036; stroke-width: 1.5;" width="267" x="698.5" y="48.95"/><ellipse cx="723.4" cy="64.95" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M724.3531,61.5906 L724.3531,68.2469 L726.0719,68.2469 Q726.6813,68.2469 726.9469,68.4813 Q727.2125,68.7156 727.2125,69.1063 Q727.2125,69.4813 726.9469,69.7156 Q726.6813,69.95 726.0719,69.95 L720.9313,69.95 Q720.3219,69.95 720.0563,69.7156 Q719.7906,69.4813 719.7906,69.0906 Q719.7906,68.7156 720.0563,68.4813 Q720.3219,68.2469 720.9313,68.2469 L722.65,68.2469 L722.65,61.5906 L720.9313,61.5906 Q720.3219,61.5906 720.0563,61.3563 Q719.7906,61.1219 719.7906,60.7313 Q719.7906,60.3563 720.0563,60.1219 Q720.3219,59.8875 720.9313,59.8875 L726.0719,59.8875 Q726.6813,59.8875 726.9469,60.1219 Q727.2125,60.3563 727.2125,60.7313 Q727.2125,61.1219 726.9469,61.3563 Q726.6813,61.5906 726.0719,61.5906 L724.3531,61.5906 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="739.6" y="69.8602">ITypedTransformer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="106" x="862.5" y="45.95"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="863.5" y="59.407">TEntity, TDatabase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="699.5" x2="964.5" y1="80.95" y2="80.95"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="699.5" x2="964.5" y1="88.95" y2="88.95"/><ellipse cx="709.5" cy="101.368" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="718.5" y="104.3689">to: (entityValue: TEntity | undefined) =&gt; TDatabase</text><ellipse cx="709.5" cy="115.2039" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="718.5" y="118.2049">from: (databaseValue: TDatabase) =&gt; TEntity</text><!--class AlgorithmsRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="48" id="AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="793" y="581.48"/><ellipse cx="808" cy="597.48" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M810.7656,593.355 Q810.9219,593.1363 811.1094,593.0269 Q811.2969,592.9175 811.5156,592.9175 Q811.8906,592.9175 812.125,593.1831 Q812.3594,593.4331 812.3594,594.0425 L812.3594,595.4956 Q812.3594,596.105 812.125,596.3706 Q811.8906,596.6363 811.5156,596.6363 Q811.1719,596.6363 810.9688,596.4331 Q810.7656,596.2456 810.6563,595.73 Q810.6094,595.3706 810.4219,595.1831 Q810.0938,594.8081 809.4844,594.5894 Q808.875,594.3706 808.25,594.3706 Q807.4844,594.3706 806.8438,594.6988 Q806.2188,595.0269 805.7188,595.7769 Q805.2344,596.5269 805.2344,597.5581 L805.2344,598.6519 Q805.2344,599.8863 806.125,600.7144 Q807.0156,601.5269 808.6094,601.5269 Q809.5469,601.5269 810.2031,601.2769 Q810.5938,601.1206 811.0156,600.6831 Q811.2813,600.4175 811.4219,600.3394 Q811.5781,600.2613 811.7813,600.2613 Q812.1094,600.2613 812.3594,600.5269 Q812.625,600.7769 812.625,601.1206 Q812.625,601.4644 812.2813,601.8706 Q811.7813,602.4488 810.9844,602.7769 Q809.9063,603.23 808.6094,603.23 Q807.0938,603.23 805.8906,602.605 Q804.9063,602.105 804.2188,601.0425 Q803.5313,599.9644 803.5313,598.6831 L803.5313,597.5269 Q803.5313,596.1988 804.1406,595.0581 Q804.7656,593.9019 805.8594,593.2925 Q806.9531,592.6675 808.1875,592.6675 Q808.9219,592.6675 809.5625,592.8394 Q810.2188,592.9956 810.7656,593.355 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="822" y="602.3902">AlgorithmsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="794" x2="942" y1="613.48" y2="613.48"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794" x2="942" y1="621.48" y2="621.48"/><!--class Repository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="48" id="Repository" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1080.5" y="301.38"/><ellipse cx="1095.5" cy="317.38" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1098.2656,313.255 Q1098.4219,313.0363 1098.6094,312.9269 Q1098.7969,312.8175 1099.0156,312.8175 Q1099.3906,312.8175 1099.625,313.0831 Q1099.8594,313.3331 1099.8594,313.9425 L1099.8594,315.3956 Q1099.8594,316.005 1099.625,316.2706 Q1099.3906,316.5363 1099.0156,316.5363 Q1098.6719,316.5363 1098.4688,316.3331 Q1098.2656,316.1456 1098.1563,315.63 Q1098.1094,315.2706 1097.9219,315.0831 Q1097.5938,314.7081 1096.9844,314.4894 Q1096.375,314.2706 1095.75,314.2706 Q1094.9844,314.2706 1094.3438,314.5988 Q1093.7188,314.9269 1093.2188,315.6769 Q1092.7344,316.4269 1092.7344,317.4581 L1092.7344,318.5519 Q1092.7344,319.7863 1093.625,320.6144 Q1094.5156,321.4269 1096.1094,321.4269 Q1097.0469,321.4269 1097.7031,321.1769 Q1098.0938,321.0206 1098.5156,320.5831 Q1098.7813,320.3175 1098.9219,320.2394 Q1099.0781,320.1613 1099.2813,320.1613 Q1099.6094,320.1613 1099.8594,320.4269 Q1100.125,320.6769 1100.125,321.0206 Q1100.125,321.3644 1099.7813,321.7706 Q1099.2813,322.3488 1098.4844,322.6769 Q1097.4063,323.13 1096.1094,323.13 Q1094.5938,323.13 1093.3906,322.505 Q1092.4063,322.005 1091.7188,320.9425 Q1091.0313,319.8644 1091.0313,318.5831 L1091.0313,317.4269 Q1091.0313,316.0988 1091.6406,314.9581 Q1092.2656,313.8019 1093.3594,313.1925 Q1094.4531,312.5675 1095.6875,312.5675 Q1096.4219,312.5675 1097.0625,312.7394 Q1097.7188,312.8956 1098.2656,313.255 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1109.5" y="322.2902">Repository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1081.5" x2="1170.5" y1="333.38" y2="333.38"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1081.5" x2="1170.5" y1="341.38" y2="341.38"/><!--class AlgorithmRunsRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="200.1953" id="AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="686" x="1239" y="505.48"/><ellipse cx="1507.25" cy="521.48" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1510.0156,517.355 Q1510.1719,517.1363 1510.3594,517.0269 Q1510.5469,516.9175 1510.7656,516.9175 Q1511.1406,516.9175 1511.375,517.1831 Q1511.6094,517.4331 1511.6094,518.0425 L1511.6094,519.4956 Q1511.6094,520.105 1511.375,520.3706 Q1511.1406,520.6363 1510.7656,520.6363 Q1510.4219,520.6363 1510.2188,520.4331 Q1510.0156,520.2456 1509.9063,519.73 Q1509.8594,519.3706 1509.6719,519.1831 Q1509.3438,518.8081 1508.7344,518.5894 Q1508.125,518.3706 1507.5,518.3706 Q1506.7344,518.3706 1506.0938,518.6988 Q1505.4688,519.0269 1504.9688,519.7769 Q1504.4844,520.5269 1504.4844,521.5581 L1504.4844,522.6519 Q1504.4844,523.8863 1505.375,524.7144 Q1506.2656,525.5269 1507.8594,525.5269 Q1508.7969,525.5269 1509.4531,525.2769 Q1509.8438,525.1206 1510.2656,524.6831 Q1510.5313,524.4175 1510.6719,524.3394 Q1510.8281,524.2613 1511.0313,524.2613 Q1511.3594,524.2613 1511.6094,524.5269 Q1511.875,524.7769 1511.875,525.1206 Q1511.875,525.4644 1511.5313,525.8706 Q1511.0313,526.4488 1510.2344,526.7769 Q1509.1563,527.23 1507.8594,527.23 Q1506.3438,527.23 1505.1406,526.605 Q1504.1563,526.105 1503.4688,525.0425 Q1502.7813,523.9644 1502.7813,522.6831 L1502.7813,521.5269 Q1502.7813,520.1988 1503.3906,519.0581 Q1504.0156,517.9019 1505.1094,517.2925 Q1506.2031,516.6675 1507.4375,516.6675 Q1508.1719,516.6675 1508.8125,516.8394 Q1509.4688,516.9956 1510.0156,517.355 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="1527.75" y="526.3902">AlgorithmRunsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1240" x2="1924" y1="537.48" y2="537.48"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1240" x2="1924" y1="545.48" y2="545.48"/><ellipse cx="1250" cy="557.898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="440" x="1259" y="560.8989">runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="571.7339" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="1259" y="574.7349">saveProgress(id: number, state: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="585.5698" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1259" y="588.5708">loadProgress(id: number): Promise&lt;any&gt;</text><ellipse cx="1250" cy="599.4058" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="1259" y="602.4068">stopOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="613.2417" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1259" y="616.2427">resumeOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="627.0777" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1259" y="630.0786">finishOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="640.9136" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="1259" y="643.9146">storeError(id: number, error: Error): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1250" cy="654.7495" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="1259" y="657.7505">findManyByAlgorithm(algorithmName: string): Promise&lt;AlgorithmRun[]&gt;</text><ellipse cx="1250" cy="668.5855" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="660" x="1259" y="671.5864">findManyByAlgorithmPaginated(algorithmName: string, pagination: PaginationOptions): Promise&lt;{ items: AlgorithmRun[]; pagination: any; }&gt;</text><ellipse cx="1250" cy="682.4214" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1259" y="685.4224">findAllUnfinished(): Promise&lt;AlgorithmRun[]&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1247" y="693.2573"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1259" y="699.2583">errorToJSON(error: Error): {}</text><!--class IOrdersRepositoryHooks--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="61.8359" id="IOrdersRepositoryHooks" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="222" y="841.24"/><ellipse cx="297.75" cy="857.24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M298.7031,853.8806 L298.7031,860.5369 L300.4219,860.5369 Q301.0313,860.5369 301.2969,860.7713 Q301.5625,861.0056 301.5625,861.3963 Q301.5625,861.7713 301.2969,862.0056 Q301.0313,862.24 300.4219,862.24 L295.2813,862.24 Q294.6719,862.24 294.4063,862.0056 Q294.1406,861.7713 294.1406,861.3806 Q294.1406,861.0056 294.4063,860.7713 Q294.6719,860.5369 295.2813,860.5369 L297,860.5369 L297,853.8806 L295.2813,853.8806 Q294.6719,853.8806 294.4063,853.6463 Q294.1406,853.4119 294.1406,853.0213 Q294.1406,852.6463 294.4063,852.4119 Q294.6719,852.1775 295.2813,852.1775 L300.4219,852.1775 Q301.0313,852.1775 301.2969,852.4119 Q301.5625,852.6463 301.5625,853.0213 Q301.5625,853.4119 301.2969,853.6463 Q301.0313,853.8806 300.4219,853.8806 L298.7031,853.8806 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="136" x="318.25" y="862.1502">IOrdersRepositoryHooks</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="517" y1="873.24" y2="873.24"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="223" x2="517" y1="881.24" y2="881.24"/><ellipse cx="233" cy="893.658" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="270" x="242" y="896.6589">beforeSaveOne: (ticker: string) =&gt; MaybePromise&lt;void&gt;</text><!--class OrdersRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="89.5078" id="OrdersRepository" style="stroke: #A80036; stroke-width: 1.5;" width="680" x="30" y="560.98"/><ellipse cx="317.25" cy="576.98" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M320.0156,572.855 Q320.1719,572.6363 320.3594,572.5269 Q320.5469,572.4175 320.7656,572.4175 Q321.1406,572.4175 321.375,572.6831 Q321.6094,572.9331 321.6094,573.5425 L321.6094,574.9956 Q321.6094,575.605 321.375,575.8706 Q321.1406,576.1363 320.7656,576.1363 Q320.4219,576.1363 320.2188,575.9331 Q320.0156,575.7456 319.9063,575.23 Q319.8594,574.8706 319.6719,574.6831 Q319.3438,574.3081 318.7344,574.0894 Q318.125,573.8706 317.5,573.8706 Q316.7344,573.8706 316.0938,574.1988 Q315.4688,574.5269 314.9688,575.2769 Q314.4844,576.0269 314.4844,577.0581 L314.4844,578.1519 Q314.4844,579.3863 315.375,580.2144 Q316.2656,581.0269 317.8594,581.0269 Q318.7969,581.0269 319.4531,580.7769 Q319.8438,580.6206 320.2656,580.1831 Q320.5313,579.9175 320.6719,579.8394 Q320.8281,579.7613 321.0313,579.7613 Q321.3594,579.7613 321.6094,580.0269 Q321.875,580.2769 321.875,580.6206 Q321.875,580.9644 321.5313,581.3706 Q321.0313,581.9488 320.2344,582.2769 Q319.1563,582.73 317.8594,582.73 Q316.3438,582.73 315.1406,582.105 Q314.1563,581.605 313.4688,580.5425 Q312.7813,579.4644 312.7813,578.1831 L312.7813,577.0269 Q312.7813,575.6988 313.3906,574.5581 Q314.0156,573.4019 315.1094,572.7925 Q316.2031,572.1675 317.4375,572.1675 Q318.1719,572.1675 318.8125,572.3394 Q319.4688,572.4956 320.0156,572.855 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="337.75" y="581.8902">OrdersRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="709" y1="592.98" y2="592.98"/><ellipse cx="41" cy="605.398" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="50" y="608.3989">hooks: Hookable&lt;IOrdersRepositoryHooks, "beforeSaveOne"&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="709" y1="614.8159" y2="614.8159"/><ellipse cx="41" cy="627.2339" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="654" x="50" y="630.2349">saveOne(order: GetOrderType&lt;CommonDomain&gt;, operation: OperationType, runId: number): Promise&lt;GetOrderType&lt;CommonDomain&gt;&gt;</text><ellipse cx="41" cy="641.0698" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="50" y="644.0708">search(options: GetOrdersOptions): Promise&lt;GetOrderType&lt;CommonDomain&gt;[]&gt;</text><!--class IPersistentStorage--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="117.1797" id="IPersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="1024.5" y="28.28"/><ellipse cx="1118.25" cy="44.28" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1119.2031,40.9206 L1119.2031,47.5769 L1120.9219,47.5769 Q1121.5313,47.5769 1121.7969,47.8112 Q1122.0625,48.0456 1122.0625,48.4362 Q1122.0625,48.8112 1121.7969,49.0456 Q1121.5313,49.28 1120.9219,49.28 L1115.7813,49.28 Q1115.1719,49.28 1114.9063,49.0456 Q1114.6406,48.8112 1114.6406,48.4206 Q1114.6406,48.0456 1114.9063,47.8112 Q1115.1719,47.5769 1115.7813,47.5769 L1117.5,47.5769 L1117.5,40.9206 L1115.7813,40.9206 Q1115.1719,40.9206 1114.9063,40.6862 Q1114.6406,40.4519 1114.6406,40.0612 Q1114.6406,39.6862 1114.9063,39.4519 Q1115.1719,39.2175 1115.7813,39.2175 L1120.9219,39.2175 Q1121.5313,39.2175 1121.7969,39.4519 Q1122.0625,39.6862 1122.0625,40.0612 Q1122.0625,40.4519 1121.7969,40.6862 Q1121.5313,40.9206 1120.9219,40.9206 L1119.2031,40.9206 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="1138.75" y="49.1902">IPersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1025.5" x2="1320.5" y1="60.28" y2="60.28"/><ellipse cx="1035.5" cy="72.698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1044.5" y="75.6989">orders: OrdersRepository</text><ellipse cx="1035.5" cy="86.5339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1044.5" y="89.5349">algorithms: AlgorithmsRepository</text><ellipse cx="1035.5" cy="100.3698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1044.5" y="103.3708">algorithmRuns: AlgorithmRunsRepository</text><ellipse cx="1035.5" cy="114.2058" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1044.5" y="117.2068">isInitialized: boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1025.5" x2="1320.5" y1="123.6237" y2="123.6237"/><ellipse cx="1035.5" cy="136.0417" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="1044.5" y="139.0427">initialize(loggerService?: LoggerService): Promise&lt;void&gt;</text><!--class PersistentStorage--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="186.3594" id="PersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="676.5" y="232.2"/><ellipse cx="771.25" cy="248.2" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M774.0156,244.075 Q774.1719,243.8563 774.3594,243.7469 Q774.5469,243.6375 774.7656,243.6375 Q775.1406,243.6375 775.375,243.9031 Q775.6094,244.1531 775.6094,244.7625 L775.6094,246.2156 Q775.6094,246.825 775.375,247.0906 Q775.1406,247.3563 774.7656,247.3563 Q774.4219,247.3563 774.2188,247.1531 Q774.0156,246.9656 773.9063,246.45 Q773.8594,246.0906 773.6719,245.9031 Q773.3438,245.5281 772.7344,245.3094 Q772.125,245.0906 771.5,245.0906 Q770.7344,245.0906 770.0938,245.4188 Q769.4688,245.7469 768.9688,246.4969 Q768.4844,247.2469 768.4844,248.2781 L768.4844,249.3719 Q768.4844,250.6063 769.375,251.4344 Q770.2656,252.2469 771.8594,252.2469 Q772.7969,252.2469 773.4531,251.9969 Q773.8438,251.8406 774.2656,251.4031 Q774.5313,251.1375 774.6719,251.0594 Q774.8281,250.9813 775.0313,250.9813 Q775.3594,250.9813 775.6094,251.2469 Q775.875,251.4969 775.875,251.8406 Q775.875,252.1844 775.5313,252.5906 Q775.0313,253.1688 774.2344,253.4969 Q773.1563,253.95 771.8594,253.95 Q770.3438,253.95 769.1406,253.325 Q768.1563,252.825 767.4688,251.7625 Q766.7813,250.6844 766.7813,249.4031 L766.7813,248.2469 Q766.7813,246.9188 767.3906,245.7781 Q768.0156,244.6219 769.1094,244.0125 Q770.2031,243.3875 771.4375,243.3875 Q772.1719,243.3875 772.8125,243.5594 Q773.4688,243.7156 774.0156,244.075 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="791.75" y="253.1102">PersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="677.5" x2="972.5" y1="264.2" y2="264.2"/><ellipse cx="687.5" cy="276.618" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="696.5" y="279.6189">isInitialized: boolean</text><ellipse cx="687.5" cy="290.4539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="696.5" y="293.4549">orders: OrdersRepository</text><ellipse cx="687.5" cy="304.2898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="696.5" y="307.2908">algorithms: AlgorithmsRepository</text><ellipse cx="687.5" cy="318.1258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="696.5" y="321.1268">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="684.5" y="328.9617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="696.5" y="334.9627">_orders: OrdersRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="684.5" y="342.7977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="696.5" y="348.7986">_algorithms: AlgorithmsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="684.5" y="356.6336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="696.5" y="362.6346">_algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="684.5" y="370.4695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="696.5" y="376.4705">id: string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="684.5" y="384.3055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="696.5" y="390.3064">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="677.5" x2="972.5" y1="396.7234" y2="396.7234"/><ellipse cx="687.5" cy="409.1414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="696.5" y="412.1424">initialize(loggerService?: LoggerService): Promise&lt;void&gt;</text><!--class SecuritiesRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="131.0156" id="SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="315" x="1637.5" y="1038"/><ellipse cx="1733.75" cy="1054" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1736.5156,1049.875 Q1736.6719,1049.6563 1736.8594,1049.5469 Q1737.0469,1049.4375 1737.2656,1049.4375 Q1737.6406,1049.4375 1737.875,1049.7031 Q1738.1094,1049.9531 1738.1094,1050.5625 L1738.1094,1052.0156 Q1738.1094,1052.625 1737.875,1052.8906 Q1737.6406,1053.1563 1737.2656,1053.1563 Q1736.9219,1053.1563 1736.7188,1052.9531 Q1736.5156,1052.7656 1736.4063,1052.25 Q1736.3594,1051.8906 1736.1719,1051.7031 Q1735.8438,1051.3281 1735.2344,1051.1094 Q1734.625,1050.8906 1734,1050.8906 Q1733.2344,1050.8906 1732.5938,1051.2188 Q1731.9688,1051.5469 1731.4688,1052.2969 Q1730.9844,1053.0469 1730.9844,1054.0781 L1730.9844,1055.1719 Q1730.9844,1056.4063 1731.875,1057.2344 Q1732.7656,1058.0469 1734.3594,1058.0469 Q1735.2969,1058.0469 1735.9531,1057.7969 Q1736.3438,1057.6406 1736.7656,1057.2031 Q1737.0313,1056.9375 1737.1719,1056.8594 Q1737.3281,1056.7813 1737.5313,1056.7813 Q1737.8594,1056.7813 1738.1094,1057.0469 Q1738.375,1057.2969 1738.375,1057.6406 Q1738.375,1057.9844 1738.0313,1058.3906 Q1737.5313,1058.9688 1736.7344,1059.2969 Q1735.6563,1059.75 1734.3594,1059.75 Q1732.8438,1059.75 1731.6406,1059.125 Q1730.6563,1058.625 1729.9688,1057.5625 Q1729.2813,1056.4844 1729.2813,1055.2031 L1729.2813,1054.0469 Q1729.2813,1052.7188 1729.8906,1051.5781 Q1730.5156,1050.4219 1731.6094,1049.8125 Q1732.7031,1049.1875 1733.9375,1049.1875 Q1734.6719,1049.1875 1735.3125,1049.3594 Q1735.9688,1049.5156 1736.5156,1049.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="1754.25" y="1058.9102">SecuritiesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1638.5" x2="1951.5" y1="1070" y2="1070"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1638.5" x2="1951.5" y1="1078" y2="1078"/><ellipse cx="1648.5" cy="1090.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="1657.5" y="1093.4189">findByTicker(securityTicker: string): Promise&lt;Security&gt;</text><ellipse cx="1648.5" cy="1104.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="1657.5" y="1107.2549">findByTickers(securityTickers: string[]): Promise&lt;Security[]&gt;</text><ellipse cx="1648.5" cy="1118.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1657.5" y="1121.0908">findAllFollowed(): Promise&lt;Security[]&gt;</text><ellipse cx="1648.5" cy="1131.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="1657.5" y="1134.9268">follow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="1648.5" cy="1145.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1657.5" y="1148.7627">unfollow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="1648.5" cy="1159.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="1657.5" y="1162.5986">updateAll(securities: Security[]): Promise&lt;void&gt;</text><!--class PortfolioRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="89.5078" id="PortfolioRepository" style="stroke: #A80036; stroke-width: 1.5;" width="385" x="2035.5" y="1059"/><ellipse cx="2171.75" cy="1075" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2174.5156,1070.875 Q2174.6719,1070.6563 2174.8594,1070.5469 Q2175.0469,1070.4375 2175.2656,1070.4375 Q2175.6406,1070.4375 2175.875,1070.7031 Q2176.1094,1070.9531 2176.1094,1071.5625 L2176.1094,1073.0156 Q2176.1094,1073.625 2175.875,1073.8906 Q2175.6406,1074.1563 2175.2656,1074.1563 Q2174.9219,1074.1563 2174.7188,1073.9531 Q2174.5156,1073.7656 2174.4063,1073.25 Q2174.3594,1072.8906 2174.1719,1072.7031 Q2173.8438,1072.3281 2173.2344,1072.1094 Q2172.625,1071.8906 2172,1071.8906 Q2171.2344,1071.8906 2170.5938,1072.2188 Q2169.9688,1072.5469 2169.4688,1073.2969 Q2168.9844,1074.0469 2168.9844,1075.0781 L2168.9844,1076.1719 Q2168.9844,1077.4063 2169.875,1078.2344 Q2170.7656,1079.0469 2172.3594,1079.0469 Q2173.2969,1079.0469 2173.9531,1078.7969 Q2174.3438,1078.6406 2174.7656,1078.2031 Q2175.0313,1077.9375 2175.1719,1077.8594 Q2175.3281,1077.7813 2175.5313,1077.7813 Q2175.8594,1077.7813 2176.1094,1078.0469 Q2176.375,1078.2969 2176.375,1078.6406 Q2176.375,1078.9844 2176.0313,1079.3906 Q2175.5313,1079.9688 2174.7344,1080.2969 Q2173.6563,1080.75 2172.3594,1080.75 Q2170.8438,1080.75 2169.6406,1080.125 Q2168.6563,1079.625 2167.9688,1078.5625 Q2167.2813,1077.4844 2167.2813,1076.2031 L2167.2813,1075.0469 Q2167.2813,1073.7188 2167.8906,1072.5781 Q2168.5156,1071.4219 2169.6094,1070.8125 Q2170.7031,1070.1875 2171.9375,1070.1875 Q2172.6719,1070.1875 2173.3125,1070.3594 Q2173.9688,1070.5156 2174.5156,1070.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="2192.25" y="1079.9102">PortfolioRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2036.5" x2="2419.5" y1="1091" y2="1091"/><ellipse cx="2046.5" cy="1103.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="2055.5" y="1106.4189">securities: Repository&lt;SecurityBalance&gt;</text><ellipse cx="2046.5" cy="1117.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="2055.5" y="1120.2549">currencies: Repository&lt;CurrencyBalance&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2036.5" x2="2419.5" y1="1126.6719" y2="1126.6719"/><ellipse cx="2046.5" cy="1139.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="2055.5" y="1142.0908">findPositions(options?: FindManyOptions&lt;AssetBalance&gt;): Promise&lt;any[]&gt;</text><!--class CurrenciesRepository--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="75.6719" id="CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="1253.5" y="1066"/><ellipse cx="1339.75" cy="1082" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1342.5156,1077.875 Q1342.6719,1077.6563 1342.8594,1077.5469 Q1343.0469,1077.4375 1343.2656,1077.4375 Q1343.6406,1077.4375 1343.875,1077.7031 Q1344.1094,1077.9531 1344.1094,1078.5625 L1344.1094,1080.0156 Q1344.1094,1080.625 1343.875,1080.8906 Q1343.6406,1081.1563 1343.2656,1081.1563 Q1342.9219,1081.1563 1342.7188,1080.9531 Q1342.5156,1080.7656 1342.4063,1080.25 Q1342.3594,1079.8906 1342.1719,1079.7031 Q1341.8438,1079.3281 1341.2344,1079.1094 Q1340.625,1078.8906 1340,1078.8906 Q1339.2344,1078.8906 1338.5938,1079.2188 Q1337.9688,1079.5469 1337.4688,1080.2969 Q1336.9844,1081.0469 1336.9844,1082.0781 L1336.9844,1083.1719 Q1336.9844,1084.4063 1337.875,1085.2344 Q1338.7656,1086.0469 1340.3594,1086.0469 Q1341.2969,1086.0469 1341.9531,1085.7969 Q1342.3438,1085.6406 1342.7656,1085.2031 Q1343.0313,1084.9375 1343.1719,1084.8594 Q1343.3281,1084.7813 1343.5313,1084.7813 Q1343.8594,1084.7813 1344.1094,1085.0469 Q1344.375,1085.2969 1344.375,1085.6406 Q1344.375,1085.9844 1344.0313,1086.3906 Q1343.5313,1086.9688 1342.7344,1087.2969 Q1341.6563,1087.75 1340.3594,1087.75 Q1338.8438,1087.75 1337.6406,1087.125 Q1336.6563,1086.625 1335.9688,1085.5625 Q1335.2813,1084.4844 1335.2813,1083.2031 L1335.2813,1082.0469 Q1335.2813,1080.7188 1335.8906,1079.5781 Q1336.5156,1078.4219 1337.6094,1077.8125 Q1338.7031,1077.1875 1339.9375,1077.1875 Q1340.6719,1077.1875 1341.3125,1077.3594 Q1341.9688,1077.5156 1342.5156,1077.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="1360.25" y="1086.9102">CurrenciesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1254.5" x2="1553.5" y1="1098" y2="1098"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1254.5" x2="1553.5" y1="1106" y2="1106"/><ellipse cx="1264.5" cy="1118.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="1273.5" y="1121.4189">findByTicker(currencyTicker: string): Promise&lt;Currency&gt;</text><ellipse cx="1264.5" cy="1132.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="1273.5" y="1135.2549">updateAll(currencies: Currency[]): Promise&lt;void&gt;</text><!--class IInMemoryStorage--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="117.1797" id="IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="2079.5" y="546.98"/><ellipse cx="2172.75" cy="562.98" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2173.7031,559.6206 L2173.7031,566.2769 L2175.4219,566.2769 Q2176.0313,566.2769 2176.2969,566.5113 Q2176.5625,566.7456 2176.5625,567.1363 Q2176.5625,567.5113 2176.2969,567.7456 Q2176.0313,567.98 2175.4219,567.98 L2170.2813,567.98 Q2169.6719,567.98 2169.4063,567.7456 Q2169.1406,567.5113 2169.1406,567.1206 Q2169.1406,566.7456 2169.4063,566.5113 Q2169.6719,566.2769 2170.2813,566.2769 L2172,566.2769 L2172,559.6206 L2170.2813,559.6206 Q2169.6719,559.6206 2169.4063,559.3863 Q2169.1406,559.1519 2169.1406,558.7613 Q2169.1406,558.3863 2169.4063,558.1519 Q2169.6719,557.9175 2170.2813,557.9175 L2175.4219,557.9175 Q2176.0313,557.9175 2176.2969,558.1519 Q2176.5625,558.3863 2176.5625,558.7613 Q2176.5625,559.1519 2176.2969,559.3863 Q2176.0313,559.6206 2175.4219,559.6206 L2173.7031,559.6206 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="2193.25" y="567.8902">IInMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2080.5" x2="2375.5" y1="578.98" y2="578.98"/><ellipse cx="2090.5" cy="591.398" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2099.5" y="594.3989">securities: SecuritiesRepository</text><ellipse cx="2090.5" cy="605.2339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="2099.5" y="608.2349">portfolio: PortfolioRepository</text><ellipse cx="2090.5" cy="619.0698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="2099.5" y="622.0708">currencies: CurrenciesRepository</text><ellipse cx="2090.5" cy="632.9058" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="2099.5" y="635.9068">isInitialized: boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2080.5" x2="2375.5" y1="642.3238" y2="642.3238"/><ellipse cx="2090.5" cy="654.7417" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="2099.5" y="657.7427">initialize(loggerService?: LoggerService): Promise&lt;void&gt;</text><!--class InMemoryStorage--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="172.5234" id="InMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="1599.5" y="785.48"/><ellipse cx="1695.75" cy="801.48" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1698.5156,797.355 Q1698.6719,797.1363 1698.8594,797.0269 Q1699.0469,796.9175 1699.2656,796.9175 Q1699.6406,796.9175 1699.875,797.1831 Q1700.1094,797.4331 1700.1094,798.0425 L1700.1094,799.4956 Q1700.1094,800.105 1699.875,800.3706 Q1699.6406,800.6363 1699.2656,800.6363 Q1698.9219,800.6363 1698.7188,800.4331 Q1698.5156,800.2456 1698.4063,799.73 Q1698.3594,799.3706 1698.1719,799.1831 Q1697.8438,798.8081 1697.2344,798.5894 Q1696.625,798.3706 1696,798.3706 Q1695.2344,798.3706 1694.5938,798.6988 Q1693.9688,799.0269 1693.4688,799.7769 Q1692.9844,800.5269 1692.9844,801.5581 L1692.9844,802.6519 Q1692.9844,803.8863 1693.875,804.7144 Q1694.7656,805.5269 1696.3594,805.5269 Q1697.2969,805.5269 1697.9531,805.2769 Q1698.3438,805.1206 1698.7656,804.6831 Q1699.0313,804.4175 1699.1719,804.3394 Q1699.3281,804.2613 1699.5313,804.2613 Q1699.8594,804.2613 1700.1094,804.5269 Q1700.375,804.7769 1700.375,805.1206 Q1700.375,805.4644 1700.0313,805.8706 Q1699.5313,806.4488 1698.7344,806.7769 Q1697.6563,807.23 1696.3594,807.23 Q1694.8438,807.23 1693.6406,806.605 Q1692.6563,806.105 1691.9688,805.0425 Q1691.2813,803.9644 1691.2813,802.6831 L1691.2813,801.5269 Q1691.2813,800.1988 1691.8906,799.0581 Q1692.5156,797.9019 1693.6094,797.2925 Q1694.7031,796.6675 1695.9375,796.6675 Q1696.6719,796.6675 1697.3125,796.8394 Q1697.9688,796.9956 1698.5156,797.355 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="1716.25" y="806.3902">InMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1600.5" x2="1895.5" y1="817.48" y2="817.48"/><ellipse cx="1610.5" cy="829.898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1619.5" y="832.8989">isInitialized: boolean</text><ellipse cx="1610.5" cy="843.7339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1619.5" y="846.7349">securities: SecuritiesRepository</text><ellipse cx="1610.5" cy="857.5698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1619.5" y="860.5708">currencies: CurrenciesRepository</text><ellipse cx="1610.5" cy="871.4058" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1619.5" y="874.4068">portfolio: PortfolioRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1607.5" y="882.2417"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="1619.5" y="888.2427">_securities: SecuritiesRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1607.5" y="896.0777"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1619.5" y="902.0786">_portfolio: PortfolioRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1607.5" y="909.9136"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1619.5" y="915.9146">_currencies: CurrenciesRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1607.5" y="923.7495"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="1619.5" y="929.7505">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1600.5" x2="1895.5" y1="936.1675" y2="936.1675"/><ellipse cx="1610.5" cy="948.5855" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="1619.5" y="951.5864">initialize(loggerService?: LoggerService): Promise&lt;void&gt;</text><!--class UnitedStorage--><rect fill="#FEFECE" filter="url(#f16ancgsboqluv)" height="200.1953" id="UnitedStorage" style="stroke: #A80036; stroke-width: 1.5;" width="297" x="1581.5" y="225.28"/><ellipse cx="1686.25" cy="241.28" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1689.0156,237.155 Q1689.1719,236.9362 1689.3594,236.8269 Q1689.5469,236.7175 1689.7656,236.7175 Q1690.1406,236.7175 1690.375,236.9831 Q1690.6094,237.2331 1690.6094,237.8425 L1690.6094,239.2956 Q1690.6094,239.905 1690.375,240.1706 Q1690.1406,240.4362 1689.7656,240.4362 Q1689.4219,240.4362 1689.2188,240.2331 Q1689.0156,240.0456 1688.9063,239.53 Q1688.8594,239.1706 1688.6719,238.9831 Q1688.3438,238.6081 1687.7344,238.3894 Q1687.125,238.1706 1686.5,238.1706 Q1685.7344,238.1706 1685.0938,238.4987 Q1684.4688,238.8269 1683.9688,239.5769 Q1683.4844,240.3269 1683.4844,241.3581 L1683.4844,242.4519 Q1683.4844,243.6862 1684.375,244.5144 Q1685.2656,245.3269 1686.8594,245.3269 Q1687.7969,245.3269 1688.4531,245.0769 Q1688.8438,244.9206 1689.2656,244.4831 Q1689.5313,244.2175 1689.6719,244.1394 Q1689.8281,244.0612 1690.0313,244.0612 Q1690.3594,244.0612 1690.6094,244.3269 Q1690.875,244.5769 1690.875,244.9206 Q1690.875,245.2644 1690.5313,245.6706 Q1690.0313,246.2487 1689.2344,246.5769 Q1688.1563,247.03 1686.8594,247.03 Q1685.3438,247.03 1684.1406,246.405 Q1683.1563,245.905 1682.4688,244.8425 Q1681.7813,243.7644 1681.7813,242.4831 L1681.7813,241.3269 Q1681.7813,239.9987 1682.3906,238.8581 Q1683.0156,237.7019 1684.1094,237.0925 Q1685.2031,236.4675 1686.4375,236.4675 Q1687.1719,236.4675 1687.8125,236.6394 Q1688.4688,236.7956 1689.0156,237.155 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="1706.75" y="246.1902">UnitedStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1582.5" x2="1877.5" y1="257.28" y2="257.28"/><ellipse cx="1592.5" cy="269.698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1601.5" y="272.6989">isInitialized: boolean</text><ellipse cx="1592.5" cy="283.5339" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1601.5" y="286.5349">currencies: CurrenciesRepository</text><ellipse cx="1592.5" cy="297.3698" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1601.5" y="300.3708">portfolio: PortfolioRepository</text><ellipse cx="1592.5" cy="311.2058" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1601.5" y="314.2068">securities: SecuritiesRepository</text><ellipse cx="1592.5" cy="325.0417" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1601.5" y="328.0427">orders: OrdersRepository</text><ellipse cx="1592.5" cy="338.8777" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1601.5" y="341.8786">algorithms: AlgorithmsRepository</text><ellipse cx="1592.5" cy="352.7136" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1601.5" y="355.7146">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1589.5" y="363.5495"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1601.5" y="369.5505">_persistent: IPersistentStorage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1589.5" y="377.3855"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1601.5" y="383.3864">_memory: IInMemoryStorage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1589.5" y="391.2214"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="1601.5" y="397.2224">id: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1582.5" x2="1877.5" y1="403.6394" y2="403.6394"/><ellipse cx="1592.5" cy="416.0573" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="1601.5" y="419.0583">initialize(loggerService?: LoggerService): Promise&lt;void&gt;</text><!--link Repository to AlgorithmsRepository--><path d="M1098.59,366.73 C1085.48,385.19 1069.14,407.02 1053,425.48 C1024.98,457.52 936.22,541 892.63,581.61 " fill="none" id="Repository-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1093.33,363.05,1110.51,350.64,1104.81,371.05,1093.33,363.05" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to AlgorithmRunsRepository--><path d="M1182.31,360.72 C1241.36,396.73 1336.9,455 1419.76,505.53 " fill="none" id="Repository-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1178.92,366.24,1165.49,349.85,1186.21,354.29,1178.92,366.24" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to OrdersRepository--><path d="M1084.83,363.18 C1059.39,384.18 1025.16,409.43 991,425.48 C891.48,472.22 856.85,455.74 751,485.48 C667.94,508.81 575.56,537.59 502.56,561.01 " fill="none" id="Repository-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1079.79,357.43,1099.56,349.81,1088.86,368.1,1079.79,357.43" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to PersistentStorage--><path d="M1071.68,156.67 C1037.12,180.16 997.9,206.83 961.06,231.87 " fill="none" id="IPersistentStorage-PersistentStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1067.28,150.51,1087.76,145.05,1075.16,162.09,1067.28,150.51" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to SecuritiesRepository--><path d="M1114.13,370.02 C1095.63,447.73 1068.59,612.54 1136,725.48 C1193.93,822.53 1470,958.75 1645.93,1038.11 " fill="none" id="Repository-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1107.58,368.36,1119.26,350.68,1121.15,371.79,1107.58,368.36" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to PortfolioRepository--><path d="M1130.83,370.61 C1142.04,469.5 1170.88,701.67 1197,725.48 C1315.17,833.18 1769.12,717.83 1914,785.48 C2045.26,846.76 2152.3,987.67 2200.47,1059.18 " fill="none" id="Repository-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1123.77,371.49,1128.51,350.84,1137.68,369.94,1123.77,371.49" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to CurrenciesRepository--><path d="M1105.01,368.41 C1090.56,399.79 1072.64,444.2 1065,485.48 C1045.58,590.36 1026.81,625.88 1065,725.48 C1123.15,877.11 1273.56,1006.01 1353.05,1066.18 " fill="none" id="Repository-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1098.94,365.88,1113.86,350.84,1111.57,371.9,1098.94,365.88" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IInMemoryStorage to InMemoryStorage--><path d="M2116.12,674.6 C2087.57,691.55 2056.81,709.45 2028,725.48 C1985.77,748.97 1939.38,773.53 1896.71,795.63 " fill="none" id="IInMemoryStorage-InMemoryStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2112.28,668.14,2133.04,663.91,2119.45,680.17,2112.28,668.14" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to UnitedStorage--><path d="M1327.45,153.39 C1406.76,187.08 1502.95,227.94 1581.41,261.26 " fill="none" id="IPersistentStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1324.86,159.47,1309.19,145.21,1330.33,146.58,1324.86,159.47" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IPersistentStorage--><path d="M1581.41,261.26 C1498.31,225.96 1395.31,182.21 1313.54,147.48 " fill="none" id="UnitedStorage-IPersistentStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1309.19,145.21,1315.9056,152.4142,1313.7909,147.1675,1319.0376,145.0528,1309.19,145.21" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1329.9972" y="153.7555">1</text><!--link IInMemoryStorage to UnitedStorage--><path d="M2115.77,536.46 C2087.29,519.54 2056.64,501.63 2028,485.48 C1979.86,458.32 1926.77,429.6 1878.9,404.14 " fill="none" id="IInMemoryStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2119.06,530.87,2132.66,547.12,2111.89,542.9,2119.06,530.87" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IInMemoryStorage--><path d="M1878.9,404.14 C1926.77,429.6 1979.86,458.32 2028,485.48 C2060.99,504.08 2096.63,525.02 2128.56,544.08 " fill="none" id="UnitedStorage-IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2132.66,547.12,2126.9808,539.0735,2128.3662,544.5581,2122.8817,545.9435,2132.66,547.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2114.1243" y="536.1238">1</text><!--link OrdersRepository to IOrdersRepositoryHooks--><path d="M370,649.82 C370,701.63 370,787.35 370,835.36 " fill="none" id="OrdersRepository-IOrdersRepositoryHooks" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="370,840.31,374,831.31,370,835.31,366,831.31,370,840.31" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="362.2344" y="830.3456">1</text><!--link IPersistentStorage to OrdersRepository--><path d="M1042.13,145.21 C1022.54,152.62 1002.4,159.59 983,165.28 C842.47,206.48 783.75,148.57 659,225.28 C526.36,306.85 432.6,473.3 392.21,555.84 " fill="none" id="IPersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="389.62,560.15,397.1502,553.802,391.8045,555.6525,389.9541,550.3068,389.62,560.15" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="385.2899" y="549.965">1</text><!--link IPersistentStorage to AlgorithmsRepository--><path d="M1120.25,144.95 C1100.4,168.57 1078.82,197 1063,225.28 C1016.84,307.8 1034.13,341.33 991,425.48 C961.62,482.8 916.68,543.33 890.03,577.26 " fill="none" id="IPersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="886.55,580.66,895.2652,576.0726,889.6473,576.7349,888.985,571.1169,886.55,580.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="883.5947" y="570.6507">1</text><!--link IPersistentStorage to AlgorithmRunsRepository--><path d="M1218.33,145.05 C1286.34,230.96 1415.8,394.51 1500.49,501.5 " fill="none" id="IPersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1503.98,504.91,1501.5281,495.3712,1500.8758,500.9904,1495.2566,500.338,1503.98,504.91" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1490.2291" y="494.5034">1</text><!--link PersistentStorage to OrdersRepository--><path d="M676.02,417.44 C599.1,464.45 508.54,519.8 445.99,558.03 " fill="none" id="PersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="442.16,560.98,451.9245,559.6935,446.4246,558.3699,447.7483,552.87,442.16,560.98" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="444.9433" y="550.0955">1</text><!--link PersistentStorage to AlgorithmsRepository--><path d="M839.32,418.98 C847.78,473.72 857.93,539.32 863.6,576.01 " fill="none" id="PersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="864.47,580.65,867.0612,571.1481,863.7129,575.7076,859.1534,572.3594,864.47,580.65" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="855.5807" y="570.638">1</text><!--link PersistentStorage to AlgorithmRunsRepository--><path d="M973.92,390.06 C1003.32,402.15 1034.03,414.46 1063,425.48 C1132.57,451.93 1207.99,478.9 1279.22,503.61 " fill="none" id="PersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1283.78,505.54,1276.5912,498.8079,1279.0569,503.8991,1273.9657,506.3648,1283.78,505.54" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1254.7561" y="494.7769">1</text><!--link IInMemoryStorage to SecuritiesRepository--><path d="M2177.91,663.86 C2097.73,755.7 1940.89,935.37 1854.91,1033.87 " fill="none" id="IInMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1851.12,1037.21,1860.0479,1033.0516,1854.4044,1033.44,1854.016,1027.7965,1851.12,1037.21" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1850.2042" y="1027.2504">1</text><!--link IInMemoryStorage to PortfolioRepository--><path d="M2228,663.86 C2228,762.05 2228,960.64 2228,1053.08 " fill="none" id="IInMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2228,1058.01,2232,1049.01,2228,1053.01,2224,1049.01,2228,1058.01" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2220.4422" y="1048.1271">1</text><!--link IInMemoryStorage to CurrenciesRepository--><path d="M2148.48,663.87 C2113.19,686.61 2070.16,710.79 2028,725.48 C1839.13,791.28 1747.47,673.13 1582,785.48 C1484.22,851.86 1434.25,990.73 1414.46,1060.54 " fill="none" id="IInMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1412.87,1065.26,1419.141,1057.6656,1414.2134,1060.4438,1411.4352,1055.5162,1412.87,1065.26" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1406.8937" y="1055.1007">1</text><!--link InMemoryStorage to SecuritiesRepository--><path d="M1765.5,958.29 C1770.48,982.64 1775.85,1008.87 1780.62,1032.2 " fill="none" id="InMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1781.82,1037.06,1783.9127,1027.436,1780.8065,1032.1638,1776.0787,1029.0576,1781.82,1037.06" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1772.8914" y="1027.083">1</text><!--link InMemoryStorage to CurrenciesRepository--><path d="M1619.91,958.29 C1566.2,994.17 1506.37,1034.13 1463.34,1062.87 " fill="none" id="InMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1459.44,1066.14,1469.1433,1064.4528,1463.5937,1063.3566,1464.6899,1057.807,1459.44,1066.14" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1460.8321" y="1055.2423">1</text><!--link InMemoryStorage to PortfolioRepository--><path d="M1896.8,944.92 C1906,949.35 1915.12,953.74 1924,958 C1993.04,991.13 2071.06,1028.21 2130.77,1056.51 " fill="none" id="InMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2135.12,1059.05,2128.6957,1051.5849,2130.6004,1056.9114,2125.2739,1058.8162,2135.12,1059.05" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2113.9188" y="1048.1734">1</text><!--link UnitedStorage to CurrenciesRepository--><path d="M1878.82,394.87 C1913.63,418.4 1946.28,448.39 1966,485.48 C2016.09,579.65 2036.97,645.85 1966,725.48 C1811.21,899.15 1611.88,622.36 1446,785.48 C1372.36,857.89 1383.56,992.46 1395.19,1060.62 " fill="none" id="UnitedStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1396.17,1065.2,1398.5688,1055.6477,1395.3133,1060.2739,1390.6871,1057.0185,1396.17,1065.2" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1387.0102" y="1055.0293">1</text><!--link UnitedStorage to PortfolioRepository--><path d="M1878.71,336.98 C2072.06,354.2 2393.65,395.82 2466,485.48 C2611.22,665.44 2380.61,944.16 2275.66,1054.84 " fill="none" id="UnitedStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2272.68,1058.03,2281.7916,1054.2911,2276.1361,1054.4168,2276.0104,1048.7613,2272.68,1058.03" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2271.0837" y="1048.1503">1</text><!--link UnitedStorage to SecuritiesRepository--><path d="M1878.86,339.49 C2060.59,358.93 2351.95,402.41 2418,485.48 C2484.39,568.97 2470.38,632.56 2418,725.48 C2365.15,819.24 2106.98,955.07 1940.01,1035.53 " fill="none" id="UnitedStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1935.6,1038.13,1945.4444,1037.8334,1940.1058,1035.9626,1941.9766,1030.6241,1935.6,1038.13" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1943.3366" y="1027.1611">1</text><!--link UnitedStorage to OrdersRepository--><path d="M1581.05,355.53 C1472.56,376.3 1321.94,404.21 1189,425.48 C994.98,456.52 942.77,442.71 751,485.48 C664.64,504.74 569.64,534.39 496.11,559.27 " fill="none" id="UnitedStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="491.86,561.06,501.6664,561.9733,496.5977,559.4617,499.1092,554.393,491.86,561.06" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="502.5643" y="550.1882">1</text><!--link UnitedStorage to AlgorithmsRepository--><path d="M1581.1,368.36 C1473.82,399.21 1325.85,442.98 1197,485.48 C1104.99,515.82 999.9,554.55 933.76,579.44 " fill="none" id="UnitedStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="929.28,581.5,939.1115,582.0852,933.9616,579.7444,936.3025,574.5946,929.28,581.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="936.5396" y="570.4477">1</text><!--link UnitedStorage to AlgorithmRunsRepository--><path d="M1677.2,425.6 C1664.25,449.92 1650.37,476.02 1637.31,500.55 " fill="none" id="UnitedStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1634.54,504.76,1642.3078,498.7051,1636.8952,500.3494,1635.2508,494.9368,1634.54,504.76" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1631.4479" y="494.6774">1</text><!--
@startuml
interface ITypedTransformer<TEntity, TDatabase> {
    +to: (entityValue: TEntity | undefined) => TDatabase
    +from: (databaseValue: TDatabase) => TEntity
}
class AlgorithmsRepository extends Repository
class AlgorithmRunsRepository extends Repository {
    +runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise<AlgorithmRun>
    +saveProgress(id: number, state: unknown): Promise<AlgorithmRun>
    +loadProgress(id: number): Promise<any>
    +stopOne(id: number): Promise<AlgorithmRun>
    +resumeOne(id: number): Promise<AlgorithmRun>
    +finishOne(id: number): Promise<AlgorithmRun>
    +storeError(id: number, error: Error): Promise<AlgorithmRun>
    +findManyByAlgorithm(algorithmName: string): Promise<AlgorithmRun[]>
    +findManyByAlgorithmPaginated(algorithmName: string, pagination: PaginationOptions): Promise<{ items: AlgorithmRun[]; pagination: any; }>
    +findAllUnfinished(): Promise<AlgorithmRun[]>
    -errorToJSON(error: Error): {}
}
interface IOrdersRepositoryHooks {
    +beforeSaveOne: (ticker: string) => MaybePromise<void>
}
class OrdersRepository extends Repository {
    +hooks: Hookable<IOrdersRepositoryHooks, "beforeSaveOne">
    +saveOne(order: GetOrderType<CommonDomain>, operation: OperationType, runId: number): Promise<GetOrderType<CommonDomain>>
    +search(options: GetOrdersOptions): Promise<GetOrderType<CommonDomain>[]>
}
interface IPersistentStorage {
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    +isInitialized: boolean
    +initialize(loggerService?: LoggerService): Promise<void>
}
class PersistentStorage implements IPersistentStorage {
    +isInitialized: boolean
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -_orders: OrdersRepository
    -_algorithms: AlgorithmsRepository
    -_algorithmRuns: AlgorithmRunsRepository
    -id: string
    +initialize(loggerService?: LoggerService): Promise<void>
    -datasource: DataSource
}
class SecuritiesRepository extends Repository {
    +findByTicker(securityTicker: string): Promise<Security>
    +findByTickers(securityTickers: string[]): Promise<Security[]>
    +findAllFollowed(): Promise<Security[]>
    +follow(securityTicker: string): Promise<any>
    +unfollow(securityTicker: string): Promise<any>
    +updateAll(securities: Security[]): Promise<void>
}
class PortfolioRepository extends Repository {
    +securities: Repository<SecurityBalance>
    +currencies: Repository<CurrencyBalance>
    +findPositions(options?: FindManyOptions<AssetBalance>): Promise<any[]>
}
class CurrenciesRepository extends Repository {
    +findByTicker(currencyTicker: string): Promise<Currency>
    +updateAll(currencies: Currency[]): Promise<void>
}
interface IInMemoryStorage {
    +securities: SecuritiesRepository
    +portfolio: PortfolioRepository
    +currencies: CurrenciesRepository
    +isInitialized: boolean
    +initialize(loggerService?: LoggerService): Promise<void>
}
class InMemoryStorage implements IInMemoryStorage {
    +isInitialized: boolean
    +securities: SecuritiesRepository
    +currencies: CurrenciesRepository
    +portfolio: PortfolioRepository
    -_securities: SecuritiesRepository
    -_portfolio: PortfolioRepository
    -_currencies: CurrenciesRepository
    -datasource: DataSource
    +initialize(loggerService?: LoggerService): Promise<void>
}
class UnitedStorage implements IPersistentStorage, IInMemoryStorage {
    +isInitialized: boolean
    +currencies: CurrenciesRepository
    +portfolio: PortfolioRepository
    +securities: SecuritiesRepository
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -_persistent: IPersistentStorage
    -_memory: IInMemoryStorage
    -id: string
    +initialize(loggerService?: LoggerService): Promise<void>
}
OrdersRepository - -> "1" IOrdersRepositoryHooks
IPersistentStorage - -> "1" OrdersRepository
IPersistentStorage - -> "1" AlgorithmsRepository
IPersistentStorage - -> "1" AlgorithmRunsRepository
PersistentStorage - -> "1" OrdersRepository
PersistentStorage - -> "1" AlgorithmsRepository
PersistentStorage - -> "1" AlgorithmRunsRepository
IInMemoryStorage - -> "1" SecuritiesRepository
IInMemoryStorage - -> "1" PortfolioRepository
IInMemoryStorage - -> "1" CurrenciesRepository
InMemoryStorage - -> "1" SecuritiesRepository
InMemoryStorage - -> "1" CurrenciesRepository
InMemoryStorage - -> "1" PortfolioRepository
UnitedStorage - -> "1" CurrenciesRepository
UnitedStorage - -> "1" PortfolioRepository
UnitedStorage - -> "1" SecuritiesRepository
UnitedStorage - -> "1" OrdersRepository
UnitedStorage - -> "1" AlgorithmsRepository
UnitedStorage - -> "1" AlgorithmRunsRepository
UnitedStorage - -> "1" IPersistentStorage
UnitedStorage - -> "1" IInMemoryStorage
@enduml

PlantUML version 1.2019.06(Fri May 24 21:10:25 GET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 20.0.1+9-29
Operating System: Windows 10
OS Version: 10.0
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>