<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1152px" preserveAspectRatio="none" style="width:2280px;height:1152px;" version="1.1" viewBox="0 0 2280 1152" width="2280px" zoomAndPan="magnify"><defs><filter height="300%" id="f1s0s3yka5f5sr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class ITypedTransformer--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="75.6719" id="ITypedTransformer" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="731.5" y="48.5"/><ellipse cx="746.5" cy="64.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M747.4531,61.1406 L747.4531,67.7969 L749.1719,67.7969 Q749.7813,67.7969 750.0469,68.0313 Q750.3125,68.2656 750.3125,68.6563 Q750.3125,69.0313 750.0469,69.2656 Q749.7813,69.5 749.1719,69.5 L744.0313,69.5 Q743.4219,69.5 743.1563,69.2656 Q742.8906,69.0313 742.8906,68.6406 Q742.8906,68.2656 743.1563,68.0313 Q743.4219,67.7969 744.0313,67.7969 L745.75,67.7969 L745.75,61.1406 L744.0313,61.1406 Q743.4219,61.1406 743.1563,60.9063 Q742.8906,60.6719 742.8906,60.2813 Q742.8906,59.9063 743.1563,59.6719 Q743.4219,59.4375 744.0313,59.4375 L749.1719,59.4375 Q749.7813,59.4375 750.0469,59.6719 Q750.3125,59.9063 750.3125,60.2813 Q750.3125,60.6719 750.0469,60.9063 Q749.7813,61.1406 749.1719,61.1406 L747.4531,61.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="760.5" y="69.4102">ITypedTransformer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="106" x="873.5" y="45.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="874.5" y="58.957">TEntity, TDatabase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="732.5" x2="975.5" y1="80.5" y2="80.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="732.5" x2="975.5" y1="88.5" y2="88.5"/><ellipse cx="742.5" cy="100.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="751.5" y="103.9189">to: (entityValue: TEntity) =&gt; TDatabase</text><ellipse cx="742.5" cy="114.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="751.5" y="117.7549">from: (databaseValue: TDatabase) =&gt; TEntity</text><!--class AlgorithmsRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="48" id="AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="799" y="567"/><ellipse cx="814" cy="583" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M816.7656,578.875 Q816.9219,578.6563 817.1094,578.5469 Q817.2969,578.4375 817.5156,578.4375 Q817.8906,578.4375 818.125,578.6953 Q818.3594,578.9531 818.3594,579.5625 L818.3594,581.0156 Q818.3594,581.625 818.125,581.8906 Q817.8906,582.1563 817.5156,582.1563 Q817.1719,582.1563 816.9688,581.9531 Q816.7656,581.7656 816.6563,581.25 Q816.6094,580.8906 816.4219,580.7031 Q816.0938,580.3281 815.4844,580.1094 Q814.875,579.8906 814.25,579.8906 Q813.4844,579.8906 812.8516,580.2188 Q812.2188,580.5469 811.7266,581.2969 Q811.2344,582.0469 811.2344,583.0781 L811.2344,584.1719 Q811.2344,585.4063 812.125,586.2266 Q813.0156,587.0469 814.6094,587.0469 Q815.5469,587.0469 816.2031,586.7969 Q816.5938,586.6406 817.0156,586.2031 Q817.2813,585.9375 817.4297,585.8594 Q817.5781,585.7813 817.7813,585.7813 Q818.1094,585.7813 818.3672,586.0391 Q818.625,586.2969 818.625,586.6406 Q818.625,586.9844 818.2813,587.3906 Q817.7813,587.9688 816.9844,588.2969 Q815.9063,588.75 814.6094,588.75 Q813.0938,588.75 811.8906,588.125 Q810.9063,587.625 810.2188,586.5547 Q809.5313,585.4844 809.5313,584.2031 L809.5313,583.0469 Q809.5313,581.7188 810.1484,580.5703 Q810.7656,579.4219 811.8594,578.8047 Q812.9531,578.1875 814.1875,578.1875 Q814.9219,578.1875 815.5703,578.3516 Q816.2188,578.5156 816.7656,578.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="828" y="587.9102">AlgorithmsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="800" x2="948" y1="599" y2="599"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800" x2="948" y1="607" y2="607"/><!--class Repository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="48" id="Repository" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1072.5" y="301"/><ellipse cx="1087.5" cy="317" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1090.2656,312.875 Q1090.4219,312.6563 1090.6094,312.5469 Q1090.7969,312.4375 1091.0156,312.4375 Q1091.3906,312.4375 1091.625,312.6953 Q1091.8594,312.9531 1091.8594,313.5625 L1091.8594,315.0156 Q1091.8594,315.625 1091.625,315.8906 Q1091.3906,316.1563 1091.0156,316.1563 Q1090.6719,316.1563 1090.4688,315.9531 Q1090.2656,315.7656 1090.1563,315.25 Q1090.1094,314.8906 1089.9219,314.7031 Q1089.5938,314.3281 1088.9844,314.1094 Q1088.375,313.8906 1087.75,313.8906 Q1086.9844,313.8906 1086.3516,314.2188 Q1085.7188,314.5469 1085.2266,315.2969 Q1084.7344,316.0469 1084.7344,317.0781 L1084.7344,318.1719 Q1084.7344,319.4063 1085.625,320.2266 Q1086.5156,321.0469 1088.1094,321.0469 Q1089.0469,321.0469 1089.7031,320.7969 Q1090.0938,320.6406 1090.5156,320.2031 Q1090.7813,319.9375 1090.9297,319.8594 Q1091.0781,319.7813 1091.2813,319.7813 Q1091.6094,319.7813 1091.8672,320.0391 Q1092.125,320.2969 1092.125,320.6406 Q1092.125,320.9844 1091.7813,321.3906 Q1091.2813,321.9688 1090.4844,322.2969 Q1089.4063,322.75 1088.1094,322.75 Q1086.5938,322.75 1085.3906,322.125 Q1084.4063,321.625 1083.7188,320.5547 Q1083.0313,319.4844 1083.0313,318.2031 L1083.0313,317.0469 Q1083.0313,315.7188 1083.6484,314.5703 Q1084.2656,313.4219 1085.3594,312.8047 Q1086.4531,312.1875 1087.6875,312.1875 Q1088.4219,312.1875 1089.0703,312.3516 Q1089.7188,312.5156 1090.2656,312.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1101.5" y="321.9102">Repository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073.5" x2="1162.5" y1="333" y2="333"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1073.5" x2="1162.5" y1="341" y2="341"/><!--class AlgorithmRunsRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="172.5234" id="AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="466" x="1245" y="505"/><ellipse cx="1403.25" cy="521" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1406.0156,516.875 Q1406.1719,516.6563 1406.3594,516.5469 Q1406.5469,516.4375 1406.7656,516.4375 Q1407.1406,516.4375 1407.375,516.6953 Q1407.6094,516.9531 1407.6094,517.5625 L1407.6094,519.0156 Q1407.6094,519.625 1407.375,519.8906 Q1407.1406,520.1563 1406.7656,520.1563 Q1406.4219,520.1563 1406.2188,519.9531 Q1406.0156,519.7656 1405.9063,519.25 Q1405.8594,518.8906 1405.6719,518.7031 Q1405.3438,518.3281 1404.7344,518.1094 Q1404.125,517.8906 1403.5,517.8906 Q1402.7344,517.8906 1402.1016,518.2188 Q1401.4688,518.5469 1400.9766,519.2969 Q1400.4844,520.0469 1400.4844,521.0781 L1400.4844,522.1719 Q1400.4844,523.4063 1401.375,524.2266 Q1402.2656,525.0469 1403.8594,525.0469 Q1404.7969,525.0469 1405.4531,524.7969 Q1405.8438,524.6406 1406.2656,524.2031 Q1406.5313,523.9375 1406.6797,523.8594 Q1406.8281,523.7813 1407.0313,523.7813 Q1407.3594,523.7813 1407.6172,524.0391 Q1407.875,524.2969 1407.875,524.6406 Q1407.875,524.9844 1407.5313,525.3906 Q1407.0313,525.9688 1406.2344,526.2969 Q1405.1563,526.75 1403.8594,526.75 Q1402.3438,526.75 1401.1406,526.125 Q1400.1563,525.625 1399.4688,524.5547 Q1398.7813,523.4844 1398.7813,522.2031 L1398.7813,521.0469 Q1398.7813,519.7188 1399.3984,518.5703 Q1400.0156,517.4219 1401.1094,516.8047 Q1402.2031,516.1875 1403.4375,516.1875 Q1404.1719,516.1875 1404.8203,516.3516 Q1405.4688,516.5156 1406.0156,516.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="1423.75" y="525.9102">AlgorithmRunsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1710" y1="537" y2="537"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1710" y1="545" y2="545"/><ellipse cx="1256" cy="557.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="440" x="1265" y="560.4189">runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="571.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="1265" y="574.2549">saveProgress(id: number, state: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="585.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1265" y="588.0908">loadProgress(id: number): Promise&lt;any&gt;</text><ellipse cx="1256" cy="598.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="1265" y="601.9268">stopOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="612.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1265" y="615.7627">resumeOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="626.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1265" y="629.5986">finishOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="640.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="1265" y="643.4346">storeError(id: number, error: Error): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="654.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="1265" y="657.2705">findManyByAlgorithm(algorithmName: string): Promise&lt;AlgorithmRun[]&gt;</text><ellipse cx="1256" cy="668.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1265" y="671.1064">findAllUnfinished(): Promise&lt;AlgorithmRun[]&gt;</text><!--class IOrdersRepositoryHooks--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="61.8359" id="IOrdersRepositoryHooks" style="stroke: #A80036; stroke-width: 1.5;" width="264" x="241" y="813"/><ellipse cx="300.75" cy="829" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M301.7031,825.6406 L301.7031,832.2969 L303.4219,832.2969 Q304.0313,832.2969 304.2969,832.5313 Q304.5625,832.7656 304.5625,833.1563 Q304.5625,833.5313 304.2969,833.7656 Q304.0313,834 303.4219,834 L298.2813,834 Q297.6719,834 297.4063,833.7656 Q297.1406,833.5313 297.1406,833.1406 Q297.1406,832.7656 297.4063,832.5313 Q297.6719,832.2969 298.2813,832.2969 L300,832.2969 L300,825.6406 L298.2813,825.6406 Q297.6719,825.6406 297.4063,825.4063 Q297.1406,825.1719 297.1406,824.7813 Q297.1406,824.4063 297.4063,824.1719 Q297.6719,823.9375 298.2813,823.9375 L303.4219,823.9375 Q304.0313,823.9375 304.2969,824.1719 Q304.5625,824.4063 304.5625,824.7813 Q304.5625,825.1719 304.2969,825.4063 Q304.0313,825.6406 303.4219,825.6406 L301.7031,825.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="136" x="321.25" y="833.9102">IOrdersRepositoryHooks</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="504" y1="845" y2="845"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="504" y1="853" y2="853"/><ellipse cx="252" cy="865.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="261" y="868.4189">beforeSaveOne: (ticker: string) =&gt; Promise&lt;void&gt;</text><!--class OrdersRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="89.5078" id="OrdersRepository" style="stroke: #A80036; stroke-width: 1.5;" width="686" x="30" y="546.5"/><ellipse cx="320.25" cy="562.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M323.0156,558.375 Q323.1719,558.1563 323.3594,558.0469 Q323.5469,557.9375 323.7656,557.9375 Q324.1406,557.9375 324.375,558.1953 Q324.6094,558.4531 324.6094,559.0625 L324.6094,560.5156 Q324.6094,561.125 324.375,561.3906 Q324.1406,561.6563 323.7656,561.6563 Q323.4219,561.6563 323.2188,561.4531 Q323.0156,561.2656 322.9063,560.75 Q322.8594,560.3906 322.6719,560.2031 Q322.3438,559.8281 321.7344,559.6094 Q321.125,559.3906 320.5,559.3906 Q319.7344,559.3906 319.1016,559.7188 Q318.4688,560.0469 317.9766,560.7969 Q317.4844,561.5469 317.4844,562.5781 L317.4844,563.6719 Q317.4844,564.9063 318.375,565.7266 Q319.2656,566.5469 320.8594,566.5469 Q321.7969,566.5469 322.4531,566.2969 Q322.8438,566.1406 323.2656,565.7031 Q323.5313,565.4375 323.6797,565.3594 Q323.8281,565.2813 324.0313,565.2813 Q324.3594,565.2813 324.6172,565.5391 Q324.875,565.7969 324.875,566.1406 Q324.875,566.4844 324.5313,566.8906 Q324.0313,567.4688 323.2344,567.7969 Q322.1563,568.25 320.8594,568.25 Q319.3438,568.25 318.1406,567.625 Q317.1563,567.125 316.4688,566.0547 Q315.7813,564.9844 315.7813,563.7031 L315.7813,562.5469 Q315.7813,561.2188 316.3984,560.0703 Q317.0156,558.9219 318.1094,558.3047 Q319.2031,557.6875 320.4375,557.6875 Q321.1719,557.6875 321.8203,557.8516 Q322.4688,558.0156 323.0156,558.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="340.75" y="567.4102">OrdersRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="715" y1="578.5" y2="578.5"/><ellipse cx="41" cy="590.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="50" y="593.9189">hooks: Hookable&lt;IOrdersRepositoryHooks, "beforeSaveOne"&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="715" y1="600.3359" y2="600.3359"/><ellipse cx="41" cy="612.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="660" x="50" y="615.7549">saveOne(order: GetOrderType&lt;CommonDomain&gt;, operation: OperationType, runId?: number): Promise&lt;GetOrderType&lt;CommonDomain&gt;&gt;</text><ellipse cx="41" cy="626.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="50" y="629.5908">search(options: GetOrdersOptions): Promise&lt;GetOrderType&lt;CommonDomain&gt;[]&gt;</text><!--class IPersistentStorage--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="117.1797" id="IPersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="1036" y="28"/><ellipse cx="1092.25" cy="44" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1093.2031,40.6406 L1093.2031,47.2969 L1094.9219,47.2969 Q1095.5313,47.2969 1095.7969,47.5313 Q1096.0625,47.7656 1096.0625,48.1563 Q1096.0625,48.5313 1095.7969,48.7656 Q1095.5313,49 1094.9219,49 L1089.7813,49 Q1089.1719,49 1088.9063,48.7656 Q1088.6406,48.5313 1088.6406,48.1406 Q1088.6406,47.7656 1088.9063,47.5313 Q1089.1719,47.2969 1089.7813,47.2969 L1091.5,47.2969 L1091.5,40.6406 L1089.7813,40.6406 Q1089.1719,40.6406 1088.9063,40.4063 Q1088.6406,40.1719 1088.6406,39.7813 Q1088.6406,39.4063 1088.9063,39.1719 Q1089.1719,38.9375 1089.7813,38.9375 L1094.9219,38.9375 Q1095.5313,38.9375 1095.7969,39.1719 Q1096.0625,39.4063 1096.0625,39.7813 Q1096.0625,40.1719 1095.7969,40.4063 Q1095.5313,40.6406 1094.9219,40.6406 L1093.2031,40.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="1112.75" y="48.9102">IPersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1037" x2="1257" y1="60" y2="60"/><ellipse cx="1047" cy="72.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1056" y="75.4189">orders: OrdersRepository</text><ellipse cx="1047" cy="86.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1056" y="89.2549">algorithms: AlgorithmsRepository</text><ellipse cx="1047" cy="100.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1056" y="103.0908">algorithmRuns: AlgorithmRunsRepository</text><ellipse cx="1047" cy="113.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1056" y="116.9268">isInitialized: boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1037" x2="1257" y1="123.3438" y2="123.3438"/><ellipse cx="1047" cy="135.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1056" y="138.7627">initialize(): Promise&lt;void&gt;</text><!--class PersistentStorage--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="186.3594" id="PersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="228" x="738" y="232"/><ellipse cx="798.25" cy="248" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M801.0156,243.875 Q801.1719,243.6563 801.3594,243.5469 Q801.5469,243.4375 801.7656,243.4375 Q802.1406,243.4375 802.375,243.6953 Q802.6094,243.9531 802.6094,244.5625 L802.6094,246.0156 Q802.6094,246.625 802.375,246.8906 Q802.1406,247.1563 801.7656,247.1563 Q801.4219,247.1563 801.2188,246.9531 Q801.0156,246.7656 800.9063,246.25 Q800.8594,245.8906 800.6719,245.7031 Q800.3438,245.3281 799.7344,245.1094 Q799.125,244.8906 798.5,244.8906 Q797.7344,244.8906 797.1016,245.2188 Q796.4688,245.5469 795.9766,246.2969 Q795.4844,247.0469 795.4844,248.0781 L795.4844,249.1719 Q795.4844,250.4063 796.375,251.2266 Q797.2656,252.0469 798.8594,252.0469 Q799.7969,252.0469 800.4531,251.7969 Q800.8438,251.6406 801.2656,251.2031 Q801.5313,250.9375 801.6797,250.8594 Q801.8281,250.7813 802.0313,250.7813 Q802.3594,250.7813 802.6172,251.0391 Q802.875,251.2969 802.875,251.6406 Q802.875,251.9844 802.5313,252.3906 Q802.0313,252.9688 801.2344,253.2969 Q800.1563,253.75 798.8594,253.75 Q797.3438,253.75 796.1406,253.125 Q795.1563,252.625 794.4688,251.5547 Q793.7813,250.4844 793.7813,249.2031 L793.7813,248.0469 Q793.7813,246.7188 794.3984,245.5703 Q795.0156,244.4219 796.1094,243.8047 Q797.2031,243.1875 798.4375,243.1875 Q799.1719,243.1875 799.8203,243.3516 Q800.4688,243.5156 801.0156,243.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="818.75" y="252.9102">PersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="739" x2="965" y1="264" y2="264"/><ellipse cx="749" cy="276.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="758" y="279.4189">isInitialized: boolean</text><ellipse cx="749" cy="290.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="758" y="293.2549">orders: OrdersRepository</text><ellipse cx="749" cy="304.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="758" y="307.0908">algorithms: AlgorithmsRepository</text><ellipse cx="749" cy="317.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="758" y="320.9268">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="746" y="328.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="758" y="334.7627">_orders: OrdersRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="746" y="342.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="164" x="758" y="348.5986">_algorithms: AlgorithmsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="746" y="356.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="202" x="758" y="362.4346">_algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="746" y="370.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="758" y="376.2705">id: string</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="746" y="384.1055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="758" y="390.1064">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="739" x2="965" y1="396.5234" y2="396.5234"/><ellipse cx="749" cy="408.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="758" y="411.9424">initialize(): Promise&lt;void&gt;</text><!--class SecuritiesRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="131.0156" id="SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="315" x="1369.5" y="1010"/><ellipse cx="1465.75" cy="1026" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1468.5156,1021.875 Q1468.6719,1021.6563 1468.8594,1021.5469 Q1469.0469,1021.4375 1469.2656,1021.4375 Q1469.6406,1021.4375 1469.875,1021.6953 Q1470.1094,1021.9531 1470.1094,1022.5625 L1470.1094,1024.0156 Q1470.1094,1024.625 1469.875,1024.8906 Q1469.6406,1025.1563 1469.2656,1025.1563 Q1468.9219,1025.1563 1468.7188,1024.9531 Q1468.5156,1024.7656 1468.4063,1024.25 Q1468.3594,1023.8906 1468.1719,1023.7031 Q1467.8438,1023.3281 1467.2344,1023.1094 Q1466.625,1022.8906 1466,1022.8906 Q1465.2344,1022.8906 1464.6016,1023.2188 Q1463.9688,1023.5469 1463.4766,1024.2969 Q1462.9844,1025.0469 1462.9844,1026.0781 L1462.9844,1027.1719 Q1462.9844,1028.4063 1463.875,1029.2266 Q1464.7656,1030.0469 1466.3594,1030.0469 Q1467.2969,1030.0469 1467.9531,1029.7969 Q1468.3438,1029.6406 1468.7656,1029.2031 Q1469.0313,1028.9375 1469.1797,1028.8594 Q1469.3281,1028.7813 1469.5313,1028.7813 Q1469.8594,1028.7813 1470.1172,1029.0391 Q1470.375,1029.2969 1470.375,1029.6406 Q1470.375,1029.9844 1470.0313,1030.3906 Q1469.5313,1030.9688 1468.7344,1031.2969 Q1467.6563,1031.75 1466.3594,1031.75 Q1464.8438,1031.75 1463.6406,1031.125 Q1462.6563,1030.625 1461.9688,1029.5547 Q1461.2813,1028.4844 1461.2813,1027.2031 L1461.2813,1026.0469 Q1461.2813,1024.7188 1461.8984,1023.5703 Q1462.5156,1022.4219 1463.6094,1021.8047 Q1464.7031,1021.1875 1465.9375,1021.1875 Q1466.6719,1021.1875 1467.3203,1021.3516 Q1467.9688,1021.5156 1468.5156,1021.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="1486.25" y="1030.9102">SecuritiesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1370.5" x2="1683.5" y1="1042" y2="1042"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1370.5" x2="1683.5" y1="1050" y2="1050"/><ellipse cx="1380.5" cy="1062.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="1389.5" y="1065.4189">findByTicker(securityTicker: string): Promise&lt;Security&gt;</text><ellipse cx="1380.5" cy="1076.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="1389.5" y="1079.2549">findByTickers(securityTickers: string[]): Promise&lt;Security[]&gt;</text><ellipse cx="1380.5" cy="1090.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="1389.5" y="1093.0908">findAllFollowed(): Promise&lt;Security[]&gt;</text><ellipse cx="1380.5" cy="1103.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="1389.5" y="1106.9268">follow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="1380.5" cy="1117.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="1389.5" y="1120.7627">unfollow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="1380.5" cy="1131.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="1389.5" y="1134.5986">updateAll(securities: Security[]): Promise&lt;void&gt;</text><!--class PortfolioRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="89.5078" id="PortfolioRepository" style="stroke: #A80036; stroke-width: 1.5;" width="385" x="1767.5" y="1031"/><ellipse cx="1903.75" cy="1047" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1906.5156,1042.875 Q1906.6719,1042.6563 1906.8594,1042.5469 Q1907.0469,1042.4375 1907.2656,1042.4375 Q1907.6406,1042.4375 1907.875,1042.6953 Q1908.1094,1042.9531 1908.1094,1043.5625 L1908.1094,1045.0156 Q1908.1094,1045.625 1907.875,1045.8906 Q1907.6406,1046.1563 1907.2656,1046.1563 Q1906.9219,1046.1563 1906.7188,1045.9531 Q1906.5156,1045.7656 1906.4063,1045.25 Q1906.3594,1044.8906 1906.1719,1044.7031 Q1905.8438,1044.3281 1905.2344,1044.1094 Q1904.625,1043.8906 1904,1043.8906 Q1903.2344,1043.8906 1902.6016,1044.2188 Q1901.9688,1044.5469 1901.4766,1045.2969 Q1900.9844,1046.0469 1900.9844,1047.0781 L1900.9844,1048.1719 Q1900.9844,1049.4063 1901.875,1050.2266 Q1902.7656,1051.0469 1904.3594,1051.0469 Q1905.2969,1051.0469 1905.9531,1050.7969 Q1906.3438,1050.6406 1906.7656,1050.2031 Q1907.0313,1049.9375 1907.1797,1049.8594 Q1907.3281,1049.7813 1907.5313,1049.7813 Q1907.8594,1049.7813 1908.1172,1050.0391 Q1908.375,1050.2969 1908.375,1050.6406 Q1908.375,1050.9844 1908.0313,1051.3906 Q1907.5313,1051.9688 1906.7344,1052.2969 Q1905.6563,1052.75 1904.3594,1052.75 Q1902.8438,1052.75 1901.6406,1052.125 Q1900.6563,1051.625 1899.9688,1050.5547 Q1899.2813,1049.4844 1899.2813,1048.2031 L1899.2813,1047.0469 Q1899.2813,1045.7188 1899.8984,1044.5703 Q1900.5156,1043.4219 1901.6094,1042.8047 Q1902.7031,1042.1875 1903.9375,1042.1875 Q1904.6719,1042.1875 1905.3203,1042.3516 Q1905.9688,1042.5156 1906.5156,1042.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="1924.25" y="1051.9102">PortfolioRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1768.5" x2="2151.5" y1="1063" y2="1063"/><ellipse cx="1778.5" cy="1075.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1787.5" y="1078.4189">securities: Repository&lt;SecurityBalance&gt;</text><ellipse cx="1778.5" cy="1089.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="1787.5" y="1092.2549">currencies: Repository&lt;CurrencyBalance&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1768.5" x2="2151.5" y1="1098.6719" y2="1098.6719"/><ellipse cx="1778.5" cy="1111.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="1787.5" y="1114.0908">findPositions(options?: FindManyOptions&lt;AssetBalance&gt;): Promise&lt;any[]&gt;</text><!--class CurrenciesRepository--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="75.6719" id="CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="985.5" y="1038"/><ellipse cx="1071.75" cy="1054" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1074.5156,1049.875 Q1074.6719,1049.6563 1074.8594,1049.5469 Q1075.0469,1049.4375 1075.2656,1049.4375 Q1075.6406,1049.4375 1075.875,1049.6953 Q1076.1094,1049.9531 1076.1094,1050.5625 L1076.1094,1052.0156 Q1076.1094,1052.625 1075.875,1052.8906 Q1075.6406,1053.1563 1075.2656,1053.1563 Q1074.9219,1053.1563 1074.7188,1052.9531 Q1074.5156,1052.7656 1074.4063,1052.25 Q1074.3594,1051.8906 1074.1719,1051.7031 Q1073.8438,1051.3281 1073.2344,1051.1094 Q1072.625,1050.8906 1072,1050.8906 Q1071.2344,1050.8906 1070.6016,1051.2188 Q1069.9688,1051.5469 1069.4766,1052.2969 Q1068.9844,1053.0469 1068.9844,1054.0781 L1068.9844,1055.1719 Q1068.9844,1056.4063 1069.875,1057.2266 Q1070.7656,1058.0469 1072.3594,1058.0469 Q1073.2969,1058.0469 1073.9531,1057.7969 Q1074.3438,1057.6406 1074.7656,1057.2031 Q1075.0313,1056.9375 1075.1797,1056.8594 Q1075.3281,1056.7813 1075.5313,1056.7813 Q1075.8594,1056.7813 1076.1172,1057.0391 Q1076.375,1057.2969 1076.375,1057.6406 Q1076.375,1057.9844 1076.0313,1058.3906 Q1075.5313,1058.9688 1074.7344,1059.2969 Q1073.6563,1059.75 1072.3594,1059.75 Q1070.8438,1059.75 1069.6406,1059.125 Q1068.6563,1058.625 1067.9688,1057.5547 Q1067.2813,1056.4844 1067.2813,1055.2031 L1067.2813,1054.0469 Q1067.2813,1052.7188 1067.8984,1051.5703 Q1068.5156,1050.4219 1069.6094,1049.8047 Q1070.7031,1049.1875 1071.9375,1049.1875 Q1072.6719,1049.1875 1073.3203,1049.3516 Q1073.9688,1049.5156 1074.5156,1049.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="1092.25" y="1058.9102">CurrenciesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="986.5" x2="1285.5" y1="1070" y2="1070"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="986.5" x2="1285.5" y1="1078" y2="1078"/><ellipse cx="996.5" cy="1090.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="1005.5" y="1093.4189">findByTicker(currencyTicker: string): Promise&lt;Currency&gt;</text><ellipse cx="996.5" cy="1104.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="1005.5" y="1107.2549">updateAll(currencies: Currency[]): Promise&lt;void&gt;</text><!--class IInMemoryStorage--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="117.1797" id="IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="1865.5" y="532.5"/><ellipse cx="1905.25" cy="548.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1906.2031,545.1406 L1906.2031,551.7969 L1907.9219,551.7969 Q1908.5313,551.7969 1908.7969,552.0313 Q1909.0625,552.2656 1909.0625,552.6563 Q1909.0625,553.0313 1908.7969,553.2656 Q1908.5313,553.5 1907.9219,553.5 L1902.7813,553.5 Q1902.1719,553.5 1901.9063,553.2656 Q1901.6406,553.0313 1901.6406,552.6406 Q1901.6406,552.2656 1901.9063,552.0313 Q1902.1719,551.7969 1902.7813,551.7969 L1904.5,551.7969 L1904.5,545.1406 L1902.7813,545.1406 Q1902.1719,545.1406 1901.9063,544.9063 Q1901.6406,544.6719 1901.6406,544.2813 Q1901.6406,543.9063 1901.9063,543.6719 Q1902.1719,543.4375 1902.7813,543.4375 L1907.9219,543.4375 Q1908.5313,543.4375 1908.7969,543.6719 Q1909.0625,543.9063 1909.0625,544.2813 Q1909.0625,544.6719 1908.7969,544.9063 Q1908.5313,545.1406 1907.9219,545.1406 L1906.2031,545.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="1924.75" y="553.4102">IInMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1866.5" x2="2053.5" y1="564.5" y2="564.5"/><ellipse cx="1876.5" cy="576.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1885.5" y="579.9189">securities: SecuritiesRepository</text><ellipse cx="1876.5" cy="590.7539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1885.5" y="593.7549">portfolio: PortfolioRepository</text><ellipse cx="1876.5" cy="604.5898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1885.5" y="607.5908">currencies: CurrenciesRepository</text><ellipse cx="1876.5" cy="618.4258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1885.5" y="621.4268">isInitialized: boolean</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1866.5" x2="2053.5" y1="627.8438" y2="627.8438"/><ellipse cx="1876.5" cy="640.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1885.5" y="643.2627">initialize(): Promise&lt;void&gt;</text><!--class InMemoryStorage--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="172.5234" id="InMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="1331.5" y="757"/><ellipse cx="1376.75" cy="773" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1379.5156,768.875 Q1379.6719,768.6563 1379.8594,768.5469 Q1380.0469,768.4375 1380.2656,768.4375 Q1380.6406,768.4375 1380.875,768.6953 Q1381.1094,768.9531 1381.1094,769.5625 L1381.1094,771.0156 Q1381.1094,771.625 1380.875,771.8906 Q1380.6406,772.1563 1380.2656,772.1563 Q1379.9219,772.1563 1379.7188,771.9531 Q1379.5156,771.7656 1379.4063,771.25 Q1379.3594,770.8906 1379.1719,770.7031 Q1378.8438,770.3281 1378.2344,770.1094 Q1377.625,769.8906 1377,769.8906 Q1376.2344,769.8906 1375.6016,770.2188 Q1374.9688,770.5469 1374.4766,771.2969 Q1373.9844,772.0469 1373.9844,773.0781 L1373.9844,774.1719 Q1373.9844,775.4063 1374.875,776.2266 Q1375.7656,777.0469 1377.3594,777.0469 Q1378.2969,777.0469 1378.9531,776.7969 Q1379.3438,776.6406 1379.7656,776.2031 Q1380.0313,775.9375 1380.1797,775.8594 Q1380.3281,775.7813 1380.5313,775.7813 Q1380.8594,775.7813 1381.1172,776.0391 Q1381.375,776.2969 1381.375,776.6406 Q1381.375,776.9844 1381.0313,777.3906 Q1380.5313,777.9688 1379.7344,778.2969 Q1378.6563,778.75 1377.3594,778.75 Q1375.8438,778.75 1374.6406,778.125 Q1373.6563,777.625 1372.9688,776.5547 Q1372.2813,775.4844 1372.2813,774.2031 L1372.2813,773.0469 Q1372.2813,771.7188 1372.8984,770.5703 Q1373.5156,769.4219 1374.6094,768.8047 Q1375.7031,768.1875 1376.9375,768.1875 Q1377.6719,768.1875 1378.3203,768.3516 Q1378.9688,768.5156 1379.5156,768.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="1397.25" y="777.9102">InMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1332.5" x2="1525.5" y1="789" y2="789"/><ellipse cx="1342.5" cy="801.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1351.5" y="804.4189">isInitialized: boolean</text><ellipse cx="1342.5" cy="815.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1351.5" y="818.2549">securities: SecuritiesRepository</text><ellipse cx="1342.5" cy="829.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1351.5" y="832.0908">currencies: CurrenciesRepository</text><ellipse cx="1342.5" cy="842.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1351.5" y="845.9268">portfolio: PortfolioRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1339.5" y="853.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="1351.5" y="859.7627">_securities: SecuritiesRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1339.5" y="867.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1351.5" y="873.5986">_portfolio: PortfolioRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1339.5" y="881.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1351.5" y="887.4346">_currencies: CurrenciesRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1339.5" y="895.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="1351.5" y="901.2705">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1332.5" x2="1525.5" y1="907.6875" y2="907.6875"/><ellipse cx="1342.5" cy="920.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1351.5" y="923.1064">initialize(): Promise&lt;void&gt;</text><!--class UnitedStorage--><rect fill="#FEFECE" filter="url(#f1s0s3yka5f5sr)" height="200.1953" id="UnitedStorage" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="1478" y="225"/><ellipse cx="1545.25" cy="241" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1548.0156,236.875 Q1548.1719,236.6563 1548.3594,236.5469 Q1548.5469,236.4375 1548.7656,236.4375 Q1549.1406,236.4375 1549.375,236.6953 Q1549.6094,236.9531 1549.6094,237.5625 L1549.6094,239.0156 Q1549.6094,239.625 1549.375,239.8906 Q1549.1406,240.1563 1548.7656,240.1563 Q1548.4219,240.1563 1548.2188,239.9531 Q1548.0156,239.7656 1547.9063,239.25 Q1547.8594,238.8906 1547.6719,238.7031 Q1547.3438,238.3281 1546.7344,238.1094 Q1546.125,237.8906 1545.5,237.8906 Q1544.7344,237.8906 1544.1016,238.2188 Q1543.4688,238.5469 1542.9766,239.2969 Q1542.4844,240.0469 1542.4844,241.0781 L1542.4844,242.1719 Q1542.4844,243.4063 1543.375,244.2266 Q1544.2656,245.0469 1545.8594,245.0469 Q1546.7969,245.0469 1547.4531,244.7969 Q1547.8438,244.6406 1548.2656,244.2031 Q1548.5313,243.9375 1548.6797,243.8594 Q1548.8281,243.7813 1549.0313,243.7813 Q1549.3594,243.7813 1549.6172,244.0391 Q1549.875,244.2969 1549.875,244.6406 Q1549.875,244.9844 1549.5313,245.3906 Q1549.0313,245.9688 1548.2344,246.2969 Q1547.1563,246.75 1545.8594,246.75 Q1544.3438,246.75 1543.1406,246.125 Q1542.1563,245.625 1541.4688,244.5547 Q1540.7813,243.4844 1540.7813,242.2031 L1540.7813,241.0469 Q1540.7813,239.7188 1541.3984,238.5703 Q1542.0156,237.4219 1543.1094,236.8047 Q1544.2031,236.1875 1545.4375,236.1875 Q1546.1719,236.1875 1546.8203,236.3516 Q1547.4688,236.5156 1548.0156,236.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="1565.75" y="245.9102">UnitedStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1699" y1="257" y2="257"/><ellipse cx="1489" cy="269.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1498" y="272.4189">isInitialized: boolean</text><ellipse cx="1489" cy="283.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1498" y="286.2549">currencies: CurrenciesRepository</text><ellipse cx="1489" cy="297.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1498" y="300.0908">portfolio: PortfolioRepository</text><ellipse cx="1489" cy="310.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1498" y="313.9268">securities: SecuritiesRepository</text><ellipse cx="1489" cy="324.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1498" y="327.7627">orders: OrdersRepository</text><ellipse cx="1489" cy="338.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1498" y="341.5986">algorithms: AlgorithmsRepository</text><ellipse cx="1489" cy="352.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1498" y="355.4346">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="363.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1498" y="369.2705">_persistent: IPersistentStorage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="377.1055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1498" y="383.1064">_memory: IInMemoryStorage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="390.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="1498" y="396.9424">id: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1699" y1="403.3594" y2="403.3594"/><ellipse cx="1489" cy="415.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="1498" y="418.7783">initialize(): Promise&lt;void&gt;</text><!--link Repository to AlgorithmsRepository--><path d="M1090.6,366.32 C1077.48,384.77 1061.15,406.57 1045,425 C997.43,479.31 934.99,536.47 900.24,567.21 " fill="none" id="Repository-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1085.33,362.64,1102.51,350.25,1096.81,370.65,1085.33,362.64" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to AlgorithmRunsRepository--><path d="M1166.61,361.64 C1216.52,398.25 1296.03,456.56 1362.21,505.09 " fill="none" id="Repository-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1162.94,366.9,1150.95,349.43,1171.22,355.61,1162.94,366.9" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to OrdersRepository--><path d="M1076.74,362.58 C1051.26,383.5 1017.04,408.72 983,425 C889.25,469.84 857.34,457.96 757,485 C682.59,505.05 600.15,527.55 530.8,546.57 " fill="none" id="Repository-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1071.7,356.83,1091.5,349.28,1080.73,367.53,1071.7,356.83" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to PersistentStorage--><path d="M1059.37,157.75 C1030.23,181.11 997.34,207.48 966.48,232.22 " fill="none" id="IPersistentStorage-PersistentStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1054.61,151.8,1074.59,144.75,1063.36,162.72,1054.61,151.8" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to SecuritiesRepository--><path d="M1113.06,369.87 C1106.74,440.99 1101.02,584.82 1142,697 C1186.17,817.9 1221.19,840.81 1314,930 C1344.69,959.49 1382.03,987.04 1416.82,1010.01 " fill="none" id="Repository-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1106.18,369.28,1115.12,350.07,1120.12,370.66,1106.18,369.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to PortfolioRepository--><path d="M1126.71,369.9 C1145.89,465.65 1191.03,685.62 1203,697 C1314.55,803 1403.06,695.23 1544,757 C1698.57,824.74 1847.85,961.33 1918.13,1031.2 " fill="none" id="Repository-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1119.68,371.43,1122.63,350.44,1133.41,368.69,1119.68,371.43" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to CurrenciesRepository--><path d="M1101.58,369.13 C1090.47,400.7 1076.81,444.84 1071,485 C1040.81,693.65 1100.49,945.64 1125.6,1038.17 " fill="none" id="Repository-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1095.31,366.89,1108.73,350.5,1108.46,371.68,1095.31,366.89" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IInMemoryStorage to InMemoryStorage--><path d="M1871.34,661.34 C1852.95,674.11 1833.28,686.66 1814,697 C1720.81,746.99 1606.69,787.81 1526.99,813.36 " fill="none" id="IInMemoryStorage-InMemoryStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1866.83,655.24,1887.18,649.35,1874.95,666.65,1866.83,655.24" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to UnitedStorage--><path d="M1272.56,154.68 C1337.19,189.26 1415.29,231.05 1477.74,264.47 " fill="none" id="IPersistentStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1269.61,160.51,1255.28,144.9,1276.21,148.16,1269.61,160.51" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IPersistentStorage--><path d="M1477.74,264.47 C1411.01,228.77 1326.41,183.5 1259.47,147.68 " fill="none" id="UnitedStorage-IPersistentStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1255.28,144.9,1261.3244,152.6759,1259.6874,147.2611,1265.1022,145.6241,1255.28,144.9" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1265.7658" y="151.3879">1</text><!--link IInMemoryStorage to UnitedStorage--><path d="M1863.55,520.46 C1847.04,508.61 1830.04,496.43 1814,485 C1777.1,458.69 1736.69,430.08 1700.43,404.47 " fill="none" id="IInMemoryStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1867.37,515.31,1879.52,532.66,1859.2,526.67,1867.37,515.31" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IInMemoryStorage--><path d="M1700.43,404.47 C1736.69,430.08 1777.1,458.69 1814,485 C1834.01,499.26 1855.51,514.68 1875.7,529.19 " fill="none" id="UnitedStorage-IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1879.52,532.66,1874.5637,524.1491,1875.4659,529.7336,1869.8814,530.6358,1879.52,532.66" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1862.8882" y="521.6663">1</text><!--link OrdersRepository to IOrdersRepositoryHooks--><path d="M373,635.35 C373,684.13 373,762.43 373,807.49 " fill="none" id="OrdersRepository-IOrdersRepositoryHooks" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="373,812.36,377,803.36,373,807.36,369,803.36,373,812.36" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="365.1906" y="801.9792">1</text><!--link IPersistentStorage to OrdersRepository--><path d="M1042.36,144.86 C1026.44,152.3 1009.99,159.3 994,165 C876.57,206.83 828.61,163.8 720,225 C577.72,305.17 458.34,462.65 404.18,541.96 " fill="none" id="IPersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="401.03,545.6,409.4044,540.4164,403.8462,541.4686,402.7941,535.9104,401.03,545.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="397.9395" y="535.7314">1</text><!--link IPersistentStorage to AlgorithmsRepository--><path d="M1104.09,144.8 C1087.37,168.78 1068.92,197.44 1055,225 C1012.42,309.33 1025.34,340.54 983,425 C957.34,476.19 918.84,530.72 895.13,562.51 " fill="none" id="IPersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="891.75,566.03,900.35,561.23,894.75,562.03,893.95,556.43,891.75,566.03" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="888.5797" y="555.9804">1</text><!--link IPersistentStorage to AlgorithmRunsRepository--><path d="M1184.65,144.65 C1241.86,231.51 1351.19,397.48 1419.01,500.45 " fill="none" id="IPersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1422.21,504.31,1420.6076,494.5924,1419.463,500.1322,1413.9231,498.9876,1422.21,504.31" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1409.7442" y="494.1601">1</text><!--link PersistentStorage to OrdersRepository--><path d="M737.57,389.07 C651.19,436.68 534.63,500.92 456.79,543.82 " fill="none" id="PersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="452.72,546.61,462.5321,545.7604,457.0968,544.1927,458.6645,538.7574,452.72,546.61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="456.7082" y="535.743">1</text><!--link PersistentStorage to AlgorithmsRepository--><path d="M859.69,418.33 C863.89,468.65 868.79,527.45 871.63,561.54 " fill="none" id="PersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="872.1,566.2,875.341,556.8997,871.686,561.2172,867.3685,557.5621,872.1,566.2" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="863.6488" y="556.1961">1</text><!--link PersistentStorage to AlgorithmRunsRepository--><path d="M966.37,383.8 C995.09,397.76 1026,412.3 1055,425 C1116.01,451.72 1182.83,478.78 1244.98,503.04 " fill="none" id="PersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1249.21,505.08,1242.2759,498.0859,1244.5511,503.265,1239.3719,505.5402,1249.21,505.08" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1229.8385" y="497.1404">1</text><!--link IInMemoryStorage to SecuritiesRepository--><path d="M1908.63,649.24 C1828.61,738.41 1674.5,910.13 1588.62,1005.83 " fill="none" id="IInMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1585.84,1009.05,1594.8339,1005.0362,1589.1848,1005.3335,1588.8875,999.6845,1585.84,1009.05" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1584.1231" y="999.0719">1</text><!--link IInMemoryStorage to PortfolioRepository--><path d="M1960,649.24 C1960,744.87 1960,935.47 1960,1025.39 " fill="none" id="IInMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1960,1030.16,1964,1021.16,1960,1025.16,1956,1021.16,1960,1030.16" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1952.4422" y="1020.301">1</text><!--link IInMemoryStorage to CurrenciesRepository--><path d="M1895.11,649.38 C1871.16,667.54 1842.8,685.78 1814,697 C1605.45,778.24 1500.02,632.55 1314,757 C1215.66,822.79 1165.95,962.19 1146.34,1032.32 " fill="none" id="IInMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1144.76,1037.07,1151.0101,1029.4584,1146.0901,1032.2502,1143.2983,1027.3302,1144.76,1037.07" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1138.7298" y="1027.1594">1</text><!--link InMemoryStorage to SecuritiesRepository--><path d="M1465.63,930.47 C1476.09,955.03 1487.36,981.47 1497.35,1004.91 " fill="none" id="InMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1499.59,1009.18,1499.7213,999.332,1497.6204,1004.5843,1492.3681,1002.4834,1499.59,1009.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1489.016" y="999.2169">1</text><!--link InMemoryStorage to CurrenciesRepository--><path d="M1331.03,921.41 C1282.55,959.46 1226.09,1003.78 1186.43,1034.92 " fill="none" id="InMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1183.16,1038.27,1192.7128,1035.8732,1187.0975,1035.1885,1187.7823,1029.5732,1183.16,1038.27" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1183.2921" y="1027.1126">1</text><!--link InMemoryStorage to PortfolioRepository--><path d="M1526.8,914.9 C1535.82,920.31 1544.96,925.44 1554,930 C1626.26,966.51 1649.7,962.92 1726,990 C1761.35,1002.55 1799.65,1016.31 1834.83,1029.01 " fill="none" id="InMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1839.45,1031.04,1832.3472,1024.2173,1834.7481,1029.3393,1829.6261,1031.7403,1839.45,1031.04" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1813.8389" y="1020.1619">1</text><!--link UnitedStorage to CurrenciesRepository--><path d="M1700.12,410.22 C1721.22,432.05 1740.33,457.31 1752,485 C1788.6,571.82 1815.07,627 1752,697 C1666.16,792.28 1269.92,667.56 1178,757 C1103.87,829.13 1115.3,964.08 1127.08,1032.47 " fill="none" id="UnitedStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1128.07,1037.07,1130.4419,1027.511,1127.1994,1032.1464,1122.5641,1028.9039,1128.07,1037.07" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1118.9626" y="1027.1594">1</text><!--link UnitedStorage to PortfolioRepository--><path d="M1700.44,342.21 C1845.62,365.88 2087.22,414.83 2140,485 C2268.64,656.01 2086.46,919.57 2000.57,1026.73 " fill="none" id="UnitedStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1997.05,1030.1,2005.8099,1025.5984,2000.1857,1026.2055,1999.5786,1020.5813,1997.05,1030.1" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1995.397" y="1020.2314">1</text><!--link UnitedStorage to SecuritiesRepository--><path d="M1700.31,345.19 C1834.77,370.9 2048.87,420.83 2096,485 C2151.77,560.94 2139.46,613.4 2096,697 C2049.17,787.07 1810.34,925.58 1657.36,1007.41 " fill="none" id="UnitedStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1653.4,1010.05,1663.2232,1009.3392,1657.8106,1007.6948,1659.4549,1002.2822,1653.4,1010.05" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1659.4947" y="999.0719">1</text><!--link UnitedStorage to OrdersRepository--><path d="M1477.51,356.16 C1395.86,377.49 1282.12,405.63 1181,425 C994.08,460.82 943.39,446.49 757,485 C678.17,501.29 591.59,524.49 520.62,544.94 " fill="none" id="UnitedStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="516.11,546.53,525.8653,547.8845,520.9149,545.147,523.6524,540.1966,516.11,546.53" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="530.201" y="535.6503">1</text><!--link UnitedStorage to AlgorithmsRepository--><path d="M1477.67,367.11 C1327.61,422.51 1065.06,519.45 941.69,565.01 " fill="none" id="UnitedStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="937.28,567.01,947.1075,567.6576,941.9727,565.2841,944.3461,560.1493,937.28,567.01" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="945.0771" y="555.955">1</text><!--link UnitedStorage to AlgorithmRunsRepository--><path d="M1547.19,425.43 C1536.91,449.89 1525.96,475.94 1515.87,499.93 " fill="none" id="UnitedStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1513.6,504.34,1520.7791,497.5975,1515.5403,499.7318,1513.406,494.4931,1513.6,504.34" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1509.5592" y="494.1929">1</text><!--
@startuml
interface ITypedTransformer<TEntity, TDatabase> {
    +to: (entityValue: TEntity) => TDatabase
    +from: (databaseValue: TDatabase) => TEntity
}
class AlgorithmsRepository extends Repository
class AlgorithmRunsRepository extends Repository {
    +runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise<AlgorithmRun>
    +saveProgress(id: number, state: unknown): Promise<AlgorithmRun>
    +loadProgress(id: number): Promise<any>
    +stopOne(id: number): Promise<AlgorithmRun>
    +resumeOne(id: number): Promise<AlgorithmRun>
    +finishOne(id: number): Promise<AlgorithmRun>
    +storeError(id: number, error: Error): Promise<AlgorithmRun>
    +findManyByAlgorithm(algorithmName: string): Promise<AlgorithmRun[]>
    +findAllUnfinished(): Promise<AlgorithmRun[]>
}
interface IOrdersRepositoryHooks {
    +beforeSaveOne: (ticker: string) => Promise<void>
}
class OrdersRepository extends Repository {
    +hooks: Hookable<IOrdersRepositoryHooks, "beforeSaveOne">
    +saveOne(order: GetOrderType<CommonDomain>, operation: OperationType, runId?: number): Promise<GetOrderType<CommonDomain>>
    +search(options: GetOrdersOptions): Promise<GetOrderType<CommonDomain>[]>
}
interface IPersistentStorage {
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    +isInitialized: boolean
    +initialize(): Promise<void>
}
class PersistentStorage implements IPersistentStorage {
    +isInitialized: boolean
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -_orders: OrdersRepository
    -_algorithms: AlgorithmsRepository
    -_algorithmRuns: AlgorithmRunsRepository
    -id: string
    +initialize(): Promise<void>
    -datasource: DataSource
}
class SecuritiesRepository extends Repository {
    +findByTicker(securityTicker: string): Promise<Security>
    +findByTickers(securityTickers: string[]): Promise<Security[]>
    +findAllFollowed(): Promise<Security[]>
    +follow(securityTicker: string): Promise<any>
    +unfollow(securityTicker: string): Promise<any>
    +updateAll(securities: Security[]): Promise<void>
}
class PortfolioRepository extends Repository {
    +securities: Repository<SecurityBalance>
    +currencies: Repository<CurrencyBalance>
    +findPositions(options?: FindManyOptions<AssetBalance>): Promise<any[]>
}
class CurrenciesRepository extends Repository {
    +findByTicker(currencyTicker: string): Promise<Currency>
    +updateAll(currencies: Currency[]): Promise<void>
}
interface IInMemoryStorage {
    +securities: SecuritiesRepository
    +portfolio: PortfolioRepository
    +currencies: CurrenciesRepository
    +isInitialized: boolean
    +initialize(): Promise<void>
}
class InMemoryStorage implements IInMemoryStorage {
    +isInitialized: boolean
    +securities: SecuritiesRepository
    +currencies: CurrenciesRepository
    +portfolio: PortfolioRepository
    -_securities: SecuritiesRepository
    -_portfolio: PortfolioRepository
    -_currencies: CurrenciesRepository
    -datasource: DataSource
    +initialize(): Promise<void>
}
class UnitedStorage implements IPersistentStorage, IInMemoryStorage {
    +isInitialized: boolean
    +currencies: CurrenciesRepository
    +portfolio: PortfolioRepository
    +securities: SecuritiesRepository
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -_persistent: IPersistentStorage
    -_memory: IInMemoryStorage
    -id: string
    +initialize(): Promise<void>
}
OrdersRepository - -> "1" IOrdersRepositoryHooks
IPersistentStorage - -> "1" OrdersRepository
IPersistentStorage - -> "1" AlgorithmsRepository
IPersistentStorage - -> "1" AlgorithmRunsRepository
PersistentStorage - -> "1" OrdersRepository
PersistentStorage - -> "1" AlgorithmsRepository
PersistentStorage - -> "1" AlgorithmRunsRepository
IInMemoryStorage - -> "1" SecuritiesRepository
IInMemoryStorage - -> "1" PortfolioRepository
IInMemoryStorage - -> "1" CurrenciesRepository
InMemoryStorage - -> "1" SecuritiesRepository
InMemoryStorage - -> "1" CurrenciesRepository
InMemoryStorage - -> "1" PortfolioRepository
UnitedStorage - -> "1" CurrenciesRepository
UnitedStorage - -> "1" PortfolioRepository
UnitedStorage - -> "1" SecuritiesRepository
UnitedStorage - -> "1" OrdersRepository
UnitedStorage - -> "1" AlgorithmsRepository
UnitedStorage - -> "1" AlgorithmRunsRepository
UnitedStorage - -> "1" IPersistentStorage
UnitedStorage - -> "1" IInMemoryStorage
@enduml

PlantUML version 1.2019.06(Fri May 24 21:10:25 GET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_361-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>