<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1027px" preserveAspectRatio="none" style="width:2364px;height:1027px;" version="1.1" viewBox="0 0 2364 1027" width="2364px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vk8b5ux9fwvm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class ITypedTransformer--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="75.6719" id="ITypedTransformer" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="730.5" y="34.5"/><ellipse cx="745.5" cy="50.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M746.4531,47.1406 L746.4531,53.7969 L748.1719,53.7969 Q748.7813,53.7969 749.0469,54.0313 Q749.3125,54.2656 749.3125,54.6563 Q749.3125,55.0313 749.0469,55.2656 Q748.7813,55.5 748.1719,55.5 L743.0313,55.5 Q742.4219,55.5 742.1563,55.2656 Q741.8906,55.0313 741.8906,54.6406 Q741.8906,54.2656 742.1563,54.0313 Q742.4219,53.7969 743.0313,53.7969 L744.75,53.7969 L744.75,47.1406 L743.0313,47.1406 Q742.4219,47.1406 742.1563,46.9063 Q741.8906,46.6719 741.8906,46.2813 Q741.8906,45.9063 742.1563,45.6719 Q742.4219,45.4375 743.0313,45.4375 L748.1719,45.4375 Q748.7813,45.4375 749.0469,45.6719 Q749.3125,45.9063 749.3125,46.2813 Q749.3125,46.6719 749.0469,46.9063 Q748.7813,47.1406 748.1719,47.1406 L746.4531,47.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="759.5" y="55.4102">ITypedTransformer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="106" x="872.5" y="31.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="873.5" y="44.957">TEntity, TDatabase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="731.5" x2="974.5" y1="66.5" y2="66.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="731.5" x2="974.5" y1="74.5" y2="74.5"/><ellipse cx="741.5" cy="86.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="750.5" y="89.9189">to: (entityValue: TEntity) =&gt; TDatabase</text><ellipse cx="741.5" cy="100.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="750.5" y="103.7549">from: (databaseValue: TDatabase) =&gt; TEntity</text><!--class AlgorithmsRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="48" id="AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="799" y="498"/><ellipse cx="814" cy="514" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M816.7656,509.875 Q816.9219,509.6563 817.1094,509.5469 Q817.2969,509.4375 817.5156,509.4375 Q817.8906,509.4375 818.125,509.6953 Q818.3594,509.9531 818.3594,510.5625 L818.3594,512.0156 Q818.3594,512.625 818.125,512.8906 Q817.8906,513.1563 817.5156,513.1563 Q817.1719,513.1563 816.9688,512.9531 Q816.7656,512.7656 816.6563,512.25 Q816.6094,511.8906 816.4219,511.7031 Q816.0938,511.3281 815.4844,511.1094 Q814.875,510.8906 814.25,510.8906 Q813.4844,510.8906 812.8516,511.2188 Q812.2188,511.5469 811.7266,512.2969 Q811.2344,513.0469 811.2344,514.0781 L811.2344,515.1719 Q811.2344,516.4063 812.125,517.2266 Q813.0156,518.0469 814.6094,518.0469 Q815.5469,518.0469 816.2031,517.7969 Q816.5938,517.6406 817.0156,517.2031 Q817.2813,516.9375 817.4297,516.8594 Q817.5781,516.7813 817.7813,516.7813 Q818.1094,516.7813 818.3672,517.0391 Q818.625,517.2969 818.625,517.6406 Q818.625,517.9844 818.2813,518.3906 Q817.7813,518.9688 816.9844,519.2969 Q815.9063,519.75 814.6094,519.75 Q813.0938,519.75 811.8906,519.125 Q810.9063,518.625 810.2188,517.5547 Q809.5313,516.4844 809.5313,515.2031 L809.5313,514.0469 Q809.5313,512.7188 810.1484,511.5703 Q810.7656,510.4219 811.8594,509.8047 Q812.9531,509.1875 814.1875,509.1875 Q814.9219,509.1875 815.5703,509.3516 Q816.2188,509.5156 816.7656,509.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="828" y="518.9102">AlgorithmsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="800" x2="948" y1="530" y2="530"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800" x2="948" y1="538" y2="538"/><!--class Repository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="48" id="Repository" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="1071.5" y="252.5"/><ellipse cx="1086.5" cy="268.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089.2656,264.375 Q1089.4219,264.1563 1089.6094,264.0469 Q1089.7969,263.9375 1090.0156,263.9375 Q1090.3906,263.9375 1090.625,264.1953 Q1090.8594,264.4531 1090.8594,265.0625 L1090.8594,266.5156 Q1090.8594,267.125 1090.625,267.3906 Q1090.3906,267.6563 1090.0156,267.6563 Q1089.6719,267.6563 1089.4688,267.4531 Q1089.2656,267.2656 1089.1563,266.75 Q1089.1094,266.3906 1088.9219,266.2031 Q1088.5938,265.8281 1087.9844,265.6094 Q1087.375,265.3906 1086.75,265.3906 Q1085.9844,265.3906 1085.3516,265.7188 Q1084.7188,266.0469 1084.2266,266.7969 Q1083.7344,267.5469 1083.7344,268.5781 L1083.7344,269.6719 Q1083.7344,270.9063 1084.625,271.7266 Q1085.5156,272.5469 1087.1094,272.5469 Q1088.0469,272.5469 1088.7031,272.2969 Q1089.0938,272.1406 1089.5156,271.7031 Q1089.7813,271.4375 1089.9297,271.3594 Q1090.0781,271.2813 1090.2813,271.2813 Q1090.6094,271.2813 1090.8672,271.5391 Q1091.125,271.7969 1091.125,272.1406 Q1091.125,272.4844 1090.7813,272.8906 Q1090.2813,273.4688 1089.4844,273.7969 Q1088.4063,274.25 1087.1094,274.25 Q1085.5938,274.25 1084.3906,273.625 Q1083.4063,273.125 1082.7188,272.0547 Q1082.0313,270.9844 1082.0313,269.7031 L1082.0313,268.5469 Q1082.0313,267.2188 1082.6484,266.0703 Q1083.2656,264.9219 1084.3594,264.3047 Q1085.4531,263.6875 1086.6875,263.6875 Q1087.4219,263.6875 1088.0703,263.8516 Q1088.7188,264.0156 1089.2656,264.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1100.5" y="273.4102">Repository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1072.5" x2="1161.5" y1="284.5" y2="284.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1072.5" x2="1161.5" y1="292.5" y2="292.5"/><!--class AlgorithmRunsRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="172.5234" id="AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.5;" width="466" x="1245" y="436"/><ellipse cx="1403.25" cy="452" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1406.0156,447.875 Q1406.1719,447.6563 1406.3594,447.5469 Q1406.5469,447.4375 1406.7656,447.4375 Q1407.1406,447.4375 1407.375,447.6953 Q1407.6094,447.9531 1407.6094,448.5625 L1407.6094,450.0156 Q1407.6094,450.625 1407.375,450.8906 Q1407.1406,451.1563 1406.7656,451.1563 Q1406.4219,451.1563 1406.2188,450.9531 Q1406.0156,450.7656 1405.9063,450.25 Q1405.8594,449.8906 1405.6719,449.7031 Q1405.3438,449.3281 1404.7344,449.1094 Q1404.125,448.8906 1403.5,448.8906 Q1402.7344,448.8906 1402.1016,449.2188 Q1401.4688,449.5469 1400.9766,450.2969 Q1400.4844,451.0469 1400.4844,452.0781 L1400.4844,453.1719 Q1400.4844,454.4063 1401.375,455.2266 Q1402.2656,456.0469 1403.8594,456.0469 Q1404.7969,456.0469 1405.4531,455.7969 Q1405.8438,455.6406 1406.2656,455.2031 Q1406.5313,454.9375 1406.6797,454.8594 Q1406.8281,454.7813 1407.0313,454.7813 Q1407.3594,454.7813 1407.6172,455.0391 Q1407.875,455.2969 1407.875,455.6406 Q1407.875,455.9844 1407.5313,456.3906 Q1407.0313,456.9688 1406.2344,457.2969 Q1405.1563,457.75 1403.8594,457.75 Q1402.3438,457.75 1401.1406,457.125 Q1400.1563,456.625 1399.4688,455.5547 Q1398.7813,454.4844 1398.7813,453.2031 L1398.7813,452.0469 Q1398.7813,450.7188 1399.3984,449.5703 Q1400.0156,448.4219 1401.1094,447.8047 Q1402.2031,447.1875 1403.4375,447.1875 Q1404.1719,447.1875 1404.8203,447.3516 Q1405.4688,447.5156 1406.0156,447.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="141" x="1423.75" y="456.9102">AlgorithmRunsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1710" y1="468" y2="468"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1246" x2="1710" y1="476" y2="476"/><ellipse cx="1256" cy="488.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="440" x="1265" y="491.4189">runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="502.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="327" x="1265" y="505.2549">saveProgress(id: number, state: unknown): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="516.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1265" y="519.0908">loadProgress(id: number): Promise&lt;any&gt;</text><ellipse cx="1256" cy="529.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="1265" y="532.9268">stopOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="543.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1265" y="546.7627">resumeOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="557.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1265" y="560.5986">finishOne(id: number): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="571.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="1265" y="574.4346">storeError(id: number, error: Error): Promise&lt;AlgorithmRun&gt;</text><ellipse cx="1256" cy="585.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="1265" y="588.2705">findManyByAlgorithm(algorithmName: string): Promise&lt;AlgorithmRun[]&gt;</text><ellipse cx="1256" cy="599.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="1265" y="602.1064">findAllUnfinished(): Promise&lt;AlgorithmRun[]&gt;</text><!--class OrdersRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="75.6719" id="OrdersRepository" style="stroke: #A80036; stroke-width: 1.5;" width="686" x="30" y="484.5"/><ellipse cx="320.25" cy="500.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M323.0156,496.375 Q323.1719,496.1563 323.3594,496.0469 Q323.5469,495.9375 323.7656,495.9375 Q324.1406,495.9375 324.375,496.1953 Q324.6094,496.4531 324.6094,497.0625 L324.6094,498.5156 Q324.6094,499.125 324.375,499.3906 Q324.1406,499.6563 323.7656,499.6563 Q323.4219,499.6563 323.2188,499.4531 Q323.0156,499.2656 322.9063,498.75 Q322.8594,498.3906 322.6719,498.2031 Q322.3438,497.8281 321.7344,497.6094 Q321.125,497.3906 320.5,497.3906 Q319.7344,497.3906 319.1016,497.7188 Q318.4688,498.0469 317.9766,498.7969 Q317.4844,499.5469 317.4844,500.5781 L317.4844,501.6719 Q317.4844,502.9063 318.375,503.7266 Q319.2656,504.5469 320.8594,504.5469 Q321.7969,504.5469 322.4531,504.2969 Q322.8438,504.1406 323.2656,503.7031 Q323.5313,503.4375 323.6797,503.3594 Q323.8281,503.2813 324.0313,503.2813 Q324.3594,503.2813 324.6172,503.5391 Q324.875,503.7969 324.875,504.1406 Q324.875,504.4844 324.5313,504.8906 Q324.0313,505.4688 323.2344,505.7969 Q322.1563,506.25 320.8594,506.25 Q319.3438,506.25 318.1406,505.625 Q317.1563,505.125 316.4688,504.0547 Q315.7813,502.9844 315.7813,501.7031 L315.7813,500.5469 Q315.7813,499.2188 316.3984,498.0703 Q317.0156,496.9219 318.1094,496.3047 Q319.2031,495.6875 320.4375,495.6875 Q321.1719,495.6875 321.8203,495.8516 Q322.4688,496.0156 323.0156,496.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="97" x="340.75" y="505.4102">OrdersRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="715" y1="516.5" y2="516.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="31" x2="715" y1="524.5" y2="524.5"/><ellipse cx="41" cy="536.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="660" x="50" y="539.9189">saveOne(order: GetOrderType&lt;CommonDomain&gt;, operation: OperationType, runId?: number): Promise&lt;GetOrderType&lt;CommonDomain&gt;&gt;</text><ellipse cx="41" cy="550.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="50" y="553.7549">search(options: GetOrdersOptions): Promise&lt;GetOrderType&lt;CommonDomain&gt;[]&gt;</text><!--class IPersistentStorage--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="89.5078" id="IPersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="1035" y="28"/><ellipse cx="1091.25" cy="44" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1092.2031,40.6406 L1092.2031,47.2969 L1093.9219,47.2969 Q1094.5313,47.2969 1094.7969,47.5313 Q1095.0625,47.7656 1095.0625,48.1563 Q1095.0625,48.5313 1094.7969,48.7656 Q1094.5313,49 1093.9219,49 L1088.7813,49 Q1088.1719,49 1087.9063,48.7656 Q1087.6406,48.5313 1087.6406,48.1406 Q1087.6406,47.7656 1087.9063,47.5313 Q1088.1719,47.2969 1088.7813,47.2969 L1090.5,47.2969 L1090.5,40.6406 L1088.7813,40.6406 Q1088.1719,40.6406 1087.9063,40.4063 Q1087.6406,40.1719 1087.6406,39.7813 Q1087.6406,39.4063 1087.9063,39.1719 Q1088.1719,38.9375 1088.7813,38.9375 L1093.9219,38.9375 Q1094.5313,38.9375 1094.7969,39.1719 Q1095.0625,39.4063 1095.0625,39.7813 Q1095.0625,40.1719 1094.7969,40.4063 Q1094.5313,40.6406 1093.9219,40.6406 L1092.2031,40.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="101" x="1111.75" y="48.9102">IPersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1036" x2="1256" y1="60" y2="60"/><ellipse cx="1046" cy="72.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1055" y="75.4189">orders: OrdersRepository</text><ellipse cx="1046" cy="86.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1055" y="89.2549">algorithms: AlgorithmsRepository</text><ellipse cx="1046" cy="100.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1055" y="103.0908">algorithmRuns: AlgorithmRunsRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1036" x2="1256" y1="109.5078" y2="109.5078"/><!--class PersistentStorage--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="117.1797" id="PersistentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="743" y="218"/><ellipse cx="800.25" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M803.0156,229.875 Q803.1719,229.6563 803.3594,229.5469 Q803.5469,229.4375 803.7656,229.4375 Q804.1406,229.4375 804.375,229.6953 Q804.6094,229.9531 804.6094,230.5625 L804.6094,232.0156 Q804.6094,232.625 804.375,232.8906 Q804.1406,233.1563 803.7656,233.1563 Q803.4219,233.1563 803.2188,232.9531 Q803.0156,232.7656 802.9063,232.25 Q802.8594,231.8906 802.6719,231.7031 Q802.3438,231.3281 801.7344,231.1094 Q801.125,230.8906 800.5,230.8906 Q799.7344,230.8906 799.1016,231.2188 Q798.4688,231.5469 797.9766,232.2969 Q797.4844,233.0469 797.4844,234.0781 L797.4844,235.1719 Q797.4844,236.4063 798.375,237.2266 Q799.2656,238.0469 800.8594,238.0469 Q801.7969,238.0469 802.4531,237.7969 Q802.8438,237.6406 803.2656,237.2031 Q803.5313,236.9375 803.6797,236.8594 Q803.8281,236.7813 804.0313,236.7813 Q804.3594,236.7813 804.6172,237.0391 Q804.875,237.2969 804.875,237.6406 Q804.875,237.9844 804.5313,238.3906 Q804.0313,238.9688 803.2344,239.2969 Q802.1563,239.75 800.8594,239.75 Q799.3438,239.75 798.1406,239.125 Q797.1563,238.625 796.4688,237.5547 Q795.7813,236.4844 795.7813,235.2031 L795.7813,234.0469 Q795.7813,232.7188 796.3984,231.5703 Q797.0156,230.4219 798.1094,229.8047 Q799.2031,229.1875 800.4375,229.1875 Q801.1719,229.1875 801.8203,229.3516 Q802.4688,229.5156 803.0156,229.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="820.75" y="238.9102">PersistentStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="744" x2="964" y1="250" y2="250"/><ellipse cx="754" cy="262.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="763" y="265.4189">orders: OrdersRepository</text><ellipse cx="754" cy="276.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="763" y="279.2549">algorithms: AlgorithmsRepository</text><ellipse cx="754" cy="290.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="763" y="293.0908">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="751" y="300.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="763" y="306.9268">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="744" x2="964" y1="313.3438" y2="313.3438"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="751" y="322.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="763" y="328.7627">initDatasource(id: string): DataSource</text><!--class SecuritiesRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="131.0156" id="SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="315" x="2038.5" y="885"/><ellipse cx="2134.75" cy="901" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2137.5156,896.875 Q2137.6719,896.6563 2137.8594,896.5469 Q2138.0469,896.4375 2138.2656,896.4375 Q2138.6406,896.4375 2138.875,896.6953 Q2139.1094,896.9531 2139.1094,897.5625 L2139.1094,899.0156 Q2139.1094,899.625 2138.875,899.8906 Q2138.6406,900.1563 2138.2656,900.1563 Q2137.9219,900.1563 2137.7188,899.9531 Q2137.5156,899.7656 2137.4063,899.25 Q2137.3594,898.8906 2137.1719,898.7031 Q2136.8438,898.3281 2136.2344,898.1094 Q2135.625,897.8906 2135,897.8906 Q2134.2344,897.8906 2133.6016,898.2188 Q2132.9688,898.5469 2132.4766,899.2969 Q2131.9844,900.0469 2131.9844,901.0781 L2131.9844,902.1719 Q2131.9844,903.4063 2132.875,904.2266 Q2133.7656,905.0469 2135.3594,905.0469 Q2136.2969,905.0469 2136.9531,904.7969 Q2137.3438,904.6406 2137.7656,904.2031 Q2138.0313,903.9375 2138.1797,903.8594 Q2138.3281,903.7813 2138.5313,903.7813 Q2138.8594,903.7813 2139.1172,904.0391 Q2139.375,904.2969 2139.375,904.6406 Q2139.375,904.9844 2139.0313,905.3906 Q2138.5313,905.9688 2137.7344,906.2969 Q2136.6563,906.75 2135.3594,906.75 Q2133.8438,906.75 2132.6406,906.125 Q2131.6563,905.625 2130.9688,904.5547 Q2130.2813,903.4844 2130.2813,902.2031 L2130.2813,901.0469 Q2130.2813,899.7188 2130.8984,898.5703 Q2131.5156,897.4219 2132.6094,896.8047 Q2133.7031,896.1875 2134.9375,896.1875 Q2135.6719,896.1875 2136.3203,896.3516 Q2136.9688,896.5156 2137.5156,896.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="2155.25" y="905.9102">SecuritiesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2039.5" x2="2352.5" y1="917" y2="917"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2039.5" x2="2352.5" y1="925" y2="925"/><ellipse cx="2049.5" cy="937.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="2058.5" y="940.4189">findByTicker(securityTicker: string): Promise&lt;Security&gt;</text><ellipse cx="2049.5" cy="951.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="289" x="2058.5" y="954.2549">findByTickers(securityTickers: string[]): Promise&lt;Security[]&gt;</text><ellipse cx="2049.5" cy="965.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="2058.5" y="968.0908">findAllFollowed(): Promise&lt;Security[]&gt;</text><ellipse cx="2049.5" cy="978.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="2058.5" y="981.9268">follow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="2049.5" cy="992.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="225" x="2058.5" y="995.7627">unfollow(securityTicker: string): Promise&lt;any&gt;</text><ellipse cx="2049.5" cy="1006.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="2058.5" y="1009.5986">updateAll(securities: Security[]): Promise&lt;void&gt;</text><!--class PortfolioRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="89.5078" id="PortfolioRepository" style="stroke: #A80036; stroke-width: 1.5;" width="385" x="1186.5" y="906"/><ellipse cx="1322.75" cy="922" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1325.5156,917.875 Q1325.6719,917.6563 1325.8594,917.5469 Q1326.0469,917.4375 1326.2656,917.4375 Q1326.6406,917.4375 1326.875,917.6953 Q1327.1094,917.9531 1327.1094,918.5625 L1327.1094,920.0156 Q1327.1094,920.625 1326.875,920.8906 Q1326.6406,921.1563 1326.2656,921.1563 Q1325.9219,921.1563 1325.7188,920.9531 Q1325.5156,920.7656 1325.4063,920.25 Q1325.3594,919.8906 1325.1719,919.7031 Q1324.8438,919.3281 1324.2344,919.1094 Q1323.625,918.8906 1323,918.8906 Q1322.2344,918.8906 1321.6016,919.2188 Q1320.9688,919.5469 1320.4766,920.2969 Q1319.9844,921.0469 1319.9844,922.0781 L1319.9844,923.1719 Q1319.9844,924.4063 1320.875,925.2266 Q1321.7656,926.0469 1323.3594,926.0469 Q1324.2969,926.0469 1324.9531,925.7969 Q1325.3438,925.6406 1325.7656,925.2031 Q1326.0313,924.9375 1326.1797,924.8594 Q1326.3281,924.7813 1326.5313,924.7813 Q1326.8594,924.7813 1327.1172,925.0391 Q1327.375,925.2969 1327.375,925.6406 Q1327.375,925.9844 1327.0313,926.3906 Q1326.5313,926.9688 1325.7344,927.2969 Q1324.6563,927.75 1323.3594,927.75 Q1321.8438,927.75 1320.6406,927.125 Q1319.6563,926.625 1318.9688,925.5547 Q1318.2813,924.4844 1318.2813,923.2031 L1318.2813,922.0469 Q1318.2813,920.7188 1318.8984,919.5703 Q1319.5156,918.4219 1320.6094,917.8047 Q1321.7031,917.1875 1322.9375,917.1875 Q1323.6719,917.1875 1324.3203,917.3516 Q1324.9688,917.5156 1325.5156,917.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="1343.25" y="926.9102">PortfolioRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1187.5" x2="1570.5" y1="938" y2="938"/><ellipse cx="1197.5" cy="950.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1206.5" y="953.4189">securities: Repository&lt;SecurityBalance&gt;</text><ellipse cx="1197.5" cy="964.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="1206.5" y="967.2549">currencies: Repository&lt;CurrencyBalance&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1187.5" x2="1570.5" y1="973.6719" y2="973.6719"/><ellipse cx="1197.5" cy="986.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="1206.5" y="989.0908">findPositions(options?: FindManyOptions&lt;AssetBalance&gt;): Promise&lt;any[]&gt;</text><!--class CurrenciesRepository--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="75.6719" id="CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.5;" width="301" x="1654.5" y="913"/><ellipse cx="1740.75" cy="929" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1743.5156,924.875 Q1743.6719,924.6563 1743.8594,924.5469 Q1744.0469,924.4375 1744.2656,924.4375 Q1744.6406,924.4375 1744.875,924.6953 Q1745.1094,924.9531 1745.1094,925.5625 L1745.1094,927.0156 Q1745.1094,927.625 1744.875,927.8906 Q1744.6406,928.1563 1744.2656,928.1563 Q1743.9219,928.1563 1743.7188,927.9531 Q1743.5156,927.7656 1743.4063,927.25 Q1743.3594,926.8906 1743.1719,926.7031 Q1742.8438,926.3281 1742.2344,926.1094 Q1741.625,925.8906 1741,925.8906 Q1740.2344,925.8906 1739.6016,926.2188 Q1738.9688,926.5469 1738.4766,927.2969 Q1737.9844,928.0469 1737.9844,929.0781 L1737.9844,930.1719 Q1737.9844,931.4063 1738.875,932.2266 Q1739.7656,933.0469 1741.3594,933.0469 Q1742.2969,933.0469 1742.9531,932.7969 Q1743.3438,932.6406 1743.7656,932.2031 Q1744.0313,931.9375 1744.1797,931.8594 Q1744.3281,931.7813 1744.5313,931.7813 Q1744.8594,931.7813 1745.1172,932.0391 Q1745.375,932.2969 1745.375,932.6406 Q1745.375,932.9844 1745.0313,933.3906 Q1744.5313,933.9688 1743.7344,934.2969 Q1742.6563,934.75 1741.3594,934.75 Q1739.8438,934.75 1738.6406,934.125 Q1737.6563,933.625 1736.9688,932.5547 Q1736.2813,931.4844 1736.2813,930.2031 L1736.2813,929.0469 Q1736.2813,927.7188 1736.8984,926.5703 Q1737.5156,925.4219 1738.6094,924.8047 Q1739.7031,924.1875 1740.9375,924.1875 Q1741.6719,924.1875 1742.3203,924.3516 Q1742.9688,924.5156 1743.5156,924.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="120" x="1761.25" y="933.9102">CurrenciesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1655.5" x2="1954.5" y1="945" y2="945"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1655.5" x2="1954.5" y1="953" y2="953"/><ellipse cx="1665.5" cy="965.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="1674.5" y="968.4189">findByTicker(currencyTicker: string): Promise&lt;Currency&gt;</text><ellipse cx="1665.5" cy="979.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="238" x="1674.5" y="982.2549">updateAll(currencies: Currency[]): Promise&lt;void&gt;</text><!--class IInMemoryStorage--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="89.5078" id="IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="1936.5" y="477.5"/><ellipse cx="1976.25" cy="493.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1977.2031,490.1406 L1977.2031,496.7969 L1978.9219,496.7969 Q1979.5313,496.7969 1979.7969,497.0313 Q1980.0625,497.2656 1980.0625,497.6563 Q1980.0625,498.0313 1979.7969,498.2656 Q1979.5313,498.5 1978.9219,498.5 L1973.7813,498.5 Q1973.1719,498.5 1972.9063,498.2656 Q1972.6406,498.0313 1972.6406,497.6406 Q1972.6406,497.2656 1972.9063,497.0313 Q1973.1719,496.7969 1973.7813,496.7969 L1975.5,496.7969 L1975.5,490.1406 L1973.7813,490.1406 Q1973.1719,490.1406 1972.9063,489.9063 Q1972.6406,489.6719 1972.6406,489.2813 Q1972.6406,488.9063 1972.9063,488.6719 Q1973.1719,488.4375 1973.7813,488.4375 L1978.9219,488.4375 Q1979.5313,488.4375 1979.7969,488.6719 Q1980.0625,488.9063 1980.0625,489.2813 Q1980.0625,489.6719 1979.7969,489.9063 Q1979.5313,490.1406 1978.9219,490.1406 L1977.2031,490.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="1995.75" y="498.4102">IInMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1937.5" x2="2124.5" y1="509.5" y2="509.5"/><ellipse cx="1947.5" cy="521.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1956.5" y="524.9189">securities: SecuritiesRepository</text><ellipse cx="1947.5" cy="535.7539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1956.5" y="538.7549">portfolio: PortfolioRepository</text><ellipse cx="1947.5" cy="549.5898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1956.5" y="552.5908">currencies: CurrenciesRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1937.5" x2="2124.5" y1="559.0078" y2="559.0078"/><!--class InMemoryStorage--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="117.1797" id="InMemoryStorage" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="1725.5" y="688"/><ellipse cx="1767.95" cy="704" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1770.7156,699.875 Q1770.8719,699.6563 1771.0594,699.5469 Q1771.2469,699.4375 1771.4656,699.4375 Q1771.8406,699.4375 1772.075,699.6953 Q1772.3094,699.9531 1772.3094,700.5625 L1772.3094,702.0156 Q1772.3094,702.625 1772.075,702.8906 Q1771.8406,703.1563 1771.4656,703.1563 Q1771.1219,703.1563 1770.9188,702.9531 Q1770.7156,702.7656 1770.6063,702.25 Q1770.5594,701.8906 1770.3719,701.7031 Q1770.0438,701.3281 1769.4344,701.1094 Q1768.825,700.8906 1768.2,700.8906 Q1767.4344,700.8906 1766.8016,701.2188 Q1766.1688,701.5469 1765.6766,702.2969 Q1765.1844,703.0469 1765.1844,704.0781 L1765.1844,705.1719 Q1765.1844,706.4063 1766.075,707.2266 Q1766.9656,708.0469 1768.5594,708.0469 Q1769.4969,708.0469 1770.1531,707.7969 Q1770.5438,707.6406 1770.9656,707.2031 Q1771.2313,706.9375 1771.3797,706.8594 Q1771.5281,706.7813 1771.7313,706.7813 Q1772.0594,706.7813 1772.3172,707.0391 Q1772.575,707.2969 1772.575,707.6406 Q1772.575,707.9844 1772.2313,708.3906 Q1771.7313,708.9688 1770.9344,709.2969 Q1769.8563,709.75 1768.5594,709.75 Q1767.0438,709.75 1765.8406,709.125 Q1764.8563,708.625 1764.1688,707.5547 Q1763.4813,706.4844 1763.4813,705.2031 L1763.4813,704.0469 Q1763.4813,702.7188 1764.0984,701.5703 Q1764.7156,700.4219 1765.8094,699.8047 Q1766.9031,699.1875 1768.1375,699.1875 Q1768.8719,699.1875 1769.5203,699.3516 Q1770.1688,699.5156 1770.7156,699.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="1788.05" y="708.9102">InMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1726.5" x2="1913.5" y1="720" y2="720"/><ellipse cx="1736.5" cy="732.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1745.5" y="735.4189">securities: SecuritiesRepository</text><ellipse cx="1736.5" cy="746.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1745.5" y="749.2549">portfolio: PortfolioRepository</text><ellipse cx="1736.5" cy="760.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1745.5" y="763.0908">currencies: CurrenciesRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1733.5" y="770.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="1745.5" y="776.9268">datasource: DataSource</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1726.5" x2="1913.5" y1="783.3438" y2="783.3438"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1733.5" y="792.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="1745.5" y="798.7627">initDatasource(): DataSource</text><!--class UnitedStorage--><rect fill="#FEFECE" filter="url(#f1vk8b5ux9fwvm)" height="158.6875" id="UnitedStorage" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="1478" y="197"/><ellipse cx="1545.25" cy="213" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1548.0156,208.875 Q1548.1719,208.6563 1548.3594,208.5469 Q1548.5469,208.4375 1548.7656,208.4375 Q1549.1406,208.4375 1549.375,208.6953 Q1549.6094,208.9531 1549.6094,209.5625 L1549.6094,211.0156 Q1549.6094,211.625 1549.375,211.8906 Q1549.1406,212.1563 1548.7656,212.1563 Q1548.4219,212.1563 1548.2188,211.9531 Q1548.0156,211.7656 1547.9063,211.25 Q1547.8594,210.8906 1547.6719,210.7031 Q1547.3438,210.3281 1546.7344,210.1094 Q1546.125,209.8906 1545.5,209.8906 Q1544.7344,209.8906 1544.1016,210.2188 Q1543.4688,210.5469 1542.9766,211.2969 Q1542.4844,212.0469 1542.4844,213.0781 L1542.4844,214.1719 Q1542.4844,215.4063 1543.375,216.2266 Q1544.2656,217.0469 1545.8594,217.0469 Q1546.7969,217.0469 1547.4531,216.7969 Q1547.8438,216.6406 1548.2656,216.2031 Q1548.5313,215.9375 1548.6797,215.8594 Q1548.8281,215.7813 1549.0313,215.7813 Q1549.3594,215.7813 1549.6172,216.0391 Q1549.875,216.2969 1549.875,216.6406 Q1549.875,216.9844 1549.5313,217.3906 Q1549.0313,217.9688 1548.2344,218.2969 Q1547.1563,218.75 1545.8594,218.75 Q1544.3438,218.75 1543.1406,218.125 Q1542.1563,217.625 1541.4688,216.5547 Q1540.7813,215.4844 1540.7813,214.2031 L1540.7813,213.0469 Q1540.7813,211.7188 1541.3984,210.5703 Q1542.0156,209.4219 1543.1094,208.8047 Q1544.2031,208.1875 1545.4375,208.1875 Q1546.1719,208.1875 1546.8203,208.3516 Q1547.4688,208.5156 1548.0156,208.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="1565.75" y="217.9102">UnitedStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1699" y1="229" y2="229"/><ellipse cx="1489" cy="241.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="1498" y="244.4189">currencies: CurrenciesRepository</text><ellipse cx="1489" cy="255.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1498" y="258.2549">portfolio: PortfolioRepository</text><ellipse cx="1489" cy="269.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1498" y="272.0908">securities: SecuritiesRepository</text><ellipse cx="1489" cy="282.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="1498" y="285.9268">orders: OrdersRepository</text><ellipse cx="1489" cy="296.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="1498" y="299.7627">algorithms: AlgorithmsRepository</text><ellipse cx="1489" cy="310.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1498" y="313.5986">algorithmRuns: AlgorithmRunsRepository</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="321.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1498" y="327.4346">_persistent: IPersistentStorage</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="335.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1498" y="341.2705">_memory: IInMemoryStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1699" y1="347.6875" y2="347.6875"/><!--link Repository to AlgorithmsRepository--><path d="M1081.86,316.07 C1069.98,328.9 1056.54,343.19 1044,356 C993.22,407.88 931.65,466.65 898.31,498.15 " fill="none" id="Repository-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1076.21,311.79,1094.9,301.81,1086.52,321.26,1076.21,311.79" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to AlgorithmRunsRepository--><path d="M1168.93,312.53 C1216.71,344.75 1289.46,393.83 1352.39,436.27 " fill="none" id="Repository-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1165.28,317.84,1152.61,300.85,1173.11,306.23,1165.28,317.84" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to OrdersRepository--><path d="M1065.3,311.92 C1040.83,327.06 1010.73,344.07 982,356 C886.42,395.7 856.92,389.02 757,416 C673.26,438.61 579.34,464.29 505.34,484.59 " fill="none" id="Repository-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1061.15,305.63,1081.79,300.83,1068.65,317.45,1061.15,305.63" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to PersistentStorage--><path d="M1066.24,128.67 C1026.33,156.29 978.03,189.7 937.6,217.67 " fill="none" id="IPersistentStorage-PersistentStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1061.93,122.46,1082.36,116.83,1069.89,133.97,1061.93,122.46" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to SecuritiesRepository--><path d="M1126.3,321.2 C1146.02,412.92 1191.18,617.92 1203,628 C1326.68,733.48 1784.34,620.03 1932,688 C2025.91,731.23 2105.7,822.8 2152.24,885.26 " fill="none" id="Repository-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1119.27,322.77,1121.93,301.75,1132.96,319.84,1119.27,322.77" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to PortfolioRepository--><path d="M1098.35,319.69 C1071.31,387.29 1028.8,522.94 1071,628 C1119.91,749.75 1239.38,851.4 1314.33,906.07 " fill="none" id="Repository-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1092.14,317.39,1106.3,301.63,1105.06,322.78,1092.14,317.39" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Repository to CurrenciesRepository--><path d="M1107.19,321.36 C1093.91,392.46 1078.57,534.33 1142,628 C1159.88,654.4 1552.05,834.68 1724.66,913.14 " fill="none" id="Repository-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1100.5,320.13,1111.33,301.92,1114.22,322.91,1100.5,320.13" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IInMemoryStorage to InMemoryStorage--><path d="M1975.64,581.37 C1944.48,614.23 1905.71,655.11 1874.67,687.85 " fill="none" id="IInMemoryStorage-InMemoryStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1969.97,577.12,1988.82,567.43,1980.13,586.76,1969.97,577.12" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IPersistentStorage to UnitedStorage--><path d="M1260.16,125.55 C1327.13,156.09 1411.37,194.51 1477.83,224.81 " fill="none" id="IPersistentStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1257.6,131.63,1242.31,116.96,1263.41,118.89,1257.6,131.63" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IPersistentStorage--><path d="M1477.83,224.81 C1406.82,192.43 1315.5,150.79 1246.64,119.39 " fill="none" id="UnitedStorage-IPersistentStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1242.31,116.96,1248.8394,124.3334,1246.8594,119.0344,1252.1584,117.0544,1242.31,116.96" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1264.7221" y="126.5066">1</text><!--link IInMemoryStorage to UnitedStorage--><path d="M1959.18,465.31 C1936.1,448.53 1910.01,430.68 1885,416 C1826.03,381.41 1756.99,348.69 1700.43,323.75 " fill="none" id="IInMemoryStorage-UnitedStorage" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1962.86,460.07,1974.79,477.58,1954.55,471.33,1962.86,460.07" style="stroke: #A80036; stroke-width: 1.0;"/><!--link UnitedStorage to IInMemoryStorage--><path d="M1700.43,323.75 C1756.99,348.69 1826.03,381.41 1885,416 C1914.41,433.25 1945.29,454.89 1971.04,474.04 " fill="none" id="UnitedStorage-IInMemoryStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1974.79,477.58,1969.9703,468.991,1970.7831,474.5892,1965.185,475.402,1974.79,477.58" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1959.4331" y="466.7082">1</text><!--link IPersistentStorage to OrdersRepository--><path d="M1048.58,116.88 C1030.32,124.16 1011.23,131.22 993,137 C876.64,173.87 833.15,140.41 725,197 C586.56,269.45 461.51,410.38 404.92,480.02 " fill="none" id="IPersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="401.29,483.5,410.0599,479.0179,404.4343,479.6124,403.8398,473.9869,401.29,483.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="398.8607" y="473.5765">1</text><!--link IPersistentStorage to AlgorithmsRepository--><path d="M1110.16,116.78 C1092.06,139.78 1070.5,169.02 1054,197 C1014.6,263.82 1019.35,288.01 982,356 C954.35,406.34 916.56,461.55 893.8,493.64 " fill="none" id="IPersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="890.55,497.2,899.0294,492.1901,893.4508,493.1275,892.5134,487.5488,890.55,497.2" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="887.0572" y="487.1961">1</text><!--link IPersistentStorage to AlgorithmRunsRepository--><path d="M1178.14,116.81 C1231.83,189.18 1340.84,336.12 1411.58,431.47 " fill="none" id="IPersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1415.13,435.26,1412.9905,425.6463,1412.1552,431.2412,1406.5604,430.406,1415.13,435.26" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1402.0115" y="425.1055">1</text><!--link PersistentStorage to OrdersRepository--><path d="M742.74,333.82 C653,379.25 529.11,441.97 450.02,482.01 " fill="none" id="PersistentStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="445.88,484.61,455.7169,484.1251,450.3435,482.3568,452.1119,476.9835,445.88,484.61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="450.4876" y="473.7068">1</text><!--link PersistentStorage to AlgorithmsRepository--><path d="M858.74,335.21 C862.8,384.6 868.47,453.65 871.63,492.15 " fill="none" id="PersistentStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="872.12,497.06,875.361,487.7597,871.706,492.0772,867.3885,488.4221,872.12,497.06" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="863.6741" y="487.0185">1</text><!--link PersistentStorage to AlgorithmRunsRepository--><path d="M965.32,321.26 C994.19,332.59 1025.25,344.76 1054,356 C1118.85,381.34 1189.31,408.8 1253.83,433.9 " fill="none" id="PersistentStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1258.25,436.01,1251.3159,429.0159,1253.5911,434.195,1248.4119,436.4702,1258.25,436.01" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1232.4559" y="425.1265">1</text><!--link IInMemoryStorage to SecuritiesRepository--><path d="M2047.73,566.24 C2076.26,639.98 2134.56,790.69 2168.95,879.57 " fill="none" id="IInMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2171.07,884.07,2171.5302,874.2319,2169.255,879.4111,2164.0759,877.1359,2171.07,884.07" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2160.7828" y="874.0942">1</text><!--link IInMemoryStorage to PortfolioRepository--><path d="M1941.32,566.32 C1860.92,605.6 1749.43,661.33 1708,688 C1604.5,754.62 1494.54,847 1431.58,902.25 " fill="none" id="IInMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1428.12,906.17,1437.5154,903.2159,1431.8696,902.8624,1432.2232,897.2166,1428.12,906.17" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1427.5102" y="894.985">1</text><!--link IInMemoryStorage to CurrenciesRepository--><path d="M2021.31,566.29 C2007.28,623.62 1977.85,726.62 1932,805 C1909.25,843.88 1875.23,881.9 1848.12,909.17 " fill="none" id="IInMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1845.17,912.12,1854.3624,908.5845,1848.7055,908.5845,1848.7055,902.9276,1845.17,912.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1843.7467" y="902.2187">1</text><!--link InMemoryStorage to SecuritiesRepository--><path d="M1914.88,798.47 C1962.2,823.9 2020.06,854.98 2070.96,882.32 " fill="none" id="InMemoryStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2075.18,885.13,2069.1552,877.3389,2070.7786,882.7578,2065.3596,884.3812,2075.18,885.13" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2054.9211" y="874.1611">1</text><!--link InMemoryStorage to PortfolioRepository--><path d="M1725.12,790.96 C1652.57,824.19 1552.78,869.9 1478.98,903.7 " fill="none" id="InMemoryStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1474.71,906.12,1484.5583,906.0117,1479.2564,904.0392,1481.229,898.7374,1474.71,906.12" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1481.2466" y="895.2546">1</text><!--link InMemoryStorage to CurrenciesRepository--><path d="M1815.7,805.39 C1813.28,837.96 1810.32,877.89 1808.12,907.45 " fill="none" id="InMemoryStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1807.69,912.22,1812.3476,903.542,1808.0615,907.2338,1804.3697,902.9477,1807.69,912.22" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1800.5356" y="902.0531">1</text><!--link UnitedStorage to CurrenciesRepository--><path d="M1700.48,324.57 C1738.11,346.49 1775.9,376.61 1797,416 C1841.48,499.06 1841.24,544.81 1797,628 C1774.6,670.12 1730.4,645.88 1708,688 C1683.58,733.91 1692.85,755.26 1708,805 C1719.77,843.66 1745.73,881.37 1767.83,908.57 " fill="none" id="UnitedStorage-CurrenciesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1771.62,912.18,1768.9938,902.6877,1768.4445,908.3179,1762.8143,907.7686,1771.62,912.18" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1757.5897" y="902.0055">1</text><!--link UnitedStorage to PortfolioRepository--><path d="M1700.28,349.02 C1721.22,368.07 1740.23,390.55 1752,416 C1791.56,501.52 1808.74,552.78 1752,628 C1693.55,705.49 1619.52,629.58 1542,688 C1468.6,743.32 1420.3,842.18 1396.47,901.21 " fill="none" id="UnitedStorage-PortfolioRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1394.38,905.44,1401.4364,898.5693,1396.237,900.7976,1394.0086,895.5981,1394.38,905.44" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1389.3476" y="895.2997">1</text><!--link UnitedStorage to SecuritiesRepository--><path d="M1700.26,288.52 C1851,305.95 2108.11,345.36 2167,416 C2276.96,547.89 2243.05,768.02 2215.85,879.79 " fill="none" id="UnitedStorage-SecuritiesRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="2214.48,884.36,2220.5003,876.5654,2215.6658,879.5026,2212.7285,874.6681,2214.48,884.36" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="2209.3057" y="873.9617">1</text><!--link UnitedStorage to OrdersRepository--><path d="M1477.73,300.38 C1395.63,316.88 1281.09,339.14 1180,356 C992.71,387.24 942.95,377.55 757,416 C668.93,434.21 571.17,461.04 496.34,483.02 " fill="none" id="UnitedStorage-OrdersRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="491.99,484.59,501.7536,485.8832,496.7861,483.1769,499.4925,478.2094,491.99,484.59" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="505.0991" y="473.6831">1</text><!--link UnitedStorage to AlgorithmsRepository--><path d="M1477.67,315.41 C1329.74,365.79 1072.48,453.41 947.02,496.13 " fill="none" id="UnitedStorage-AlgorithmsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="942.51,498.01,952.3197,498.8878,947.2419,496.3946,949.735,491.3168,942.51,498.01" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="951.7127" y="486.955">1</text><!--link UnitedStorage to AlgorithmRunsRepository--><path d="M1553.11,356.22 C1542.23,380.09 1530.2,406.49 1519.01,431.04 " fill="none" id="UnitedStorage-AlgorithmRunsRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1516.63,435.25,1524.0034,428.7206,1518.7044,430.7006,1516.7244,425.4016,1516.63,435.25" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="1512.8685" y="425.0946">1</text><!--
@startuml
interface ITypedTransformer<TEntity, TDatabase> {
    +to: (entityValue: TEntity) => TDatabase
    +from: (databaseValue: TDatabase) => TEntity
}
class AlgorithmsRepository extends Repository
class AlgorithmRunsRepository extends Repository {
    +runOne(algorithmName: string, inputs: unknown, state?: unknown): Promise<AlgorithmRun>
    +saveProgress(id: number, state: unknown): Promise<AlgorithmRun>
    +loadProgress(id: number): Promise<any>
    +stopOne(id: number): Promise<AlgorithmRun>
    +resumeOne(id: number): Promise<AlgorithmRun>
    +finishOne(id: number): Promise<AlgorithmRun>
    +storeError(id: number, error: Error): Promise<AlgorithmRun>
    +findManyByAlgorithm(algorithmName: string): Promise<AlgorithmRun[]>
    +findAllUnfinished(): Promise<AlgorithmRun[]>
}
class OrdersRepository extends Repository {
    +saveOne(order: GetOrderType<CommonDomain>, operation: OperationType, runId?: number): Promise<GetOrderType<CommonDomain>>
    +search(options: GetOrdersOptions): Promise<GetOrderType<CommonDomain>[]>
}
interface IPersistentStorage {
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
}
class PersistentStorage implements IPersistentStorage {
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -datasource: DataSource
    -initDatasource(id: string): DataSource
}
class SecuritiesRepository extends Repository {
    +findByTicker(securityTicker: string): Promise<Security>
    +findByTickers(securityTickers: string[]): Promise<Security[]>
    +findAllFollowed(): Promise<Security[]>
    +follow(securityTicker: string): Promise<any>
    +unfollow(securityTicker: string): Promise<any>
    +updateAll(securities: Security[]): Promise<void>
}
class PortfolioRepository extends Repository {
    +securities: Repository<SecurityBalance>
    +currencies: Repository<CurrencyBalance>
    +findPositions(options?: FindManyOptions<AssetBalance>): Promise<any[]>
}
class CurrenciesRepository extends Repository {
    +findByTicker(currencyTicker: string): Promise<Currency>
    +updateAll(currencies: Currency[]): Promise<void>
}
interface IInMemoryStorage {
    +securities: SecuritiesRepository
    +portfolio: PortfolioRepository
    +currencies: CurrenciesRepository
}
class InMemoryStorage implements IInMemoryStorage {
    +securities: SecuritiesRepository
    +portfolio: PortfolioRepository
    +currencies: CurrenciesRepository
    -datasource: DataSource
    -initDatasource(): DataSource
}
class UnitedStorage implements IPersistentStorage, IInMemoryStorage {
    +currencies: CurrenciesRepository
    +portfolio: PortfolioRepository
    +securities: SecuritiesRepository
    +orders: OrdersRepository
    +algorithms: AlgorithmsRepository
    +algorithmRuns: AlgorithmRunsRepository
    -_persistent: IPersistentStorage
    -_memory: IInMemoryStorage
}
IPersistentStorage - -> "1" OrdersRepository
IPersistentStorage - -> "1" AlgorithmsRepository
IPersistentStorage - -> "1" AlgorithmRunsRepository
PersistentStorage - -> "1" OrdersRepository
PersistentStorage - -> "1" AlgorithmsRepository
PersistentStorage - -> "1" AlgorithmRunsRepository
IInMemoryStorage - -> "1" SecuritiesRepository
IInMemoryStorage - -> "1" PortfolioRepository
IInMemoryStorage - -> "1" CurrenciesRepository
InMemoryStorage - -> "1" SecuritiesRepository
InMemoryStorage - -> "1" PortfolioRepository
InMemoryStorage - -> "1" CurrenciesRepository
UnitedStorage - -> "1" CurrenciesRepository
UnitedStorage - -> "1" PortfolioRepository
UnitedStorage - -> "1" SecuritiesRepository
UnitedStorage - -> "1" OrdersRepository
UnitedStorage - -> "1" AlgorithmsRepository
UnitedStorage - -> "1" AlgorithmRunsRepository
UnitedStorage - -> "1" IPersistentStorage
UnitedStorage - -> "1" IInMemoryStorage
@enduml

PlantUML version 1.2019.06(Fri May 24 21:10:25 GET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_361-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>