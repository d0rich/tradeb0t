<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1580px" preserveAspectRatio="none" style="width:11555px;height:1580px;" version="1.1" viewBox="0 0 11555 1580" width="11555px" zoomAndPan="magnify"><defs><filter height="300%" id="f1wf90yeqdoef5" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Algorithm--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="103.3438" id="Algorithm" style="stroke: #A80036; stroke-width: 1.5;" width="286" x="746" y="202"/><ellipse cx="858.75" cy="218" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M861.5156,213.875 Q861.6719,213.6563 861.8594,213.5469 Q862.0469,213.4375 862.2656,213.4375 Q862.6406,213.4375 862.875,213.6953 Q863.1094,213.9531 863.1094,214.5625 L863.1094,216.0156 Q863.1094,216.625 862.875,216.8906 Q862.6406,217.1563 862.2656,217.1563 Q861.9219,217.1563 861.7188,216.9531 Q861.5156,216.7656 861.4063,216.25 Q861.3594,215.8906 861.1719,215.7031 Q860.8438,215.3281 860.2344,215.1094 Q859.625,214.8906 859,214.8906 Q858.2344,214.8906 857.6016,215.2188 Q856.9688,215.5469 856.4766,216.2969 Q855.9844,217.0469 855.9844,218.0781 L855.9844,219.1719 Q855.9844,220.4063 856.875,221.2266 Q857.7656,222.0469 859.3594,222.0469 Q860.2969,222.0469 860.9531,221.7969 Q861.3438,221.6406 861.7656,221.2031 Q862.0313,220.9375 862.1797,220.8594 Q862.3281,220.7813 862.5313,220.7813 Q862.8594,220.7813 863.1172,221.0391 Q863.375,221.2969 863.375,221.6406 Q863.375,221.9844 863.0313,222.3906 Q862.5313,222.9688 861.7344,223.2969 Q860.6563,223.75 859.3594,223.75 Q857.8438,223.75 856.6406,223.125 Q855.6563,222.625 854.9688,221.5547 Q854.2813,220.4844 854.2813,219.2031 L854.2813,218.0469 Q854.2813,216.7188 854.8984,215.5703 Q855.5156,214.4219 856.6094,213.8047 Q857.7031,213.1875 858.9375,213.1875 Q859.6719,213.1875 860.3203,213.3516 Q860.9688,213.5156 861.5156,213.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="52" x="879.25" y="222.9102">Algorithm</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747" x2="1031" y1="234" y2="234"/><ellipse cx="757" cy="246.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="766" y="249.4189">name: string</text><ellipse cx="757" cy="260.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="766" y="263.2549">description: string</text><ellipse cx="757" cy="274.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="766" y="277.0908">inputTypes: InputTypes</text><ellipse cx="757" cy="287.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="260" x="766" y="290.9268">algorithmRuns?: AlgorithmRun&lt;any, any&gt;[] | undefined</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747" x2="1031" y1="297.3438" y2="297.3438"/><!--class ITypedTransformer--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="75.6719" id="ITypedTransformer" style="stroke: #A80036; stroke-width: 1.5;" width="245" x="1067.5" y="215.5"/><ellipse cx="1082.5" cy="231.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1083.4531,228.1406 L1083.4531,234.7969 L1085.1719,234.7969 Q1085.7813,234.7969 1086.0469,235.0313 Q1086.3125,235.2656 1086.3125,235.6563 Q1086.3125,236.0313 1086.0469,236.2656 Q1085.7813,236.5 1085.1719,236.5 L1080.0313,236.5 Q1079.4219,236.5 1079.1563,236.2656 Q1078.8906,236.0313 1078.8906,235.6406 Q1078.8906,235.2656 1079.1563,235.0313 Q1079.4219,234.7969 1080.0313,234.7969 L1081.75,234.7969 L1081.75,228.1406 L1080.0313,228.1406 Q1079.4219,228.1406 1079.1563,227.9063 Q1078.8906,227.6719 1078.8906,227.2813 Q1078.8906,226.9063 1079.1563,226.6719 Q1079.4219,226.4375 1080.0313,226.4375 L1085.1719,226.4375 Q1085.7813,226.4375 1086.0469,226.6719 Q1086.3125,226.9063 1086.3125,227.2813 Q1086.3125,227.6719 1086.0469,227.9063 Q1085.7813,228.1406 1085.1719,228.1406 L1083.4531,228.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="105" x="1096.5" y="236.4102">ITypedTransformer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="106" x="1209.5" y="212.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="1210.5" y="225.957">TEntity, TDatabase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1068.5" x2="1311.5" y1="247.5" y2="247.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1068.5" x2="1311.5" y1="255.5" y2="255.5"/><ellipse cx="1078.5" cy="267.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="1087.5" y="270.9189">to: (entityValue: TEntity) =&gt; TDatabase</text><ellipse cx="1078.5" cy="281.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="1087.5" y="284.7549">from: (databaseValue: TDatabase) =&gt; TEntity</text><!--class AlgorithmRun--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="172.5234" id="AlgorithmRun" style="stroke: #A80036; stroke-width: 1.5;" width="227" x="1347.5" y="167"/><ellipse cx="1362.5" cy="183" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1365.2656,178.875 Q1365.4219,178.6563 1365.6094,178.5469 Q1365.7969,178.4375 1366.0156,178.4375 Q1366.3906,178.4375 1366.625,178.6953 Q1366.8594,178.9531 1366.8594,179.5625 L1366.8594,181.0156 Q1366.8594,181.625 1366.625,181.8906 Q1366.3906,182.1563 1366.0156,182.1563 Q1365.6719,182.1563 1365.4688,181.9531 Q1365.2656,181.7656 1365.1563,181.25 Q1365.1094,180.8906 1364.9219,180.7031 Q1364.5938,180.3281 1363.9844,180.1094 Q1363.375,179.8906 1362.75,179.8906 Q1361.9844,179.8906 1361.3516,180.2188 Q1360.7188,180.5469 1360.2266,181.2969 Q1359.7344,182.0469 1359.7344,183.0781 L1359.7344,184.1719 Q1359.7344,185.4063 1360.625,186.2266 Q1361.5156,187.0469 1363.1094,187.0469 Q1364.0469,187.0469 1364.7031,186.7969 Q1365.0938,186.6406 1365.5156,186.2031 Q1365.7813,185.9375 1365.9297,185.8594 Q1366.0781,185.7813 1366.2813,185.7813 Q1366.6094,185.7813 1366.8672,186.0391 Q1367.125,186.2969 1367.125,186.6406 Q1367.125,186.9844 1366.7813,187.3906 Q1366.2813,187.9688 1365.4844,188.2969 Q1364.4063,188.75 1363.1094,188.75 Q1361.5938,188.75 1360.3906,188.125 Q1359.4063,187.625 1358.7188,186.5547 Q1358.0313,185.4844 1358.0313,184.2031 L1358.0313,183.0469 Q1358.0313,181.7188 1358.6484,180.5703 Q1359.2656,179.4219 1360.3594,178.8047 Q1361.4531,178.1875 1362.6875,178.1875 Q1363.4219,178.1875 1364.0703,178.3516 Q1364.7188,178.5156 1365.2656,178.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1376.5" y="187.9102">AlgorithmRun</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="118" x="1459.5" y="164"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="116" x="1460.5" y="177.457">InputType, StateType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1348.5" x2="1573.5" y1="199" y2="199"/><ellipse cx="1358.5" cy="211.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1367.5" y="214.4189">id: number</text><ellipse cx="1358.5" cy="225.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="1367.5" y="228.2549">algorithmName: string</text><ellipse cx="1358.5" cy="239.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1367.5" y="242.0908">inputs: InputType</text><ellipse cx="1358.5" cy="252.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="1367.5" y="255.9268">status: AlgorithmRunStatus</text><ellipse cx="1358.5" cy="266.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="1367.5" y="269.7627">state: StateType</text><ellipse cx="1358.5" cy="280.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="1367.5" y="283.5986">updatedAt: Date</text><ellipse cx="1358.5" cy="294.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="1367.5" y="297.4346">createdAt: Date</text><ellipse cx="1358.5" cy="308.2695" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1367.5" y="311.2705">algorithm: Algorithm</text><ellipse cx="1358.5" cy="322.1055" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1367.5" y="325.1064">orders: Order[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1348.5" x2="1573.5" y1="331.5234" y2="331.5234"/><!--class Order--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="172.5234" id="Order" style="stroke: #A80036; stroke-width: 1.5;" width="561" x="1609.5" y="167"/><ellipse cx="1870.25" cy="183" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1873.0156,178.875 Q1873.1719,178.6563 1873.3594,178.5469 Q1873.5469,178.4375 1873.7656,178.4375 Q1874.1406,178.4375 1874.375,178.6953 Q1874.6094,178.9531 1874.6094,179.5625 L1874.6094,181.0156 Q1874.6094,181.625 1874.375,181.8906 Q1874.1406,182.1563 1873.7656,182.1563 Q1873.4219,182.1563 1873.2188,181.9531 Q1873.0156,181.7656 1872.9063,181.25 Q1872.8594,180.8906 1872.6719,180.7031 Q1872.3438,180.3281 1871.7344,180.1094 Q1871.125,179.8906 1870.5,179.8906 Q1869.7344,179.8906 1869.1016,180.2188 Q1868.4688,180.5469 1867.9766,181.2969 Q1867.4844,182.0469 1867.4844,183.0781 L1867.4844,184.1719 Q1867.4844,185.4063 1868.375,186.2266 Q1869.2656,187.0469 1870.8594,187.0469 Q1871.7969,187.0469 1872.4531,186.7969 Q1872.8438,186.6406 1873.2656,186.2031 Q1873.5313,185.9375 1873.6797,185.8594 Q1873.8281,185.7813 1874.0313,185.7813 Q1874.3594,185.7813 1874.6172,186.0391 Q1874.875,186.2969 1874.875,186.6406 Q1874.875,186.9844 1874.5313,187.3906 Q1874.0313,187.9688 1873.2344,188.2969 Q1872.1563,188.75 1870.8594,188.75 Q1869.3438,188.75 1868.1406,188.125 Q1867.1563,187.625 1866.4688,186.5547 Q1865.7813,185.4844 1865.7813,184.2031 L1865.7813,183.0469 Q1865.7813,181.7188 1866.3984,180.5703 Q1867.0156,179.4219 1868.1094,178.8047 Q1869.2031,178.1875 1870.4375,178.1875 Q1871.1719,178.1875 1871.8203,178.3516 Q1872.4688,178.5156 1873.0156,178.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="31" x="1890.75" y="187.9102">Order</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1610.5" x2="2169.5" y1="199" y2="199"/><ellipse cx="1620.5" cy="211.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="1629.5" y="214.4189">exchangeId: string</text><ellipse cx="1620.5" cy="225.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1629.5" y="228.2549">securityTicker: string</text><ellipse cx="1620.5" cy="239.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="1629.5" y="242.0908">status: OrderStatus</text><ellipse cx="1620.5" cy="252.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="535" x="1629.5" y="255.9268">operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"</text><ellipse cx="1620.5" cy="266.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="1629.5" y="269.7627">lots: number</text><ellipse cx="1620.5" cy="280.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="1629.5" y="283.5986">price: number</text><ellipse cx="1620.5" cy="294.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="1629.5" y="297.4346">updatedAt?: Date | undefined</text><ellipse cx="1620.5" cy="308.2695" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="1629.5" y="311.2705">algorithmRunId?: number | undefined</text><ellipse cx="1620.5" cy="322.1055" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="1629.5" y="325.1064">algorithmRun?: AlgorithmRun&lt;any, any&gt; | undefined</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1610.5" x2="2169.5" y1="331.5234" y2="331.5234"/><!--class PortfolioStore--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="172.5234" id="PortfolioStore" style="stroke: #A80036; stroke-width: 1.5;" width="488" x="645" y="738.5"/><ellipse cx="847.75" cy="754.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M850.5156,750.375 Q850.6719,750.1563 850.8594,750.0469 Q851.0469,749.9375 851.2656,749.9375 Q851.6406,749.9375 851.875,750.1953 Q852.1094,750.4531 852.1094,751.0625 L852.1094,752.5156 Q852.1094,753.125 851.875,753.3906 Q851.6406,753.6563 851.2656,753.6563 Q850.9219,753.6563 850.7188,753.4531 Q850.5156,753.2656 850.4063,752.75 Q850.3594,752.3906 850.1719,752.2031 Q849.8438,751.8281 849.2344,751.6094 Q848.625,751.3906 848,751.3906 Q847.2344,751.3906 846.6016,751.7188 Q845.9688,752.0469 845.4766,752.7969 Q844.9844,753.5469 844.9844,754.5781 L844.9844,755.6719 Q844.9844,756.9063 845.875,757.7266 Q846.7656,758.5469 848.3594,758.5469 Q849.2969,758.5469 849.9531,758.2969 Q850.3438,758.1406 850.7656,757.7031 Q851.0313,757.4375 851.1797,757.3594 Q851.3281,757.2813 851.5313,757.2813 Q851.8594,757.2813 852.1172,757.5391 Q852.375,757.7969 852.375,758.1406 Q852.375,758.4844 852.0313,758.8906 Q851.5313,759.4688 850.7344,759.7969 Q849.6563,760.25 848.3594,760.25 Q846.8438,760.25 845.6406,759.625 Q844.6563,759.125 843.9688,758.0547 Q843.2813,756.9844 843.2813,755.7031 L843.2813,754.5469 Q843.2813,753.2188 843.8984,752.0703 Q844.5156,750.9219 845.6094,750.3047 Q846.7031,749.6875 847.9375,749.6875 Q848.6719,749.6875 849.3203,749.8516 Q849.9688,750.0156 850.5156,750.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="74" x="868.25" y="759.4102">PortfolioStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="646" x2="1132" y1="770.5" y2="770.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="653" y="779.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="665" y="785.9189">items: PortfolioPosition[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="653" y="793.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="665" y="799.7549">securitiesStore: SecuritiesStore</text><ellipse cx="656" cy="810.5898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="127" x="665" y="813.5908">portfolio: PortfolioPosition[]</text><ellipse cx="656" cy="824.4258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="665" y="827.4268">currencies: CurrencyBalance[]</text><ellipse cx="656" cy="838.2617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="665" y="841.2627">securities: SecurityBalance[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="646" x2="1132" y1="847.6797" y2="847.6797"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="653" y="857.0977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="462" x="665" y="863.0986">findPosition(position: PortfolioPosition, searchIn?: PortfolioPosition[]): PortfolioPosition | undefined</text><ellipse cx="656" cy="873.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="228" x="665" y="876.9346">setSecuritiesStore(store: SecuritiesStore): void</text><ellipse cx="656" cy="887.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="665" y="890.7705">updatePositions(positions: PortfolioPosition[]): void</text><ellipse cx="656" cy="901.6055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="665" y="904.6064">updatePositionsAll(positions: PortfolioPosition[]): void</text><!--class SecuritiesStore--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="214.0313" id="SecuritiesStore" style="stroke: #A80036; stroke-width: 1.5;" width="611" x="1168.5" y="718"/><ellipse cx="1427.75" cy="734" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1430.5156,729.875 Q1430.6719,729.6563 1430.8594,729.5469 Q1431.0469,729.4375 1431.2656,729.4375 Q1431.6406,729.4375 1431.875,729.6953 Q1432.1094,729.9531 1432.1094,730.5625 L1432.1094,732.0156 Q1432.1094,732.625 1431.875,732.8906 Q1431.6406,733.1563 1431.2656,733.1563 Q1430.9219,733.1563 1430.7188,732.9531 Q1430.5156,732.7656 1430.4063,732.25 Q1430.3594,731.8906 1430.1719,731.7031 Q1429.8438,731.3281 1429.2344,731.1094 Q1428.625,730.8906 1428,730.8906 Q1427.2344,730.8906 1426.6016,731.2188 Q1425.9688,731.5469 1425.4766,732.2969 Q1424.9844,733.0469 1424.9844,734.0781 L1424.9844,735.1719 Q1424.9844,736.4063 1425.875,737.2266 Q1426.7656,738.0469 1428.3594,738.0469 Q1429.2969,738.0469 1429.9531,737.7969 Q1430.3438,737.6406 1430.7656,737.2031 Q1431.0313,736.9375 1431.1797,736.8594 Q1431.3281,736.7813 1431.5313,736.7813 Q1431.8594,736.7813 1432.1172,737.0391 Q1432.375,737.2969 1432.375,737.6406 Q1432.375,737.9844 1432.0313,738.3906 Q1431.5313,738.9688 1430.7344,739.2969 Q1429.6563,739.75 1428.3594,739.75 Q1426.8438,739.75 1425.6406,739.125 Q1424.6563,738.625 1423.9688,737.5547 Q1423.2813,736.4844 1423.2813,735.2031 L1423.2813,734.0469 Q1423.2813,732.7188 1423.8984,731.5703 Q1424.5156,730.4219 1425.6094,729.8047 Q1426.7031,729.1875 1427.9375,729.1875 Q1428.6719,729.1875 1429.3203,729.3516 Q1429.9688,729.5156 1430.5156,729.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="1448.25" y="738.9102">SecuritiesStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1169.5" x2="1778.5" y1="750" y2="750"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1176.5" y="759.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="1188.5" y="765.4189">items: Security[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1176.5" y="773.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1188.5" y="779.2549">followList: string[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1176.5" y="787.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="1188.5" y="793.0908">updateJournal: Map&lt;string, Date&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1176.5" y="800.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1188.5" y="806.9268">portfolioStore: PortfolioStore</text><ellipse cx="1179.5" cy="817.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="1188.5" y="820.7627">securities: Security[]</text><ellipse cx="1179.5" cy="831.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="1188.5" y="834.5986">followedSecurities: Security[]</text><ellipse cx="1179.5" cy="845.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="585" x="1188.5" y="848.4346">securitiesWithUpdates: { updatedAt: Date | undefined; name: string; ticker: string; price: number; currencyTicker: string; }[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1169.5" x2="1778.5" y1="854.8516" y2="854.8516"/><ellipse cx="1179.5" cy="867.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="1188.5" y="870.2705">setPortfolioStore(store: PortfolioStore): void</text><ellipse cx="1179.5" cy="881.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="1188.5" y="884.1064">follow(securityTicker: string): Security | undefined</text><ellipse cx="1179.5" cy="894.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="1188.5" y="897.9424">unfollow(securityTicker: string): Security | undefined</text><ellipse cx="1179.5" cy="908.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="1188.5" y="911.7783">updateSecurities(securities: Security[]): void</text><ellipse cx="1179.5" cy="922.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="1188.5" y="925.6143">getBalanceOf(securityTicker: string): SecurityBalance | undefined</text><!--class CurrenciesStore--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="131.0156" id="CurrenciesStore" style="stroke: #A80036; stroke-width: 1.5;" width="352" x="1815" y="759.5"/><ellipse cx="1941.75" cy="775.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1944.5156,771.375 Q1944.6719,771.1563 1944.8594,771.0469 Q1945.0469,770.9375 1945.2656,770.9375 Q1945.6406,770.9375 1945.875,771.1953 Q1946.1094,771.4531 1946.1094,772.0625 L1946.1094,773.5156 Q1946.1094,774.125 1945.875,774.3906 Q1945.6406,774.6563 1945.2656,774.6563 Q1944.9219,774.6563 1944.7188,774.4531 Q1944.5156,774.2656 1944.4063,773.75 Q1944.3594,773.3906 1944.1719,773.2031 Q1943.8438,772.8281 1943.2344,772.6094 Q1942.625,772.3906 1942,772.3906 Q1941.2344,772.3906 1940.6016,772.7188 Q1939.9688,773.0469 1939.4766,773.7969 Q1938.9844,774.5469 1938.9844,775.5781 L1938.9844,776.6719 Q1938.9844,777.9063 1939.875,778.7266 Q1940.7656,779.5469 1942.3594,779.5469 Q1943.2969,779.5469 1943.9531,779.2969 Q1944.3438,779.1406 1944.7656,778.7031 Q1945.0313,778.4375 1945.1797,778.3594 Q1945.3281,778.2813 1945.5313,778.2813 Q1945.8594,778.2813 1946.1172,778.5391 Q1946.375,778.7969 1946.375,779.1406 Q1946.375,779.4844 1946.0313,779.8906 Q1945.5313,780.4688 1944.7344,780.7969 Q1943.6563,781.25 1942.3594,781.25 Q1940.8438,781.25 1939.6406,780.625 Q1938.6563,780.125 1937.9688,779.0547 Q1937.2813,777.9844 1937.2813,776.7031 L1937.2813,775.5469 Q1937.2813,774.2188 1937.8984,773.0703 Q1938.5156,771.9219 1939.6094,771.3047 Q1940.7031,770.6875 1941.9375,770.6875 Q1942.6719,770.6875 1943.3203,770.8516 Q1943.9688,771.0156 1944.5156,771.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="1962.25" y="780.4102">CurrenciesStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1816" x2="2166" y1="791.5" y2="791.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1823" y="800.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1835" y="806.9189">items: Currency[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1823" y="814.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="1835" y="820.7549">portfolioStore: PortfolioStore</text><ellipse cx="1826" cy="831.5898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="109" x="1835" y="834.5908">currencies: Currency[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1816" x2="2166" y1="841.0078" y2="841.0078"/><ellipse cx="1826" cy="853.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="1835" y="856.4268">setPortfolioStore(store: PortfolioStore): void</text><ellipse cx="1826" cy="867.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="1835" y="870.2627">updateCurrenciesAll(currencies: Currency[]): void</text><ellipse cx="1826" cy="881.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="326" x="1835" y="884.0986">getBalanceOf(currencyTicker: string): CurrencyBalance | undefined</text><!--class TradeBotStore--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="89.5078" id="TradeBotStore" style="stroke: #A80036; stroke-width: 1.5;" width="189" x="2202.5" y="780"/><ellipse cx="2253.25" cy="796" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2256.0156,791.875 Q2256.1719,791.6563 2256.3594,791.5469 Q2256.5469,791.4375 2256.7656,791.4375 Q2257.1406,791.4375 2257.375,791.6953 Q2257.6094,791.9531 2257.6094,792.5625 L2257.6094,794.0156 Q2257.6094,794.625 2257.375,794.8906 Q2257.1406,795.1563 2256.7656,795.1563 Q2256.4219,795.1563 2256.2188,794.9531 Q2256.0156,794.7656 2255.9063,794.25 Q2255.8594,793.8906 2255.6719,793.7031 Q2255.3438,793.3281 2254.7344,793.1094 Q2254.125,792.8906 2253.5,792.8906 Q2252.7344,792.8906 2252.1016,793.2188 Q2251.4688,793.5469 2250.9766,794.2969 Q2250.4844,795.0469 2250.4844,796.0781 L2250.4844,797.1719 Q2250.4844,798.4063 2251.375,799.2266 Q2252.2656,800.0469 2253.8594,800.0469 Q2254.7969,800.0469 2255.4531,799.7969 Q2255.8438,799.6406 2256.2656,799.2031 Q2256.5313,798.9375 2256.6797,798.8594 Q2256.8281,798.7813 2257.0313,798.7813 Q2257.3594,798.7813 2257.6172,799.0391 Q2257.875,799.2969 2257.875,799.6406 Q2257.875,799.9844 2257.5313,800.3906 Q2257.0313,800.9688 2256.2344,801.2969 Q2255.1563,801.75 2253.8594,801.75 Q2252.3438,801.75 2251.1406,801.125 Q2250.1563,800.625 2249.4688,799.5547 Q2248.7813,798.4844 2248.7813,797.2031 L2248.7813,796.0469 Q2248.7813,794.7188 2249.3984,793.5703 Q2250.0156,792.4219 2251.1094,791.8047 Q2252.2031,791.1875 2253.4375,791.1875 Q2254.1719,791.1875 2254.8203,791.3516 Q2255.4688,791.5156 2256.0156,791.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="2273.75" y="800.9102">TradeBotStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2203.5" x2="2390.5" y1="812" y2="812"/><ellipse cx="2213.5" cy="824.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="2222.5" y="827.4189">securitiesStore: SecuritiesStore</text><ellipse cx="2213.5" cy="838.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="2222.5" y="841.2549">portfolioStore: PortfolioStore</text><ellipse cx="2213.5" cy="852.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="2222.5" y="855.0908">currenciesStore: CurrenciesStore</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2203.5" x2="2390.5" y1="861.5078" y2="861.5078"/><!--class ITradeModule--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="131.0156" id="ITradeModule" style="stroke: #A80036; stroke-width: 1.5;" width="589" x="2490.5" y="188"/><ellipse cx="2505.5" cy="204" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2506.4531,200.6406 L2506.4531,207.2969 L2508.1719,207.2969 Q2508.7813,207.2969 2509.0469,207.5313 Q2509.3125,207.7656 2509.3125,208.1563 Q2509.3125,208.5313 2509.0469,208.7656 Q2508.7813,209 2508.1719,209 L2503.0313,209 Q2502.4219,209 2502.1563,208.7656 Q2501.8906,208.5313 2501.8906,208.1406 Q2501.8906,207.7656 2502.1563,207.5313 Q2502.4219,207.2969 2503.0313,207.2969 L2504.75,207.2969 L2504.75,200.6406 L2503.0313,200.6406 Q2502.4219,200.6406 2502.1563,200.4063 Q2501.8906,200.1719 2501.8906,199.7813 Q2501.8906,199.4063 2502.1563,199.1719 Q2502.4219,198.9375 2503.0313,198.9375 L2508.1719,198.9375 Q2508.7813,198.9375 2509.0469,199.1719 Q2509.3125,199.4063 2509.3125,199.7813 Q2509.3125,200.1719 2509.0469,200.4063 Q2508.7813,200.6406 2508.1719,200.6406 L2506.4531,200.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="76" x="2519.5" y="208.9102">ITradeModule</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="479" x="2603.5" y="185"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="477" x="2604.5" y="198.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2491.5" x2="3078.5" y1="220" y2="220"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="2491.5" x2="3078.5" y1="228" y2="228"/><ellipse cx="2501.5" cy="240.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="2510.5" y="243.4189">sell(options: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2501.5" cy="254.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="2510.5" y="257.2549">buy(options: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2501.5" cy="268.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="367" x="2510.5" y="271.0908">marketSell(options: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2501.5" cy="281.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="369" x="2510.5" y="284.9268">marketBuy(options: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2501.5" cy="295.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="241" x="2510.5" y="298.7627">sellOrCancel(): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2501.5" cy="309.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="243" x="2510.5" y="312.5986">buyOrCancel(): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><!--class AbstractTradeModule--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="158.6875" id="AbstractTradeModule" style="stroke: #A80036; stroke-width: 1.5;" width="716" x="2427" y="745.5"/><ellipse cx="2442" cy="761.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M2444.1875,763.2656 L2440.0469,763.2656 L2439.625,764.2969 L2440.0469,764.2969 Q2440.6563,764.2969 2440.9219,764.5313 Q2441.1875,764.7656 2441.1875,765.1563 Q2441.1875,765.5313 2440.9219,765.7656 Q2440.6563,766 2440.0469,766 L2437.75,766 Q2437.1406,766 2436.8828,765.7656 Q2436.625,765.5313 2436.625,765.1406 Q2436.625,764.7656 2436.8984,764.5234 Q2437.1719,764.2813 2437.7969,764.2969 L2440.4688,757.6406 L2439.3594,757.6406 Q2438.75,757.6406 2438.4844,757.4063 Q2438.2188,757.1719 2438.2188,756.7813 Q2438.2188,756.4063 2438.4844,756.1719 Q2438.75,755.9375 2439.3594,755.9375 L2443.0313,755.9375 L2446.4219,764.2969 Q2447.0156,764.2969 2447.2031,764.4375 Q2447.5938,764.7031 2447.5938,765.1563 Q2447.5938,765.5313 2447.3359,765.7656 Q2447.0781,766 2446.4688,766 L2444.1719,766 Q2443.5625,766 2443.2969,765.7656 Q2443.0313,765.5313 2443.0313,765.1406 Q2443.0313,764.7656 2443.2969,764.5313 Q2443.5625,764.2969 2444.1719,764.2969 L2444.5938,764.2969 L2444.1875,763.2656 Z M2443.4688,761.5625 L2442.1094,758.1875 L2440.7344,761.5625 L2443.4688,761.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="117" x="2456" y="766.4102">AbstractTradeModule</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="2581" y="742.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="2582" y="755.957">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2428" x2="3142" y1="777.5" y2="777.5"/><polygon fill="none" points="2438,784.918,2442,788.918,2438,792.918,2434,788.918" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="2447" y="792.9189">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="2428" x2="3142" y1="799.3359" y2="799.3359"/><ellipse cx="2438" cy="811.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="402" x="2447" y="814.7549">setExchangeClient(exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;): void</text><ellipse cx="2438" cy="825.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="331" x="2447" y="828.5908">sell(__0: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2438" cy="839.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="331" x="2447" y="842.4268">buy(__0: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2438" cy="853.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="366" x="2447" y="856.2627">marketSell(__0: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2438" cy="867.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="365" x="2447" y="870.0986">marketBuy(__0: CreateOrderOptions): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2438" cy="880.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="254" x="2447" y="883.9346">sellOrCancel(): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><ellipse cx="2438" cy="894.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="254" x="2447" y="897.7705">buyOrCancel(): Promise&lt;GetOrderType&lt;Domain&gt;&gt;</text><!--class IInfoModule--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="131.0156" id="IInfoModule" style="stroke: #A80036; stroke-width: 1.5;" width="619" x="3221.5" y="188"/><ellipse cx="3254.95" cy="204" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3255.9031,200.6406 L3255.9031,207.2969 L3257.6219,207.2969 Q3258.2313,207.2969 3258.4969,207.5313 Q3258.7625,207.7656 3258.7625,208.1563 Q3258.7625,208.5313 3258.4969,208.7656 Q3258.2313,209 3257.6219,209 L3252.4813,209 Q3251.8719,209 3251.6063,208.7656 Q3251.3406,208.5313 3251.3406,208.1406 Q3251.3406,207.7656 3251.6063,207.5313 Q3251.8719,207.2969 3252.4813,207.2969 L3254.2,207.2969 L3254.2,200.6406 L3252.4813,200.6406 Q3251.8719,200.6406 3251.6063,200.4063 Q3251.3406,200.1719 3251.3406,199.7813 Q3251.3406,199.4063 3251.6063,199.1719 Q3251.8719,198.9375 3252.4813,198.9375 L3257.6219,198.9375 Q3258.2313,198.9375 3258.4969,199.1719 Q3258.7625,199.4063 3258.7625,199.7813 Q3258.7625,200.1719 3258.4969,200.4063 Q3258.2313,200.6406 3257.6219,200.6406 L3255.9031,200.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="3273.05" y="208.9102">IInfoModule</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="479" x="3364.5" y="185"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="477" x="3365.5" y="198.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3222.5" x2="3839.5" y1="220" y2="220"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="3222.5" x2="3839.5" y1="228" y2="228"/><ellipse cx="3232.5" cy="240.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="3241.5" y="243.4189">getCurrencies(): Promise&lt;GetCurrencyType&lt;Domain&gt;[]&gt;</text><ellipse cx="3232.5" cy="254.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="3241.5" y="257.2549">getSecurityLastPrice(ticker: string): Promise&lt;number&gt;</text><ellipse cx="3232.5" cy="268.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="3241.5" y="271.0908">getSecurityCurrency(ticker: string): Promise&lt;GetCurrencyType&lt;Domain&gt;&gt;</text><ellipse cx="3232.5" cy="281.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="3241.5" y="284.9268">getSecurityName(ticker: string): Promise&lt;string&gt;</text><ellipse cx="3232.5" cy="295.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="542" x="3241.5" y="298.7627">getSecurity(ticker: string, ignoreCache?: boolean | undefined): Promise&lt;GetSecurityBalanceType&lt;Domain&gt; | null&gt;</text><ellipse cx="3232.5" cy="309.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="593" x="3241.5" y="312.5986">getSecurityByExchangeId(id: string, ignoreCache?: boolean | undefined): Promise&lt;GetSecurityBalanceType&lt;Domain&gt; | null&gt;</text><!--class AbstractInfoModule--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="158.6875" id="AbstractInfoModule" style="stroke: #A80036; stroke-width: 1.5;" width="705" x="3178.5" y="745.5"/><ellipse cx="3193.5" cy="761.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3195.6875,763.2656 L3191.5469,763.2656 L3191.125,764.2969 L3191.5469,764.2969 Q3192.1563,764.2969 3192.4219,764.5313 Q3192.6875,764.7656 3192.6875,765.1563 Q3192.6875,765.5313 3192.4219,765.7656 Q3192.1563,766 3191.5469,766 L3189.25,766 Q3188.6406,766 3188.3828,765.7656 Q3188.125,765.5313 3188.125,765.1406 Q3188.125,764.7656 3188.3984,764.5234 Q3188.6719,764.2813 3189.2969,764.2969 L3191.9688,757.6406 L3190.8594,757.6406 Q3190.25,757.6406 3189.9844,757.4063 Q3189.7188,757.1719 3189.7188,756.7813 Q3189.7188,756.4063 3189.9844,756.1719 Q3190.25,755.9375 3190.8594,755.9375 L3194.5313,755.9375 L3197.9219,764.2969 Q3198.5156,764.2969 3198.7031,764.4375 Q3199.0938,764.7031 3199.0938,765.1563 Q3199.0938,765.5313 3198.8359,765.7656 Q3198.5781,766 3197.9688,766 L3195.6719,766 Q3195.0625,766 3194.7969,765.7656 Q3194.5313,765.5313 3194.5313,765.1406 Q3194.5313,764.7656 3194.7969,764.5313 Q3195.0625,764.2969 3195.6719,764.2969 L3196.0938,764.2969 L3195.6875,763.2656 Z M3194.9688,761.5625 L3193.6094,758.1875 L3192.2344,761.5625 L3194.9688,761.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="3207.5" y="766.4102">AbstractInfoModule</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="3321.5" y="742.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="3322.5" y="755.957">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3179.5" x2="3882.5" y1="777.5" y2="777.5"/><polygon fill="none" points="3189.5,784.918,3193.5,788.918,3189.5,792.918,3185.5,788.918" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="3198.5" y="792.9189">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3179.5" x2="3882.5" y1="799.3359" y2="799.3359"/><ellipse cx="3189.5" cy="811.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="402" x="3198.5" y="814.7549">setExchangeClient(exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;): void</text><ellipse cx="3189.5" cy="825.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="280" x="3198.5" y="828.5908">getCurrencies(): Promise&lt;GetCurrencyType&lt;Domain&gt;[]&gt;</text><ellipse cx="3189.5" cy="839.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="269" x="3198.5" y="842.4268">getSecurityLastPrice(ticker: string): Promise&lt;number&gt;</text><ellipse cx="3189.5" cy="853.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="366" x="3198.5" y="856.2627">getSecurityCurrency(ticker: string): Promise&lt;GetCurrencyType&lt;Domain&gt;&gt;</text><ellipse cx="3189.5" cy="867.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="241" x="3198.5" y="870.0986">getSecurityName(ticker: string): Promise&lt;string&gt;</text><ellipse cx="3189.5" cy="880.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="521" x="3198.5" y="883.9346">getSecurity(ticker: string, ignoreCache?: boolean | undefined): Promise&lt;GetSecurityType&lt;Domain&gt; | null&gt;</text><ellipse cx="3189.5" cy="894.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="572" x="3198.5" y="897.7705">getSecurityByExchangeId(id: string, ignoreCache?: boolean | undefined): Promise&lt;GetSecurityType&lt;Domain&gt; | null&gt;</text><!--class IDomainMapper--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="144.8516" id="IDomainMapper" style="stroke: #A80036; stroke-width: 1.5;" width="745" x="3935.5" y="181"/><ellipse cx="4018.75" cy="197" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4019.7031,193.6406 L4019.7031,200.2969 L4021.4219,200.2969 Q4022.0313,200.2969 4022.2969,200.5313 Q4022.5625,200.7656 4022.5625,201.1563 Q4022.5625,201.5313 4022.2969,201.7656 Q4022.0313,202 4021.4219,202 L4016.2813,202 Q4015.6719,202 4015.4063,201.7656 Q4015.1406,201.5313 4015.1406,201.1406 Q4015.1406,200.7656 4015.4063,200.5313 Q4015.6719,200.2969 4016.2813,200.2969 L4018,200.2969 L4018,193.6406 L4016.2813,193.6406 Q4015.6719,193.6406 4015.4063,193.4063 Q4015.1406,193.1719 4015.1406,192.7813 Q4015.1406,192.4063 4015.4063,192.1719 Q4015.6719,191.9375 4016.2813,191.9375 L4021.4219,191.9375 Q4022.0313,191.9375 4022.2969,192.1719 Q4022.5625,192.4063 4022.5625,192.7813 Q4022.5625,193.1719 4022.2969,193.4063 Q4022.0313,193.6406 4021.4219,193.6406 L4019.7031,193.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="4039.25" y="201.9102">IDomainMapper</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="479" x="4204.5" y="178"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="477" x="4205.5" y="191.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3936.5" x2="4679.5" y1="213" y2="213"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="3936.5" x2="4679.5" y1="221" y2="221"/><ellipse cx="3946.5" cy="233.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="3955.5" y="236.4189">currency(currency: GetCurrencyType&lt;Domain&gt;): Promise&lt;Currency&gt;</text><ellipse cx="3946.5" cy="247.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="453" x="3955.5" y="250.2549">currencyBalance(currency: GetCurrencyBalanceType&lt;Domain&gt;): Promise&lt;CurrencyBalance&gt;</text><ellipse cx="3946.5" cy="261.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="3955.5" y="264.0908">security(security: GetSecurityType&lt;Domain&gt;): Promise&lt;Security&gt;</text><ellipse cx="3946.5" cy="274.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="433" x="3955.5" y="277.9268">securityBalance(security: GetSecurityBalanceType&lt;Domain&gt;): Promise&lt;SecurityBalance&gt;</text><ellipse cx="3946.5" cy="288.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="3955.5" y="291.7627">order(order: GetOrderType&lt;Domain&gt;): Promise&lt;Order&gt;</text><ellipse cx="3946.5" cy="302.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="278" x="3955.5" y="305.5986">orderStatus(order: GetOrderType&lt;Domain&gt;): OrderStatus</text><ellipse cx="3946.5" cy="316.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="719" x="3955.5" y="319.4346">orderOperation(order: GetOrderType&lt;Domain&gt;): "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"</text><!--class AbstractExchangeClient--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="186.3594" id="AbstractExchangeClient" style="stroke: #A80036; stroke-width: 1.5;" width="731" x="4732.5" y="732"/><ellipse cx="4747.5" cy="748" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4749.6875,749.7656 L4745.5469,749.7656 L4745.125,750.7969 L4745.5469,750.7969 Q4746.1563,750.7969 4746.4219,751.0313 Q4746.6875,751.2656 4746.6875,751.6563 Q4746.6875,752.0313 4746.4219,752.2656 Q4746.1563,752.5 4745.5469,752.5 L4743.25,752.5 Q4742.6406,752.5 4742.3828,752.2656 Q4742.125,752.0313 4742.125,751.6406 Q4742.125,751.2656 4742.3984,751.0234 Q4742.6719,750.7813 4743.2969,750.7969 L4745.9688,744.1406 L4744.8594,744.1406 Q4744.25,744.1406 4743.9844,743.9063 Q4743.7188,743.6719 4743.7188,743.2813 Q4743.7188,742.9063 4743.9844,742.6719 Q4744.25,742.4375 4744.8594,742.4375 L4748.5313,742.4375 L4751.9219,750.7969 Q4752.5156,750.7969 4752.7031,750.9375 Q4753.0938,751.2031 4753.0938,751.6563 Q4753.0938,752.0313 4752.8359,752.2656 Q4752.5781,752.5 4751.9688,752.5 L4749.6719,752.5 Q4749.0625,752.5 4748.7969,752.2656 Q4748.5313,752.0313 4748.5313,751.6406 Q4748.5313,751.2656 4748.7969,751.0313 Q4749.0625,750.7969 4749.6719,750.7969 L4750.0938,750.7969 L4749.6875,749.7656 Z M4748.9688,748.0625 L4747.6094,744.6875 L4746.2344,748.0625 L4748.9688,748.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="4761.5" y="752.9102">AbstractExchangeClient</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="4901.5" y="729"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="4902.5" y="742.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="4733.5" x2="5462.5" y1="764" y2="764"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="4740.5" y="773.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="4752.5" y="779.4189">_isAccountInitialized: boolean</text><ellipse cx="4743.5" cy="790.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="4752.5" y="793.2549">isAccountInitialized: boolean</text><polygon fill="none" points="4743.5,799.0898,4747.5,803.0898,4743.5,807.0898,4739.5,803.0898" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="136" x="4752.5" y="807.0908">isAccountInitialized: boolean</text><ellipse cx="4743.5" cy="817.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="4752.5" y="820.9268">api: TExchangeApi</text><ellipse cx="4743.5" cy="831.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="4752.5" y="834.7627">tradeModule: ITradeModule&lt;Domain&gt;</text><ellipse cx="4743.5" cy="845.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="4752.5" y="848.5986">infoModule: IInfoModule&lt;Domain&gt;</text><ellipse cx="4743.5" cy="859.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="4752.5" y="862.4346">domainMapper: IDomainMapper&lt;Domain&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="4733.5" x2="5462.5" y1="868.8516" y2="868.8516"/><polygon fill="#FFFF44" points="4743.5,876.2695,4747.5,880.2695,4743.5,884.2695,4739.5,880.2695" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="165" x="4752.5" y="884.2705">initAccount(): Promise&lt;unknown&gt;</text><ellipse cx="4743.5" cy="895.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="301" x="4752.5" y="898.1064">getPortfolio(): Promise&lt;GetSecurityBalanceType&lt;Domain&gt;[]&gt;</text><ellipse cx="4743.5" cy="908.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="360" x="4752.5" y="911.9424">getCurrenciesBalance(): Promise&lt;GetCurrencyBalanceType&lt;Domain&gt;[]&gt;</text><!--class IExchangeClient--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="131.0156" id="IExchangeClient" style="stroke: #A80036; stroke-width: 1.5;" width="690" x="4753" y="188"/><ellipse cx="4768" cy="204" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M4768.9531,200.6406 L4768.9531,207.2969 L4770.6719,207.2969 Q4771.2813,207.2969 4771.5469,207.5313 Q4771.8125,207.7656 4771.8125,208.1563 Q4771.8125,208.5313 4771.5469,208.7656 Q4771.2813,209 4770.6719,209 L4765.5313,209 Q4764.9219,209 4764.6563,208.7656 Q4764.3906,208.5313 4764.3906,208.1406 Q4764.3906,207.7656 4764.6563,207.5313 Q4764.9219,207.2969 4765.5313,207.2969 L4767.25,207.2969 L4767.25,200.6406 L4765.5313,200.6406 Q4764.9219,200.6406 4764.6563,200.4063 Q4764.3906,200.1719 4764.3906,199.7813 Q4764.3906,199.4063 4764.6563,199.1719 Q4764.9219,198.9375 4765.5313,198.9375 L4770.6719,198.9375 Q4771.2813,198.9375 4771.5469,199.1719 Q4771.8125,199.4063 4771.8125,199.7813 Q4771.8125,200.1719 4771.5469,200.4063 Q4771.2813,200.6406 4770.6719,200.6406 L4768.9531,200.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="91" x="4782" y="208.9102">IExchangeClient</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="4881" y="185"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="4882" y="198.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="4754" x2="5442" y1="220" y2="220"/><ellipse cx="4764" cy="232.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="4773" y="235.4189">api: TExchangeApi</text><ellipse cx="4764" cy="246.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="4773" y="249.2549">tradeModule: ITradeModule&lt;Domain&gt;</text><ellipse cx="4764" cy="260.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="159" x="4773" y="263.0908">infoModule: IInfoModule&lt;Domain&gt;</text><ellipse cx="4764" cy="273.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="4773" y="276.9268">domainMapper: IDomainMapper&lt;Domain&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="4754" x2="5442" y1="283.3438" y2="283.3438"/><ellipse cx="4764" cy="295.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="291" x="4773" y="298.7627">getPortfolio(): Promise&lt;GetSecurityBalanceType&lt;Domain&gt;[]&gt;</text><ellipse cx="4764" cy="309.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="349" x="4773" y="312.5986">getCurrenciesBalance(): Promise&lt;GetCurrencyBalanceType&lt;Domain&gt;[]&gt;</text><!--class ITradeAlgorithmsEngine--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="117.1797" id="ITradeAlgorithmsEngine" style="stroke: #A80036; stroke-width: 1.5;" width="431" x="5647.5" y="195"/><ellipse cx="5791.75" cy="211" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M5792.7031,207.6406 L5792.7031,214.2969 L5794.4219,214.2969 Q5795.0313,214.2969 5795.2969,214.5313 Q5795.5625,214.7656 5795.5625,215.1563 Q5795.5625,215.5313 5795.2969,215.7656 Q5795.0313,216 5794.4219,216 L5789.2813,216 Q5788.6719,216 5788.4063,215.7656 Q5788.1406,215.5313 5788.1406,215.1406 Q5788.1406,214.7656 5788.4063,214.5313 Q5788.6719,214.2969 5789.2813,214.2969 L5791,214.2969 L5791,207.6406 L5789.2813,207.6406 Q5788.6719,207.6406 5788.4063,207.4063 Q5788.1406,207.1719 5788.1406,206.7813 Q5788.1406,206.4063 5788.4063,206.1719 Q5788.6719,205.9375 5789.2813,205.9375 L5794.4219,205.9375 Q5795.0313,205.9375 5795.2969,206.1719 Q5795.5625,206.4063 5795.5625,206.7813 Q5795.5625,207.1719 5795.2969,207.4063 Q5795.0313,207.6406 5794.4219,207.6406 L5792.7031,207.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="134" x="5812.25" y="215.9102">ITradeAlgorithmsEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="5648.5" x2="6077.5" y1="227" y2="227"/><ellipse cx="5658.5" cy="239.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="5667.5" y="242.4189">description: Algorithm[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="5648.5" x2="6077.5" y1="248.8359" y2="248.8359"/><ellipse cx="5658.5" cy="261.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="5667.5" y="264.2549">runAlgorithm(name: string, inputs: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="5658.5" cy="275.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="5667.5" y="278.0908">resumeAlgorithms(): Promise&lt;void&gt;</text><ellipse cx="5658.5" cy="288.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="405" x="5667.5" y="291.9268">continueAlgorithm(name: string, run_id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="5658.5" cy="302.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="385" x="5667.5" y="305.7627">stopAlgorithm(name: string, run_id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><!--class IExchangeTrader--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="89.5078" id="IExchangeTrader" style="stroke: #A80036; stroke-width: 1.5;" width="678" x="6268" y="208.5"/><ellipse cx="6555.25" cy="224.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M6556.2031,221.1406 L6556.2031,227.7969 L6557.9219,227.7969 Q6558.5313,227.7969 6558.7969,228.0313 Q6559.0625,228.2656 6559.0625,228.6563 Q6559.0625,229.0313 6558.7969,229.2656 Q6558.5313,229.5 6557.9219,229.5 L6552.7813,229.5 Q6552.1719,229.5 6551.9063,229.2656 Q6551.6406,229.0313 6551.6406,228.6406 Q6551.6406,228.2656 6551.9063,228.0313 Q6552.1719,227.7969 6552.7813,227.7969 L6554.5,227.7969 L6554.5,221.1406 L6552.7813,221.1406 Q6552.1719,221.1406 6551.9063,220.9063 Q6551.6406,220.6719 6551.6406,220.2813 Q6551.6406,219.9063 6551.9063,219.6719 Q6552.1719,219.4375 6552.7813,219.4375 L6557.9219,219.4375 Q6558.5313,219.4375 6558.7969,219.6719 Q6559.0625,219.9063 6559.0625,220.2813 Q6559.0625,220.6719 6558.7969,220.9063 Q6558.5313,221.1406 6557.9219,221.1406 L6556.2031,221.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="95" x="6575.75" y="229.4102">IExchangeTrader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6269" x2="6945" y1="240.5" y2="240.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6269" x2="6945" y1="248.5" y2="248.5"/><ellipse cx="6279" cy="260.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="6288" y="263.9189">scheduleAction(action: JobCallback, date: Date): Job</text><ellipse cx="6279" cy="274.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="603" x="6288" y="277.7549">scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Job</text><ellipse cx="6279" cy="288.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="652" x="6288" y="291.5908">sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Promise&lt;OrderStatus&gt;</text><!--class IExchangeWatcher--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="158.6875" id="IExchangeWatcher" style="stroke: #A80036; stroke-width: 1.5;" width="1011" x="6986.5" y="174"/><ellipse cx="7195.25" cy="190" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M7196.2031,186.6406 L7196.2031,193.2969 L7197.9219,193.2969 Q7198.5313,193.2969 7198.7969,193.5313 Q7199.0625,193.7656 7199.0625,194.1563 Q7199.0625,194.5313 7198.7969,194.7656 Q7198.5313,195 7197.9219,195 L7192.7813,195 Q7192.1719,195 7191.9063,194.7656 Q7191.6406,194.5313 7191.6406,194.1406 Q7191.6406,193.7656 7191.9063,193.5313 Q7192.1719,193.2969 7192.7813,193.2969 L7194.5,193.2969 L7194.5,186.6406 L7192.7813,186.6406 Q7192.1719,186.6406 7191.9063,186.4063 Q7191.6406,186.1719 7191.6406,185.7813 Q7191.6406,185.4063 7191.9063,185.1719 Q7192.1719,184.9375 7192.7813,184.9375 L7197.9219,184.9375 Q7198.5313,184.9375 7198.7969,185.1719 Q7199.0625,185.4063 7199.0625,185.7813 Q7199.0625,186.1719 7198.7969,186.4063 Q7198.5313,186.6406 7197.9219,186.6406 L7196.2031,186.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="7215.75" y="194.9102">IExchangeWatcher</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="479" x="7521.5" y="171"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="477" x="7522.5" y="184.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6987.5" x2="7996.5" y1="206" y2="206"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="6987.5" x2="7996.5" y1="214" y2="214"/><ellipse cx="6997.5" cy="226.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="7006.5" y="229.4189">getPortfolio(): Promise&lt;SecurityBalance[]&gt;</text><ellipse cx="6997.5" cy="240.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="7006.5" y="243.2549">getCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="6997.5" cy="254.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="7006.5" y="257.0908">getCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="6997.5" cy="267.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="7006.5" y="270.9268">getSecurity(ticker: string): Promise&lt;Security&gt;</text><ellipse cx="6997.5" cy="281.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="7006.5" y="284.7627">getSecurityName(ticker: string): Promise&lt;string&gt;</text><ellipse cx="6997.5" cy="295.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="7006.5" y="298.5986">getSecurityLastPrice(ticker: string): Promise&lt;number&gt;</text><ellipse cx="6997.5" cy="309.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="7006.5" y="312.4346">getSecurityCurrency(ticker: string): Promise&lt;Currency&gt;</text><ellipse cx="6997.5" cy="323.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="985" x="7006.5" y="326.2705">onOrderSent(order: GetOrderType&lt;Domain&gt;, operation_type: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): OrderStatus</text><!--class ITradeBot--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="144.8516" id="ITradeBot" style="stroke: #A80036; stroke-width: 1.5;" width="653" x="8286.5" y="181"/><ellipse cx="8301.5" cy="197" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M8302.4531,193.6406 L8302.4531,200.2969 L8304.1719,200.2969 Q8304.7813,200.2969 8305.0469,200.5313 Q8305.3125,200.7656 8305.3125,201.1563 Q8305.3125,201.5313 8305.0469,201.7656 Q8304.7813,202 8304.1719,202 L8299.0313,202 Q8298.4219,202 8298.1563,201.7656 Q8297.8906,201.5313 8297.8906,201.1406 Q8297.8906,200.7656 8298.1563,200.5313 Q8298.4219,200.2969 8299.0313,200.2969 L8300.75,200.2969 L8300.75,193.6406 L8299.0313,193.6406 Q8298.4219,193.6406 8298.1563,193.4063 Q8297.8906,193.1719 8297.8906,192.7813 Q8297.8906,192.4063 8298.1563,192.1719 Q8298.4219,191.9375 8299.0313,191.9375 L8304.1719,191.9375 Q8304.7813,191.9375 8305.0469,192.1719 Q8305.3125,192.4063 8305.3125,192.7813 Q8305.3125,193.1719 8305.0469,193.4063 Q8304.7813,193.6406 8304.1719,193.6406 L8302.4531,193.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="54" x="8315.5" y="201.9102">ITradeBot</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="8377.5" y="178"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="8378.5" y="191.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8287.5" x2="8938.5" y1="213" y2="213"/><ellipse cx="8297.5" cy="225.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="8306.5" y="228.4189">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><ellipse cx="8297.5" cy="239.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="8306.5" y="242.2549">analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><ellipse cx="8297.5" cy="253.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="8306.5" y="256.0908">trader: IExchangeTrader</text><ellipse cx="8297.5" cy="266.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="8306.5" y="269.9268">watcher: IExchangeWatcher&lt;Domain&gt;</text><ellipse cx="8297.5" cy="280.7617" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="8306.5" y="283.7627">api: ApiService</text><ellipse cx="8297.5" cy="294.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="8306.5" y="297.5986">logger: LoggerService</text><ellipse cx="8297.5" cy="308.4336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="8306.5" y="311.4346">auth: AuthService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8287.5" x2="8938.5" y1="317.8516" y2="317.8516"/><!--class ExchangeTrader--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="144.8516" id="ExchangeTrader" style="stroke: #A80036; stroke-width: 1.5;" width="689" x="6262.5" y="752.5"/><ellipse cx="6277.5" cy="768.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M6280.2656,764.375 Q6280.4219,764.1563 6280.6094,764.0469 Q6280.7969,763.9375 6281.0156,763.9375 Q6281.3906,763.9375 6281.625,764.1953 Q6281.8594,764.4531 6281.8594,765.0625 L6281.8594,766.5156 Q6281.8594,767.125 6281.625,767.3906 Q6281.3906,767.6563 6281.0156,767.6563 Q6280.6719,767.6563 6280.4688,767.4531 Q6280.2656,767.2656 6280.1563,766.75 Q6280.1094,766.3906 6279.9219,766.2031 Q6279.5938,765.8281 6278.9844,765.6094 Q6278.375,765.3906 6277.75,765.3906 Q6276.9844,765.3906 6276.3516,765.7188 Q6275.7188,766.0469 6275.2266,766.7969 Q6274.7344,767.5469 6274.7344,768.5781 L6274.7344,769.6719 Q6274.7344,770.9063 6275.625,771.7266 Q6276.5156,772.5469 6278.1094,772.5469 Q6279.0469,772.5469 6279.7031,772.2969 Q6280.0938,772.1406 6280.5156,771.7031 Q6280.7813,771.4375 6280.9297,771.3594 Q6281.0781,771.2813 6281.2813,771.2813 Q6281.6094,771.2813 6281.8672,771.5391 Q6282.125,771.7969 6282.125,772.1406 Q6282.125,772.4844 6281.7813,772.8906 Q6281.2813,773.4688 6280.4844,773.7969 Q6279.4063,774.25 6278.1094,774.25 Q6276.5938,774.25 6275.3906,773.625 Q6274.4063,773.125 6273.7188,772.0547 Q6273.0313,770.9844 6273.0313,769.7031 L6273.0313,768.5469 Q6273.0313,767.2188 6273.6484,766.0703 Q6274.2656,764.9219 6275.3594,764.3047 Q6276.4531,763.6875 6277.6875,763.6875 Q6278.4219,763.6875 6279.0703,763.8516 Q6279.7188,764.0156 6280.2656,764.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="90" x="6291.5" y="773.4102">ExchangeTrader</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="6389.5" y="749.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="6390.5" y="762.957">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6263.5" x2="6950.5" y1="784.5" y2="784.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6270.5" y="793.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="6282.5" y="799.9189">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6270.5" y="807.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="6282.5" y="813.7549">watcher: IExchangeWatcher&lt;Domain&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6270.5" y="821.5898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="6282.5" y="827.5908">logger: LoggerService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6270.5" y="835.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="6282.5" y="841.4268">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6263.5" x2="6950.5" y1="847.8438" y2="847.8438"/><ellipse cx="6273.5" cy="860.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="253" x="6282.5" y="863.2627">scheduleAction(action: JobCallback, date: Date): Job</text><ellipse cx="6273.5" cy="874.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="603" x="6282.5" y="877.0986">scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Job</text><ellipse cx="6273.5" cy="887.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="652" x="6282.5" y="890.9346">sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Promise&lt;OrderStatus&gt;</text><!--class ExchangeWatcher--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="227.8672" id="ExchangeWatcher" style="stroke: #A80036; stroke-width: 1.5;" width="1011" x="6986.5" y="711"/><ellipse cx="7154.75" cy="727" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M7157.5156,722.875 Q7157.6719,722.6563 7157.8594,722.5469 Q7158.0469,722.4375 7158.2656,722.4375 Q7158.6406,722.4375 7158.875,722.6953 Q7159.1094,722.9531 7159.1094,723.5625 L7159.1094,725.0156 Q7159.1094,725.625 7158.875,725.8906 Q7158.6406,726.1563 7158.2656,726.1563 Q7157.9219,726.1563 7157.7188,725.9531 Q7157.5156,725.7656 7157.4063,725.25 Q7157.3594,724.8906 7157.1719,724.7031 Q7156.8438,724.3281 7156.2344,724.1094 Q7155.625,723.8906 7155,723.8906 Q7154.2344,723.8906 7153.6016,724.2188 Q7152.9688,724.5469 7152.4766,725.2969 Q7151.9844,726.0469 7151.9844,727.0781 L7151.9844,728.1719 Q7151.9844,729.4063 7152.875,730.2266 Q7153.7656,731.0469 7155.3594,731.0469 Q7156.2969,731.0469 7156.9531,730.7969 Q7157.3438,730.6406 7157.7656,730.2031 Q7158.0313,729.9375 7158.1797,729.8594 Q7158.3281,729.7813 7158.5313,729.7813 Q7158.8594,729.7813 7159.1172,730.0391 Q7159.375,730.2969 7159.375,730.6406 Q7159.375,730.9844 7159.0313,731.3906 Q7158.5313,731.9688 7157.7344,732.2969 Q7156.6563,732.75 7155.3594,732.75 Q7153.8438,732.75 7152.6406,732.125 Q7151.6563,731.625 7150.9688,730.5547 Q7150.2813,729.4844 7150.2813,728.2031 L7150.2813,727.0469 Q7150.2813,725.7188 7150.8984,724.5703 Q7151.5156,723.4219 7152.6094,722.8047 Q7153.7031,722.1875 7154.9375,722.1875 Q7155.6719,722.1875 7156.3203,722.3516 Q7156.9688,722.5156 7157.5156,722.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="7175.25" y="731.9102">ExchangeWatcher</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="7435.5" y="708"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="7436.5" y="721.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6987.5" x2="7996.5" y1="743" y2="743"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6994.5" y="752.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="7006.5" y="758.4189">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6994.5" y="766.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="7006.5" y="772.2549">domainMapper: IDomainMapper&lt;StubDomain&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6994.5" y="780.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="7006.5" y="786.0908">analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6994.5" y="793.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="7006.5" y="799.9268">trader: IExchangeTrader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="6994.5" y="807.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="7006.5" y="813.7627">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="6987.5" x2="7996.5" y1="820.1797" y2="820.1797"/><ellipse cx="6997.5" cy="832.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="203" x="7006.5" y="835.5986">getPortfolio(): Promise&lt;SecurityBalance[]&gt;</text><ellipse cx="6997.5" cy="846.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="7006.5" y="849.4346">getCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="6997.5" cy="860.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="7006.5" y="863.2705">getCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="6997.5" cy="874.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="7006.5" y="877.1064">getSecurity(ticker: string): Promise&lt;Security&gt;</text><ellipse cx="6997.5" cy="887.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="232" x="7006.5" y="890.9424">getSecurityName(ticker: string): Promise&lt;string&gt;</text><ellipse cx="6997.5" cy="901.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="259" x="7006.5" y="904.7783">getSecurityLastPrice(ticker: string): Promise&lt;number&gt;</text><ellipse cx="6997.5" cy="915.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="7006.5" y="918.6143">getSecurityCurrency(ticker: string): Promise&lt;Currency&gt;</text><ellipse cx="6997.5" cy="929.4492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="985" x="7006.5" y="932.4502">onOrderSent(order: GetOrderType&lt;Domain&gt;, operation_type: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): OrderStatus</text><!--class IExchangeAnalyzer--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="490.75" id="IExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.5;" width="1354" x="9220" y="8"/><ellipse cx="9555.25" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M9556.2031,20.6406 L9556.2031,27.2969 L9557.9219,27.2969 Q9558.5313,27.2969 9558.7969,27.5313 Q9559.0625,27.7656 9559.0625,28.1563 Q9559.0625,28.5313 9558.7969,28.7656 Q9558.5313,29 9557.9219,29 L9552.7813,29 Q9552.1719,29 9551.9063,28.7656 Q9551.6406,28.5313 9551.6406,28.1406 Q9551.6406,27.7656 9551.9063,27.5313 Q9552.1719,27.2969 9552.7813,27.2969 L9554.5,27.2969 L9554.5,20.6406 L9552.7813,20.6406 Q9552.1719,20.6406 9551.9063,20.4063 Q9551.6406,20.1719 9551.6406,19.7813 Q9551.6406,19.4063 9551.9063,19.1719 Q9552.1719,18.9375 9552.7813,18.9375 L9557.9219,18.9375 Q9558.5313,18.9375 9558.7969,19.1719 Q9559.0625,19.4063 9559.0625,19.7813 Q9559.0625,20.1719 9558.7969,20.4063 Q9558.5313,20.6406 9557.9219,20.6406 L9556.2031,20.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="9575.75" y="28.9102">IExchangeAnalyzer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="10012" y="5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="10013" y="18.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="9221" x2="10573" y1="40" y2="40"/><ellipse cx="9231" cy="52.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="9240" y="55.4189">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><ellipse cx="9231" cy="66.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="9240" y="69.2549">trader: IExchangeTrader</text><ellipse cx="9231" cy="80.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="9240" y="83.0908">watcher: IExchangeWatcher&lt;Domain&gt;</text><ellipse cx="9231" cy="93.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="9240" y="96.9268">tradeAlgos: ITradeAlgorithmsEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="9221" x2="10573" y1="103.3438" y2="103.3438"/><ellipse cx="9231" cy="115.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="9240" y="118.7627">start(): Promise&lt;void&gt;</text><ellipse cx="9231" cy="129.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="9240" y="132.5986">updateCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="9231" cy="143.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="9240" y="146.4346">getCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="9231" cy="157.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="9240" y="160.2705">updateCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="9231" cy="171.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="9240" y="174.1064">getCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="9231" cy="184.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="9240" y="187.9424">updateSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9231" cy="198.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="9240" y="201.7783">getSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9231" cy="212.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="9240" y="215.6143">getSecurity(ticker: string): Promise&lt;Security&gt;</text><ellipse cx="9231" cy="226.4492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="9240" y="229.4502">addSecurities(securities: Security[]): Promise&lt;Security[]&gt;</text><ellipse cx="9231" cy="240.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="9240" y="243.2861">getFollowedSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9231" cy="254.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="9240" y="257.1221">followSecurity(securityTicker: string): Promise&lt;Security | undefined&gt;</text><ellipse cx="9231" cy="267.957" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="9240" y="270.958">unfollowSecurity(securityTicker: string): Promise&lt;Security | undefined&gt;</text><ellipse cx="9231" cy="281.793" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="9240" y="284.7939">updateFollowedSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9231" cy="295.6289" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="9240" y="298.6299">updatePortfolio(): Promise&lt;(CurrencyBalance | SecurityBalance)[]&gt;</text><ellipse cx="9231" cy="309.4648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="9240" y="312.4658">getPortfolio(): Promise&lt;(CurrencyBalance | SecurityBalance)[]&gt;</text><ellipse cx="9231" cy="323.3008" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="9240" y="326.3018">clearPortfolio(): Promise&lt;number&gt;</text><ellipse cx="9231" cy="337.1367" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="879" x="9240" y="340.1377">saveOrder(order: Order, operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): Promise&lt;Order&gt;</text><ellipse cx="9231" cy="350.9727" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="1328" x="9240" y="353.9736">getOrders(options: { from?: Date | undefined; to?: Date | undefined; securityTicker?: string | undefined; operation?: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel" | undefined; runId?: number | undefined; }): Promise&lt;Order[]&gt;</text><ellipse cx="9231" cy="364.8086" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="9240" y="367.8096">saveAlgorithms(): Promise&lt;Algorithm[]&gt;</text><ellipse cx="9231" cy="378.6445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="519" x="9240" y="381.6455">runAlgorithm(algorithmName: string, inputs: unknown, state?: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="392.4805" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="445" x="9240" y="395.4814">saveAlgorithmRunProgress(id: number, state: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="406.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="384" x="9240" y="409.3174">loadAlgorithmRunProgress(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt; | null&gt;</text><ellipse cx="9231" cy="420.1523" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="9240" y="423.1533">stopAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="433.9883" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="332" x="9240" y="436.9893">resumeAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="447.8242" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="9240" y="450.8252">finishAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="461.6602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="9240" y="464.6611">errorAlgorithmRun(id: number, error: Error): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9231" cy="475.4961" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="9240" y="478.4971">getAlgorithmRunsByAlgorithm(algorithmName: string): Promise&lt;AlgorithmRun&lt;any, any&gt;[]&gt;</text><ellipse cx="9231" cy="489.332" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="9240" y="492.333">getUnfinishedAlgorithmRuns(): Promise&lt;AlgorithmRun&lt;any, any&gt;[]&gt;</text><!--class TradeAlgorithmsEngine--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="186.3594" id="TradeAlgorithmsEngine" style="stroke: #A80036; stroke-width: 1.5;" width="729" x="5498.5" y="732"/><ellipse cx="5513.5" cy="748" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M5516.2656,743.875 Q5516.4219,743.6563 5516.6094,743.5469 Q5516.7969,743.4375 5517.0156,743.4375 Q5517.3906,743.4375 5517.625,743.6953 Q5517.8594,743.9531 5517.8594,744.5625 L5517.8594,746.0156 Q5517.8594,746.625 5517.625,746.8906 Q5517.3906,747.1563 5517.0156,747.1563 Q5516.6719,747.1563 5516.4688,746.9531 Q5516.2656,746.7656 5516.1563,746.25 Q5516.1094,745.8906 5515.9219,745.7031 Q5515.5938,745.3281 5514.9844,745.1094 Q5514.375,744.8906 5513.75,744.8906 Q5512.9844,744.8906 5512.3516,745.2188 Q5511.7188,745.5469 5511.2266,746.2969 Q5510.7344,747.0469 5510.7344,748.0781 L5510.7344,749.1719 Q5510.7344,750.4063 5511.625,751.2266 Q5512.5156,752.0469 5514.1094,752.0469 Q5515.0469,752.0469 5515.7031,751.7969 Q5516.0938,751.6406 5516.5156,751.2031 Q5516.7813,750.9375 5516.9297,750.8594 Q5517.0781,750.7813 5517.2813,750.7813 Q5517.6094,750.7813 5517.8672,751.0391 Q5518.125,751.2969 5518.125,751.6406 Q5518.125,751.9844 5517.7813,752.3906 Q5517.2813,752.9688 5516.4844,753.2969 Q5515.4063,753.75 5514.1094,753.75 Q5512.5938,753.75 5511.3906,753.125 Q5510.4063,752.625 5509.7188,751.5547 Q5509.0313,750.4844 5509.0313,749.2031 L5509.0313,748.0469 Q5509.0313,746.7188 5509.6484,745.5703 Q5510.2656,744.4219 5511.3594,743.8047 Q5512.4531,743.1875 5513.6875,743.1875 Q5514.4219,743.1875 5515.0703,743.3516 Q5515.7188,743.5156 5516.2656,743.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="5527.5" y="752.9102">TradeAlgorithmsEngine</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="5665.5" y="729"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="5666.5" y="742.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="5499.5" x2="6226.5" y1="764" y2="764"/><polygon fill="none" points="5509.5,771.418,5513.5,775.418,5509.5,779.418,5505.5,775.418" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="5518.5" y="779.4189">analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><polygon fill="none" points="5509.5,785.2539,5513.5,789.2539,5509.5,793.2539,5505.5,789.2539" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="5518.5" y="793.2549">trader: IExchangeTrader</text><polygon fill="none" points="5509.5,799.0898,5513.5,803.0898,5509.5,807.0898,5505.5,803.0898" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="5518.5" y="807.0908">watcher: IExchangeWatcher&lt;Domain&gt;</text><polygon fill="none" points="5509.5,812.9258,5513.5,816.9258,5509.5,820.9258,5505.5,816.9258" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="5518.5" y="820.9268">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><polygon fill="none" points="5509.5,826.7617,5513.5,830.7617,5509.5,834.7617,5505.5,830.7617" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="5518.5" y="834.7627">algorithms: ITradeAlgorithm&lt;unknown, unknown&gt;[]</text><ellipse cx="5509.5" cy="845.5977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="5518.5" y="848.5986">description: Algorithm[]</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="5499.5" x2="6226.5" y1="855.0156" y2="855.0156"/><ellipse cx="5509.5" cy="867.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="388" x="5518.5" y="870.4346">runAlgorithm(name: string, inputs: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="5509.5" cy="881.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="5518.5" y="884.2705">resumeAlgorithms(): Promise&lt;void&gt;</text><ellipse cx="5509.5" cy="895.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="383" x="5518.5" y="898.1064">continueAlgorithm(name: string, id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="5509.5" cy="908.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="363" x="5518.5" y="911.9424">stopAlgorithm(name: string, id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><!--class ExchangeAnalyzer--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="532.2578" id="ExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.5;" width="1337" x="9228.5" y="559"/><ellipse cx="9559.75" cy="575" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M9562.5156,570.875 Q9562.6719,570.6563 9562.8594,570.5469 Q9563.0469,570.4375 9563.2656,570.4375 Q9563.6406,570.4375 9563.875,570.6953 Q9564.1094,570.9531 9564.1094,571.5625 L9564.1094,573.0156 Q9564.1094,573.625 9563.875,573.8906 Q9563.6406,574.1563 9563.2656,574.1563 Q9562.9219,574.1563 9562.7188,573.9531 Q9562.5156,573.7656 9562.4063,573.25 Q9562.3594,572.8906 9562.1719,572.7031 Q9561.8438,572.3281 9561.2344,572.1094 Q9560.625,571.8906 9560,571.8906 Q9559.2344,571.8906 9558.6016,572.2188 Q9557.9688,572.5469 9557.4766,573.2969 Q9556.9844,574.0469 9556.9844,575.0781 L9556.9844,576.1719 Q9556.9844,577.4063 9557.875,578.2266 Q9558.7656,579.0469 9560.3594,579.0469 Q9561.2969,579.0469 9561.9531,578.7969 Q9562.3438,578.6406 9562.7656,578.2031 Q9563.0313,577.9375 9563.1797,577.8594 Q9563.3281,577.7813 9563.5313,577.7813 Q9563.8594,577.7813 9564.1172,578.0391 Q9564.375,578.2969 9564.375,578.6406 Q9564.375,578.9844 9564.0313,579.3906 Q9563.5313,579.9688 9562.7344,580.2969 Q9561.6563,580.75 9560.3594,580.75 Q9558.8438,580.75 9557.6406,580.125 Q9556.6563,579.625 9555.9688,578.5547 Q9555.2813,577.4844 9555.2813,576.2031 L9555.2813,575.0469 Q9555.2813,573.7188 9555.8984,572.5703 Q9556.5156,571.4219 9557.6094,570.8047 Q9558.7031,570.1875 9559.9375,570.1875 Q9560.6719,570.1875 9561.3203,570.3516 Q9561.9688,570.5156 9562.5156,570.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="99" x="9580.25" y="579.9102">ExchangeAnalyzer</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="10003.5" y="556"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="10004.5" y="569.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="9229.5" x2="10564.5" y1="591" y2="591"/><ellipse cx="9239.5" cy="603.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="9248.5" y="606.4189">tradebot: ITradeBot&lt;Domain, TExchangeApi&gt;</text><ellipse cx="9239.5" cy="617.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="9248.5" y="620.2549">trader: IExchangeTrader</text><ellipse cx="9239.5" cy="631.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="9248.5" y="634.0908">watcher: IExchangeWatcher&lt;Domain&gt;</text><ellipse cx="9239.5" cy="644.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="9248.5" y="647.9268">tradeAlgos: ITradeAlgorithmsEngine</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="9229.5" x2="10564.5" y1="654.3438" y2="654.3438"/><ellipse cx="9239.5" cy="666.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="9248.5" y="669.7627">start(): Promise&lt;void&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="9236.5" y="677.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="141" x="9248.5" y="683.5986">initUpdaters(): Promise&lt;void&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="9236.5" y="691.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="9248.5" y="697.4346">loadSecurityIfNotExist(ticker: string): Promise&lt;Security | undefined&gt;</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="9236.5" y="705.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="294" x="9248.5" y="711.2705">loadSecuritiesIfNotExist(tickers: string[]): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="722.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="9248.5" y="725.1064">updateCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="9239.5" cy="735.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="9248.5" y="738.9424">getCurrencies(): Promise&lt;Currency[]&gt;</text><ellipse cx="9239.5" cy="749.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="9248.5" y="752.7783">updateCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="9239.5" cy="763.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="9248.5" y="766.6143">getCurrenciesBalance(): Promise&lt;CurrencyBalance[]&gt;</text><ellipse cx="9239.5" cy="777.4492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="9248.5" y="780.4502">updateSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="791.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="173" x="9248.5" y="794.2861">getSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="805.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="9248.5" y="808.1221">getSecurity(ticker: string): Promise&lt;Security&gt;</text><ellipse cx="9239.5" cy="818.957" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="9248.5" y="821.958">addSecurities(securities: Security[]): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="832.793" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="217" x="9248.5" y="835.7939">getFollowedSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="846.6289" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="331" x="9248.5" y="849.6299">followSecurity(securityTicker: string): Promise&lt;Security | undefined&gt;</text><ellipse cx="9239.5" cy="860.4648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="343" x="9248.5" y="863.4658">unfollowSecurity(securityTicker: string): Promise&lt;Security | undefined&gt;</text><ellipse cx="9239.5" cy="874.3008" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="235" x="9248.5" y="877.3018">updateFollowedSecurities(): Promise&lt;Security[]&gt;</text><ellipse cx="9239.5" cy="888.1367" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="321" x="9248.5" y="891.1377">updatePortfolio(): Promise&lt;(CurrencyBalance | SecurityBalance)[]&gt;</text><ellipse cx="9239.5" cy="901.9727" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="303" x="9248.5" y="904.9736">getPortfolio(): Promise&lt;(CurrencyBalance | SecurityBalance)[]&gt;</text><ellipse cx="9239.5" cy="915.8086" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="163" x="9248.5" y="918.8096">clearPortfolio(): Promise&lt;number&gt;</text><ellipse cx="9239.5" cy="929.6445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="879" x="9248.5" y="932.6455">saveOrder(order: Order, operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): Promise&lt;Order&gt;</text><ellipse cx="9239.5" cy="943.4805" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="1311" x="9248.5" y="946.4814">getOrders(__0: { from?: Date | undefined; to?: Date | undefined; securityTicker?: string | undefined; operation?: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel" | undefined; runId?: number | undefined; }): Promise&lt;Order[]&gt;</text><ellipse cx="9239.5" cy="957.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="9248.5" y="960.3174">saveAlgorithms(): Promise&lt;Algorithm[]&gt;</text><ellipse cx="9239.5" cy="971.1523" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="519" x="9248.5" y="974.1533">runAlgorithm(algorithmName: string, inputs: unknown, state?: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="984.9883" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="445" x="9248.5" y="987.9893">saveAlgorithmRunProgress(id: number, state: unknown): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="998.8242" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="384" x="9248.5" y="1001.8252">loadAlgorithmRunProgress(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt; | null&gt;</text><ellipse cx="9239.5" cy="1012.6602" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="317" x="9248.5" y="1015.6611">stopAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="1026.4961" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="332" x="9248.5" y="1029.4971">resumeAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="1040.332" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="322" x="9248.5" y="1043.333">finishAlgorithmRun(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="1054.168" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="380" x="9248.5" y="1057.1689">errorAlgorithmRun(id: number, error: Error): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="9239.5" cy="1068.0039" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="434" x="9248.5" y="1071.0049">getAlgorithmRunsByAlgorithm(algorithmName: string): Promise&lt;AlgorithmRun&lt;any, any&gt;[]&gt;</text><ellipse cx="9239.5" cy="1081.8398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="324" x="9248.5" y="1084.8408">getUnfinishedAlgorithmRuns(): Promise&lt;AlgorithmRun&lt;any, any&gt;[]&gt;</text><!--class IExpressAppCarrier--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="61.8359" id="IExpressAppCarrier" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="819" y="1178.5"/><ellipse cx="834" cy="1194.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M834.9531,1191.1406 L834.9531,1197.7969 L836.6719,1197.7969 Q837.2813,1197.7969 837.5469,1198.0313 Q837.8125,1198.2656 837.8125,1198.6563 Q837.8125,1199.0313 837.5469,1199.2656 Q837.2813,1199.5 836.6719,1199.5 L831.5313,1199.5 Q830.9219,1199.5 830.6563,1199.2656 Q830.3906,1199.0313 830.3906,1198.6406 Q830.3906,1198.2656 830.6563,1198.0313 Q830.9219,1197.7969 831.5313,1197.7969 L833.25,1197.7969 L833.25,1191.1406 L831.5313,1191.1406 Q830.9219,1191.1406 830.6563,1190.9063 Q830.3906,1190.6719 830.3906,1190.2813 Q830.3906,1189.9063 830.6563,1189.6719 Q830.9219,1189.4375 831.5313,1189.4375 L836.6719,1189.4375 Q837.2813,1189.4375 837.5469,1189.6719 Q837.8125,1189.9063 837.8125,1190.2813 Q837.8125,1190.6719 837.5469,1190.9063 Q837.2813,1191.1406 836.6719,1191.1406 L834.9531,1191.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="848" y="1199.4102">IExpressAppCarrier</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="820" x2="958" y1="1210.5" y2="1210.5"/><ellipse cx="830" cy="1222.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="839" y="1225.9189">app: Application</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="820" x2="958" y1="1232.3359" y2="1232.3359"/><!--class ApiService--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="117.1797" id="ApiService" style="stroke: #A80036; stroke-width: 1.5;" width="239" x="994.5" y="1151"/><ellipse cx="1081.25" cy="1167" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1084.0156,1162.875 Q1084.1719,1162.6563 1084.3594,1162.5469 Q1084.5469,1162.4375 1084.7656,1162.4375 Q1085.1406,1162.4375 1085.375,1162.6953 Q1085.6094,1162.9531 1085.6094,1163.5625 L1085.6094,1165.0156 Q1085.6094,1165.625 1085.375,1165.8906 Q1085.1406,1166.1563 1084.7656,1166.1563 Q1084.4219,1166.1563 1084.2188,1165.9531 Q1084.0156,1165.7656 1083.9063,1165.25 Q1083.8594,1164.8906 1083.6719,1164.7031 Q1083.3438,1164.3281 1082.7344,1164.1094 Q1082.125,1163.8906 1081.5,1163.8906 Q1080.7344,1163.8906 1080.1016,1164.2188 Q1079.4688,1164.5469 1078.9766,1165.2969 Q1078.4844,1166.0469 1078.4844,1167.0781 L1078.4844,1168.1719 Q1078.4844,1169.4063 1079.375,1170.2266 Q1080.2656,1171.0469 1081.8594,1171.0469 Q1082.7969,1171.0469 1083.4531,1170.7969 Q1083.8438,1170.6406 1084.2656,1170.2031 Q1084.5313,1169.9375 1084.6797,1169.8594 Q1084.8281,1169.7813 1085.0313,1169.7813 Q1085.3594,1169.7813 1085.6172,1170.0391 Q1085.875,1170.2969 1085.875,1170.6406 Q1085.875,1170.9844 1085.5313,1171.3906 Q1085.0313,1171.9688 1084.2344,1172.2969 Q1083.1563,1172.75 1081.8594,1172.75 Q1080.3438,1172.75 1079.1406,1172.125 Q1078.1563,1171.625 1077.4688,1170.5547 Q1076.7813,1169.4844 1076.7813,1168.2031 L1076.7813,1167.0469 Q1076.7813,1165.7188 1077.3984,1164.5703 Q1078.0156,1163.4219 1079.1094,1162.8047 Q1080.2031,1162.1875 1081.4375,1162.1875 Q1082.1719,1162.1875 1082.8203,1162.3516 Q1083.4688,1162.5156 1084.0156,1162.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1101.75" y="1171.9102">ApiService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="995.5" x2="1232.5" y1="1183" y2="1183"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1002.5" y="1192.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="1014.5" y="1198.4189">tradeBot: ITradeBot&lt;StubDomain, unknown&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1002.5" y="1206.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1014.5" y="1212.2549">express: Express</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1002.5" y="1220.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="1014.5" y="1226.0908">wss: ws.WebSocketServer</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1002.5" y="1233.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="1014.5" y="1239.9268">http: http.Server</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="995.5" x2="1232.5" y1="1246.3438" y2="1246.3438"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1002.5" y="1255.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="169" x="1014.5" y="1261.7627">configureServers(): Promise&lt;void&gt;</text><!--class IHttpHeadersCarrier--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="61.8359" id="IHttpHeadersCarrier" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="1269" y="1178.5"/><ellipse cx="1297.95" cy="1194.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1298.9031,1191.1406 L1298.9031,1197.7969 L1300.6219,1197.7969 Q1301.2313,1197.7969 1301.4969,1198.0313 Q1301.7625,1198.2656 1301.7625,1198.6563 Q1301.7625,1199.0313 1301.4969,1199.2656 Q1301.2313,1199.5 1300.6219,1199.5 L1295.4813,1199.5 Q1294.8719,1199.5 1294.6063,1199.2656 Q1294.3406,1199.0313 1294.3406,1198.6406 Q1294.3406,1198.2656 1294.6063,1198.0313 Q1294.8719,1197.7969 1295.4813,1197.7969 L1297.2,1197.7969 L1297.2,1191.1406 L1295.4813,1191.1406 Q1294.8719,1191.1406 1294.6063,1190.9063 Q1294.3406,1190.6719 1294.3406,1190.2813 Q1294.3406,1189.9063 1294.6063,1189.6719 Q1294.8719,1189.4375 1295.4813,1189.4375 L1300.6219,1189.4375 Q1301.2313,1189.4375 1301.4969,1189.6719 Q1301.7625,1189.9063 1301.7625,1190.2813 Q1301.7625,1190.6719 1301.4969,1190.9063 Q1301.2313,1191.1406 1300.6219,1191.1406 L1298.9031,1191.1406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="111" x="1315.05" y="1199.4102">IHttpHeadersCarrier</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1270" x2="1442" y1="1210.5" y2="1210.5"/><ellipse cx="1280" cy="1222.918" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="1289" y="1225.9189">headers: IncomingHttpHeaders</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1270" x2="1442" y1="1232.3359" y2="1232.3359"/><!--class AuthService--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="89.5078" id="AuthService" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="1478" y="1164.5"/><ellipse cx="1586.75" cy="1180.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1589.5156,1176.375 Q1589.6719,1176.1563 1589.8594,1176.0469 Q1590.0469,1175.9375 1590.2656,1175.9375 Q1590.6406,1175.9375 1590.875,1176.1953 Q1591.1094,1176.4531 1591.1094,1177.0625 L1591.1094,1178.5156 Q1591.1094,1179.125 1590.875,1179.3906 Q1590.6406,1179.6563 1590.2656,1179.6563 Q1589.9219,1179.6563 1589.7188,1179.4531 Q1589.5156,1179.2656 1589.4063,1178.75 Q1589.3594,1178.3906 1589.1719,1178.2031 Q1588.8438,1177.8281 1588.2344,1177.6094 Q1587.625,1177.3906 1587,1177.3906 Q1586.2344,1177.3906 1585.6016,1177.7188 Q1584.9688,1178.0469 1584.4766,1178.7969 Q1583.9844,1179.5469 1583.9844,1180.5781 L1583.9844,1181.6719 Q1583.9844,1182.9063 1584.875,1183.7266 Q1585.7656,1184.5469 1587.3594,1184.5469 Q1588.2969,1184.5469 1588.9531,1184.2969 Q1589.3438,1184.1406 1589.7656,1183.7031 Q1590.0313,1183.4375 1590.1797,1183.3594 Q1590.3281,1183.2813 1590.5313,1183.2813 Q1590.8594,1183.2813 1591.1172,1183.5391 Q1591.375,1183.7969 1591.375,1184.1406 Q1591.375,1184.4844 1591.0313,1184.8906 Q1590.5313,1185.4688 1589.7344,1185.7969 Q1588.6563,1186.25 1587.3594,1186.25 Q1585.8438,1186.25 1584.6406,1185.625 Q1583.6563,1185.125 1582.9688,1184.0547 Q1582.2813,1182.9844 1582.2813,1181.7031 L1582.2813,1180.5469 Q1582.2813,1179.2188 1582.8984,1178.0703 Q1583.5156,1176.9219 1584.6094,1176.3047 Q1585.7031,1175.6875 1586.9375,1175.6875 Q1587.6719,1175.6875 1588.3203,1175.8516 Q1588.9688,1176.0156 1589.5156,1176.375 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="1607.25" y="1185.4102">AuthService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1767" y1="1196.5" y2="1196.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1486" y="1205.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="1498" y="1211.9189">botToken: string</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1479" x2="1767" y1="1218.3359" y2="1218.3359"/><ellipse cx="1489" cy="1230.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="1498" y="1233.7549">authByToken(token?: string): boolean</text><ellipse cx="1489" cy="1244.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="264" x="1498" y="1247.5908">authByRequest(request: IHttpHeadersCarrier): boolean</text><!--class LoggerService--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="241.7031" id="LoggerService" style="stroke: #A80036; stroke-width: 1.5;" width="1766" x="6" y="1328"/><ellipse cx="845.25" cy="1344" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M848.0156,1339.875 Q848.1719,1339.6563 848.3594,1339.5469 Q848.5469,1339.4375 848.7656,1339.4375 Q849.1406,1339.4375 849.375,1339.6953 Q849.6094,1339.9531 849.6094,1340.5625 L849.6094,1342.0156 Q849.6094,1342.625 849.375,1342.8906 Q849.1406,1343.1563 848.7656,1343.1563 Q848.4219,1343.1563 848.2188,1342.9531 Q848.0156,1342.7656 847.9063,1342.25 Q847.8594,1341.8906 847.6719,1341.7031 Q847.3438,1341.3281 846.7344,1341.1094 Q846.125,1340.8906 845.5,1340.8906 Q844.7344,1340.8906 844.1016,1341.2188 Q843.4688,1341.5469 842.9766,1342.2969 Q842.4844,1343.0469 842.4844,1344.0781 L842.4844,1345.1719 Q842.4844,1346.4063 843.375,1347.2266 Q844.2656,1348.0469 845.8594,1348.0469 Q846.7969,1348.0469 847.4531,1347.7969 Q847.8438,1347.6406 848.2656,1347.2031 Q848.5313,1346.9375 848.6797,1346.8594 Q848.8281,1346.7813 849.0313,1346.7813 Q849.3594,1346.7813 849.6172,1347.0391 Q849.875,1347.2969 849.875,1347.6406 Q849.875,1347.9844 849.5313,1348.3906 Q849.0313,1348.9688 848.2344,1349.2969 Q847.1563,1349.75 845.8594,1349.75 Q844.3438,1349.75 843.1406,1349.125 Q842.1563,1348.625 841.4688,1347.5547 Q840.7813,1346.4844 840.7813,1345.2031 L840.7813,1344.0469 Q840.7813,1342.7188 841.3984,1341.5703 Q842.0156,1340.4219 843.1094,1339.8047 Q844.2031,1339.1875 845.4375,1339.1875 Q846.1719,1339.1875 846.8203,1339.3516 Q847.4688,1339.5156 848.0156,1339.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="865.75" y="1348.9102">LoggerService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="1771" y1="1360" y2="1360"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1369.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="26" y="1375.4189">tradebot: ITradeBot&lt;any, any&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1383.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="26" y="1389.2549">logger: Logger</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1397.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="26" y="1403.0908">lastLogs: SocketLogs[]</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1410.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="26" y="1416.9268">eventEmitter: EventEmitter</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="1771" y1="1423.3438" y2="1423.3438"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1432.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="26" y="1438.7627">createLogsDirIfNotExist(): void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1446.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="1740" x="26" y="1452.5986">logToString(log: SocketLogs, __1?: { useColors?: boolean | undefined; showRobotId?: boolean | undefined; showType?: boolean | undefined; showTimestamp?: boolean | undefined; showAlgorithmName?: boolean | undefined; showAlgorithmRunId?: boolean | undefined; showAlgorithmState?: boolean | undefined; showAttachment?: boolean | undefined; }): string</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1460.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="26" y="1466.4346">logToFile(log: SocketLogs): void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1474.2695"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="26" y="1480.2705">logToConsole(log: SocketLogs): void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1488.1055"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="170" x="26" y="1494.1064">logToSocket(log: SocketLogs): void</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="1501.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="26" y="1507.9424">updateLastLogs(log: SocketLogs): void</text><ellipse cx="17" cy="1518.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="26" y="1521.7783">getLastLogs(): SocketLogs[]</text><ellipse cx="17" cy="1532.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="510" x="26" y="1535.6143">log(body: Omit&lt;Omit&lt;SocketLogs, "robot_id"&gt;, "timestamp"&gt;, __1?: { internal?: boolean | undefined; }): void</text><ellipse cx="17" cy="1546.4492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="256" x="26" y="1549.4502">subscribe(callback: (logs: SocketLogs) =&gt; void): void</text><ellipse cx="17" cy="1560.2852" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="268" x="26" y="1563.2861">unsubscribe(callback: (logs: SocketLogs) =&gt; void): void</text><!--class ITradeAlgorithm--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="144.8516" id="ITradeAlgorithm" style="stroke: #A80036; stroke-width: 1.5;" width="384" x="10879" y="181"/><ellipse cx="10959.25" cy="197" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M10960.2031,193.6406 L10960.2031,200.2969 L10961.9219,200.2969 Q10962.5313,200.2969 10962.7969,200.5313 Q10963.0625,200.7656 10963.0625,201.1563 Q10963.0625,201.5313 10962.7969,201.7656 Q10962.5313,202 10961.9219,202 L10956.7813,202 Q10956.1719,202 10955.9063,201.7656 Q10955.6406,201.5313 10955.6406,201.1406 Q10955.6406,200.7656 10955.9063,200.5313 Q10956.1719,200.2969 10956.7813,200.2969 L10958.5,200.2969 L10958.5,193.6406 L10956.7813,193.6406 Q10956.1719,193.6406 10955.9063,193.4063 Q10955.6406,193.1719 10955.6406,192.7813 Q10955.6406,192.4063 10955.9063,192.1719 Q10956.1719,191.9375 10956.7813,191.9375 L10961.9219,191.9375 Q10962.5313,191.9375 10962.7969,192.1719 Q10963.0625,192.4063 10963.0625,192.7813 Q10963.0625,193.1719 10962.7969,193.4063 Q10962.5313,193.6406 10961.9219,193.6406 L10960.2031,193.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="10979.75" y="201.9102">ITradeAlgorithm</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="124" x="11142" y="178"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="122" x="11143" y="191.457">InputsType, StateType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="10880" x2="11262" y1="213" y2="213"/><ellipse cx="10890" cy="225.418" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="10899" y="228.4189">details: Algorithm</text><ellipse cx="10890" cy="239.2539" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="10899" y="242.2549">name: string</text><ellipse cx="10890" cy="253.0898" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="10899" y="256.0908">description: string</text><ellipse cx="10890" cy="266.9258" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="10899" y="269.9268">inputs: InputTypes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="10880" x2="11262" y1="276.3438" y2="276.3438"/><ellipse cx="10890" cy="288.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="358" x="10899" y="291.7627">main(inputs: InputsType): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><ellipse cx="10890" cy="302.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="339" x="10899" y="305.5986">continue(id: number): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><ellipse cx="10890" cy="316.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="319" x="10899" y="319.4346">stop(id: number): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><!--class AbstractTradeAlgorithm--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="310.8828" id="AbstractTradeAlgorithm" style="stroke: #A80036; stroke-width: 1.5;" width="941" x="10600.5" y="669.5"/><ellipse cx="10615.5" cy="685.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M10617.6875,687.2656 L10613.5469,687.2656 L10613.125,688.2969 L10613.5469,688.2969 Q10614.1563,688.2969 10614.4219,688.5313 Q10614.6875,688.7656 10614.6875,689.1563 Q10614.6875,689.5313 10614.4219,689.7656 Q10614.1563,690 10613.5469,690 L10611.25,690 Q10610.6406,690 10610.3828,689.7656 Q10610.125,689.5313 10610.125,689.1406 Q10610.125,688.7656 10610.3984,688.5234 Q10610.6719,688.2813 10611.2969,688.2969 L10613.9688,681.6406 L10612.8594,681.6406 Q10612.25,681.6406 10611.9844,681.4063 Q10611.7188,681.1719 10611.7188,680.7813 Q10611.7188,680.4063 10611.9844,680.1719 Q10612.25,679.9375 10612.8594,679.9375 L10616.5313,679.9375 L10619.9219,688.2969 Q10620.5156,688.2969 10620.7031,688.4375 Q10621.0938,688.7031 10621.0938,689.1563 Q10621.0938,689.5313 10620.8359,689.7656 Q10620.5781,690 10619.9688,690 L10617.6719,690 Q10617.0625,690 10616.7969,689.7656 Q10616.5313,689.5313 10616.5313,689.1406 Q10616.5313,688.7656 10616.7969,688.5313 Q10617.0625,688.2969 10617.6719,688.2969 L10618.0938,688.2969 L10617.6875,687.2656 Z M10616.9688,685.5625 L10615.6094,682.1875 L10614.2344,685.5625 L10616.9688,685.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="130" x="10629.5" y="690.4102">AbstractTradeAlgorithm</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="777" x="10767.5" y="666.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="775" x="10768.5" y="679.957">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi, InputsType, StateType, StopDataType</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="10601.5" x2="11540.5" y1="701.5" y2="701.5"/><polygon fill="none" points="10611.5,708.918,10615.5,712.918,10611.5,716.918,10607.5,712.918" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="10620.5" y="716.9189">analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><polygon fill="none" points="10611.5,722.7539,10615.5,726.7539,10611.5,730.7539,10607.5,726.7539" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="10620.5" y="730.7549">watcher: IExchangeWatcher&lt;Domain&gt;</text><polygon fill="none" points="10611.5,736.5898,10615.5,740.5898,10611.5,744.5898,10607.5,740.5898" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="10620.5" y="744.5908">trader: IExchangeTrader</text><polygon fill="none" points="10611.5,750.4258,10615.5,754.4258,10611.5,758.4258,10607.5,754.4258" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="10620.5" y="758.4268">stopData: Map&lt;number, StopDataType&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="10608.5" y="766.2617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="10620.5" y="772.2627">logger: LoggerService</text><ellipse cx="10611.5" cy="783.0977" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="10620.5" y="786.0986">details: Algorithm</text><ellipse cx="10611.5" cy="796.9336" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61" x="10620.5" y="799.9346">name: string</text><ellipse cx="10611.5" cy="810.7695" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="89" x="10620.5" y="813.7705">description: string</text><ellipse cx="10611.5" cy="824.6055" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="10620.5" y="827.6064">inputs: InputTypes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="10601.5" x2="11540.5" y1="834.0234" y2="834.0234"/><polygon fill="#FFFF44" points="10611.5,841.4414,10615.5,845.4414,10611.5,849.4414,10607.5,845.4414" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="10620.5" y="849.4424">fixStart(inputs: InputsType, state: StateType): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,855.2773,10615.5,859.2773,10611.5,863.2773,10607.5,859.2773" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="266" x="10620.5" y="863.2783">fixStop(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,869.1133,10615.5,873.1133,10611.5,877.1133,10607.5,873.1133" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="286" x="10620.5" y="877.1143">fixContinue(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,882.9492,10615.5,886.9492,10611.5,890.9492,10607.5,886.9492" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="272" x="10620.5" y="890.9502">fixFinish(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,896.7852,10615.5,900.7852,10611.5,904.7852,10607.5,900.7852" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="328" x="10620.5" y="904.7861">fixError(id: number, error: Error): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,910.6211,10615.5,914.6211,10611.5,918.6211,10607.5,914.6211" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="405" x="10620.5" y="918.6221">saveProgress(id: number, progress: StateType): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><polygon fill="#FFFF44" points="10611.5,924.457,10615.5,928.457,10611.5,932.457,10607.5,928.457" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="296" x="10620.5" y="932.458">loadProgress(id: number): Promise&lt;AlgorithmRun&lt;any, any&gt;&gt;</text><ellipse cx="10611.5" cy="943.293" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="369" x="10620.5" y="946.2939">main(inputs: InputsType): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><ellipse cx="10611.5" cy="957.1289" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="350" x="10620.5" y="960.1299">continue(id: number): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><ellipse cx="10611.5" cy="970.9648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="329" x="10620.5" y="973.9658">stop(id: number): Promise&lt;AlgorithmRun&lt;InputsType, StateType&gt;&gt;</text><!--class AbstractDomainMapper--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="172.5234" id="AbstractDomainMapper" style="stroke: #A80036; stroke-width: 1.5;" width="778" x="3919" y="738.5"/><ellipse cx="3956.05" cy="754.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M3958.2375,756.2656 L3954.0969,756.2656 L3953.675,757.2969 L3954.0969,757.2969 Q3954.7063,757.2969 3954.9719,757.5313 Q3955.2375,757.7656 3955.2375,758.1563 Q3955.2375,758.5313 3954.9719,758.7656 Q3954.7063,759 3954.0969,759 L3951.8,759 Q3951.1906,759 3950.9328,758.7656 Q3950.675,758.5313 3950.675,758.1406 Q3950.675,757.7656 3950.9484,757.5234 Q3951.2219,757.2813 3951.8469,757.2969 L3954.5188,750.6406 L3953.4094,750.6406 Q3952.8,750.6406 3952.5344,750.4063 Q3952.2688,750.1719 3952.2688,749.7813 Q3952.2688,749.4063 3952.5344,749.1719 Q3952.8,748.9375 3953.4094,748.9375 L3957.0813,748.9375 L3960.4719,757.2969 Q3961.0656,757.2969 3961.2531,757.4375 Q3961.6438,757.7031 3961.6438,758.1563 Q3961.6438,758.5313 3961.3859,758.7656 Q3961.1281,759 3960.5188,759 L3958.2219,759 Q3957.6125,759 3957.3469,758.7656 Q3957.0813,758.5313 3957.0813,758.1406 Q3957.0813,757.7656 3957.3469,757.5313 Q3957.6125,757.2969 3958.2219,757.2969 L3958.6438,757.2969 L3958.2375,756.2656 Z M3957.5188,754.5625 L3956.1594,751.1875 L3954.7844,754.5625 L3957.5188,754.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="130" x="3974.95" y="759.4102">AbstractDomainMapper</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="4135" y="735.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="4136" y="748.957">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3920" x2="4696" y1="770.5" y2="770.5"/><polygon fill="none" points="3930,777.918,3934,781.918,3930,785.918,3926,781.918" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="3939" y="785.9189">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="3920" x2="4696" y1="792.3359" y2="792.3359"/><ellipse cx="3930" cy="804.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="402" x="3939" y="807.7549">setExchangeClient(exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;): void</text><ellipse cx="3930" cy="818.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="341" x="3939" y="821.5908">currency(currency: GetCurrencyType&lt;Domain&gt;): Promise&lt;Currency&gt;</text><ellipse cx="3930" cy="832.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="461" x="3939" y="835.4268">currencyBalance(currency: GetCurrencyBalanceType&lt;Domain&gt;): Promise&lt;CurrencyBalance&gt;</text><ellipse cx="3930" cy="846.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="323" x="3939" y="849.2627">security(security: GetSecurityType&lt;Domain&gt;): Promise&lt;Security&gt;</text><ellipse cx="3930" cy="860.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="444" x="3939" y="863.0986">securityBalance(portfolio: GetSecurityBalanceType&lt;Domain&gt;): Promise&lt;SecurityBalance&gt;</text><ellipse cx="3930" cy="873.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="275" x="3939" y="876.9346">order(order: GetOrderType&lt;Domain&gt;): Promise&lt;Order&gt;</text><ellipse cx="3930" cy="887.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="284" x="3939" y="890.7705">orderStatus(order: GetOrderType&lt;Domain&gt;): OrderStatus</text><ellipse cx="3930" cy="901.6055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="752" x="3939" y="904.6064">orderOperation(order: GetOrderType&lt;Domain&gt;): "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"</text><!--class TradeBot--><rect fill="#FEFECE" filter="url(#f1wf90yeqdoef5)" height="255.5391" id="TradeBot" style="stroke: #A80036; stroke-width: 1.5;" width="1160" x="8033" y="697"/><ellipse cx="8300.25" cy="713" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M8303.0156,708.875 Q8303.1719,708.6563 8303.3594,708.5469 Q8303.5469,708.4375 8303.7656,708.4375 Q8304.1406,708.4375 8304.375,708.6953 Q8304.6094,708.9531 8304.6094,709.5625 L8304.6094,711.0156 Q8304.6094,711.625 8304.375,711.8906 Q8304.1406,712.1563 8303.7656,712.1563 Q8303.4219,712.1563 8303.2188,711.9531 Q8303.0156,711.7656 8302.9063,711.25 Q8302.8594,710.8906 8302.6719,710.7031 Q8302.3438,710.3281 8301.7344,710.1094 Q8301.125,709.8906 8300.5,709.8906 Q8299.7344,709.8906 8299.1016,710.2188 Q8298.4688,710.5469 8297.9766,711.2969 Q8297.4844,712.0469 8297.4844,713.0781 L8297.4844,714.1719 Q8297.4844,715.4063 8298.375,716.2266 Q8299.2656,717.0469 8300.8594,717.0469 Q8301.7969,717.0469 8302.4531,716.7969 Q8302.8438,716.6406 8303.2656,716.2031 Q8303.5313,715.9375 8303.6797,715.8594 Q8303.8281,715.7813 8304.0313,715.7813 Q8304.3594,715.7813 8304.6172,716.0391 Q8304.875,716.2969 8304.875,716.6406 Q8304.875,716.9844 8304.5313,717.3906 Q8304.0313,717.9688 8303.2344,718.2969 Q8302.1563,718.75 8300.8594,718.75 Q8299.3438,718.75 8298.1406,718.125 Q8297.1563,717.625 8296.4688,716.5547 Q8295.7813,715.4844 8295.7813,714.2031 L8295.7813,713.0469 Q8295.7813,711.7188 8296.3984,710.5703 Q8297.0156,709.4219 8298.1094,708.8047 Q8299.2031,708.1875 8300.4375,708.1875 Q8301.1719,708.1875 8301.8203,708.3516 Q8302.4688,708.5156 8303.0156,708.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="8320.75" y="717.9102">TradeBot</text><rect fill="#FFFFFF" height="17.0938" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" width="565" x="8631" y="694"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="563" x="8632" y="707.457">Domain extends DomainTemplate&lt;unknown, unknown, unknown, unknown, unknown&gt;, TExchangeApi</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8034" x2="9192" y1="729" y2="729"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="738.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="285" x="8053" y="744.4189">_exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="752.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="271" x="8053" y="758.2549">_analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="766.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="8053" y="772.0908">_trader: IExchangeTrader</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="779.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="8053" y="785.9268">_watcher: IExchangeWatcher&lt;Domain&gt;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="793.7617"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="8053" y="799.7627">_api: ApiService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="807.5977"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="8053" y="813.5986">_logger: LoggerService</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="821.4336"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="8053" y="827.4346">_auth: AuthService</text><ellipse cx="8044" cy="838.2695" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="279" x="8053" y="841.2705">exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;</text><ellipse cx="8044" cy="852.1055" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="265" x="8053" y="855.1064">analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;</text><ellipse cx="8044" cy="865.9414" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="8053" y="868.9424">trader: IExchangeTrader</text><ellipse cx="8044" cy="879.7773" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="8053" y="882.7783">watcher: IExchangeWatcher&lt;Domain&gt;</text><ellipse cx="8044" cy="893.6133" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="8053" y="896.6143">api: ApiService</text><ellipse cx="8044" cy="907.4492" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="8053" y="910.4502">logger: LoggerService</text><ellipse cx="8044" cy="921.2852" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="8053" y="924.2861">auth: AuthService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8034" x2="9192" y1="930.7031" y2="930.7031"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="8041" y="940.1211"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="1134" x="8053" y="946.1221">setup(__0: { exchangeClient: IExchangeClient&lt;Domain, TExchangeApi&gt;; botToken?: string | undefined; initAlgorithmsCallback?: ((analyzer: IExchangeAnalyzer&lt;Domain, TExchangeApi&gt;) =&gt; ITradeAlgorithm[]) | undefined; }): Promise&lt;void&gt;</text><!--link ITradeModule to AbstractTradeModule--><path d="M2785,340.13 C2785,449.92 2785,638.79 2785,745.18 " fill="none" id="ITradeModule-AbstractTradeModule" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="2778,340.27,2785,320.27,2792,340.27,2778,340.27" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IInfoModule to AbstractInfoModule--><path d="M3531,340.13 C3531,449.92 3531,638.79 3531,745.18 " fill="none" id="IInfoModule-AbstractInfoModule" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="3524,340.27,3531,320.27,3538,340.27,3524,340.27" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IExchangeClient to AbstractExchangeClient--><path d="M5098,340.27 C5098,445.53 5098,623.32 5098,731.55 " fill="none" id="IExchangeClient-AbstractExchangeClient" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="5091,340.27,5098,320.27,5105,340.27,5091,340.27" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IExchangeTrader to ExchangeTrader--><path d="M6607,319.65 C6607,427.13 6607,640.76 6607,752.35 " fill="none" id="IExchangeTrader-ExchangeTrader" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="6600,319.71,6607,299.71,6614,319.71,6600,319.71" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IExchangeWatcher to ExchangeWatcher--><path d="M7492,354.08 C7492,453.59 7492,606.37 7492,710.52 " fill="none" id="IExchangeWatcher-ExchangeWatcher" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="7485,354.39,7492,334.39,7499,354.39,7485,354.39" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ITradeAlgorithmsEngine to TradeAlgorithmsEngine--><path d="M5863,333.23 C5863,437.48 5863,621.02 5863,731.68 " fill="none" id="ITradeAlgorithmsEngine-TradeAlgorithmsEngine" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="5856,333.24,5863,313.24,5870,333.24,5856,333.24" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IExchangeAnalyzer to ExchangeAnalyzer--><path d="M9897,520.07 C9897,532.86 9897,545.71 9897,558.5 " fill="none" id="IExchangeAnalyzer-ExchangeAnalyzer" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="9890,520.32,9897,500.32,9904,520.32,9890,520.32" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ITradeAlgorithm to AbstractTradeAlgorithm--><path d="M11071,347.19 C11071,434.28 11071,566.24 11071,669.28 " fill="none" id="ITradeAlgorithm-AbstractTradeAlgorithm" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="11064,347.34,11071,327.34,11078,347.34,11064,347.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--link IDomainMapper to AbstractDomainMapper--><path d="M4308,347.03 C4308,455.34 4308,633.25 4308,738.46 " fill="none" id="IDomainMapper-AbstractDomainMapper" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="4301,347.34,4308,327.34,4315,347.34,4301,347.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--link ITradeBot to TradeBot--><path d="M8613,347.23 C8613,442.21 8613,590.58 8613,696.57 " fill="none" id="ITradeBot-TradeBot" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="8606,347.34,8613,327.34,8620,347.34,8606,347.34" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Algorithm to ITypedTransformer--><!--link ITypedTransformer to AlgorithmRun--><!--link AlgorithmRun to Order--><!--link Algorithm to PortfolioStore--><!--link PortfolioStore to SecuritiesStore--><!--link SecuritiesStore to CurrenciesStore--><!--link CurrenciesStore to TradeBotStore--><!--link PortfolioStore to IExpressAppCarrier--><!--link IExpressAppCarrier to ApiService--><!--link ApiService to IHttpHeadersCarrier--><!--link IHttpHeadersCarrier to AuthService--><!--link IExpressAppCarrier to LoggerService--><!--
@startuml
class Algorithm {
    +name: string
    +description: string
    +inputTypes: InputTypes
    +algorithmRuns?: AlgorithmRun<any, any>[] | undefined
}
interface ITypedTransformer<TEntity, TDatabase> {
    +to: (entityValue: TEntity) => TDatabase
    +from: (databaseValue: TDatabase) => TEntity
}
class AlgorithmRun<InputType, StateType> {
    +id: number
    +algorithmName: string
    +inputs: InputType
    +status: AlgorithmRunStatus
    +state: StateType
    +updatedAt: Date
    +createdAt: Date
    +algorithm: Algorithm
    +orders: Order[]
}
class Order {
    +exchangeId: string
    +securityTicker: string
    +status: OrderStatus
    +operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"
    +lots: number
    +price: number
    +updatedAt?: Date | undefined
    +algorithmRunId?: number | undefined
    +algorithmRun?: AlgorithmRun<any, any> | undefined
}
class PortfolioStore {
    -items: PortfolioPosition[]
    -securitiesStore: SecuritiesStore
    -findPosition(position: PortfolioPosition, searchIn?: PortfolioPosition[]): PortfolioPosition | undefined
    +setSecuritiesStore(store: SecuritiesStore): void
    +portfolio: PortfolioPosition[]
    +currencies: CurrencyBalance[]
    +securities: SecurityBalance[]
    +updatePositions(positions: PortfolioPosition[]): void
    +updatePositionsAll(positions: PortfolioPosition[]): void
}
class SecuritiesStore {
    -items: Security[]
    -followList: string[]
    -updateJournal: Map<string, Date>
    -portfolioStore: PortfolioStore
    +setPortfolioStore(store: PortfolioStore): void
    +securities: Security[]
    +followedSecurities: Security[]
    +securitiesWithUpdates: { updatedAt: Date | undefined; name: string; ticker: string; price: number; currencyTicker: string; }[]
    +follow(securityTicker: string): Security | undefined
    +unfollow(securityTicker: string): Security | undefined
    +updateSecurities(securities: Security[]): void
    +getBalanceOf(securityTicker: string): SecurityBalance | undefined
}
class CurrenciesStore {
    -items: Currency[]
    -portfolioStore: PortfolioStore
    +setPortfolioStore(store: PortfolioStore): void
    +currencies: Currency[]
    +updateCurrenciesAll(currencies: Currency[]): void
    +getBalanceOf(currencyTicker: string): CurrencyBalance | undefined
}
class TradeBotStore {
    +securitiesStore: SecuritiesStore
    +portfolioStore: PortfolioStore
    +currenciesStore: CurrenciesStore
}
interface ITradeModule<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>> {
    +sell(options: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +buy(options: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +marketSell(options: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +marketBuy(options: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +sellOrCancel(): Promise<GetOrderType<Domain>>
    +buyOrCancel(): Promise<GetOrderType<Domain>>
}
abstract class AbstractTradeModule<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements ITradeModule {
    #exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +setExchangeClient(exchangeClient: IExchangeClient<Domain, TExchangeApi>): void
    +{abstract} sell(__0: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +{abstract} buy(__0: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +{abstract} marketSell(__0: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +{abstract} marketBuy(__0: CreateOrderOptions): Promise<GetOrderType<Domain>>
    +{abstract} sellOrCancel(): Promise<GetOrderType<Domain>>
    +{abstract} buyOrCancel(): Promise<GetOrderType<Domain>>
}
interface IInfoModule<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>> {
    +getCurrencies(): Promise<GetCurrencyType<Domain>[]>
    +getSecurityLastPrice(ticker: string): Promise<number>
    +getSecurityCurrency(ticker: string): Promise<GetCurrencyType<Domain>>
    +getSecurityName(ticker: string): Promise<string>
    +getSecurity(ticker: string, ignoreCache?: boolean | undefined): Promise<GetSecurityBalanceType<Domain> | null>
    +getSecurityByExchangeId(id: string, ignoreCache?: boolean | undefined): Promise<GetSecurityBalanceType<Domain> | null>
}
abstract class AbstractInfoModule<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IInfoModule {
    #exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +setExchangeClient(exchangeClient: IExchangeClient<Domain, TExchangeApi>): void
    +{abstract} getCurrencies(): Promise<GetCurrencyType<Domain>[]>
    +{abstract} getSecurityLastPrice(ticker: string): Promise<number>
    +{abstract} getSecurityCurrency(ticker: string): Promise<GetCurrencyType<Domain>>
    +{abstract} getSecurityName(ticker: string): Promise<string>
    +{abstract} getSecurity(ticker: string, ignoreCache?: boolean | undefined): Promise<GetSecurityType<Domain> | null>
    +{abstract} getSecurityByExchangeId(id: string, ignoreCache?: boolean | undefined): Promise<GetSecurityType<Domain> | null>
}
interface IDomainMapper<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>> {
    +currency(currency: GetCurrencyType<Domain>): Promise<Currency>
    +currencyBalance(currency: GetCurrencyBalanceType<Domain>): Promise<CurrencyBalance>
    +security(security: GetSecurityType<Domain>): Promise<Security>
    +securityBalance(security: GetSecurityBalanceType<Domain>): Promise<SecurityBalance>
    +order(order: GetOrderType<Domain>): Promise<Order>
    +orderStatus(order: GetOrderType<Domain>): OrderStatus
    +orderOperation(order: GetOrderType<Domain>): "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"
}
abstract class AbstractExchangeClient<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IExchangeClient {
    -_isAccountInitialized: boolean
    +isAccountInitialized: boolean
    #isAccountInitialized: boolean
    +api: TExchangeApi
    +tradeModule: ITradeModule<Domain>
    +infoModule: IInfoModule<Domain>
    +domainMapper: IDomainMapper<Domain>
    #{abstract} initAccount(): Promise<unknown>
    +{abstract} getPortfolio(): Promise<GetSecurityBalanceType<Domain>[]>
    +{abstract} getCurrenciesBalance(): Promise<GetCurrencyBalanceType<Domain>[]>
}
interface ITradeAlgorithmsEngine {
    +description: Algorithm[]
    +runAlgorithm(name: string, inputs: unknown): Promise<AlgorithmRun<any, any>>
    +resumeAlgorithms(): Promise<void>
    +continueAlgorithm(name: string, run_id: number): Promise<AlgorithmRun<any, any>>
    +stopAlgorithm(name: string, run_id: number): Promise<AlgorithmRun<any, any>>
}
interface IExchangeTrader {
    +scheduleAction(action: JobCallback, date: Date): Job
    +scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Job
    +sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Promise<OrderStatus>
}
interface IExchangeWatcher<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>> {
    +getPortfolio(): Promise<SecurityBalance[]>
    +getCurrenciesBalance(): Promise<CurrencyBalance[]>
    +getCurrencies(): Promise<Currency[]>
    +getSecurity(ticker: string): Promise<Security>
    +getSecurityName(ticker: string): Promise<string>
    +getSecurityLastPrice(ticker: string): Promise<number>
    +getSecurityCurrency(ticker: string): Promise<Currency>
    +onOrderSent(order: GetOrderType<Domain>, operation_type: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): OrderStatus
}
interface ITradeBot<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> {
    +exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher<Domain>
    +api: ApiService
    +logger: LoggerService
    +auth: AuthService
}
class ExchangeTrader<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IExchangeTrader {
    -tradebot: ITradeBot<Domain, TExchangeApi>
    -watcher: IExchangeWatcher<Domain>
    -logger: LoggerService
    -exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +scheduleAction(action: JobCallback, date: Date): Job
    +scheduleOrder(date: Date, order: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Job
    +sendOrder(orderDetails: CreateOrderOptions, algorithm_name?: string | undefined, run_id?: number | undefined): Promise<OrderStatus>
}
class ExchangeWatcher<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IExchangeWatcher {
    -tradebot: ITradeBot<Domain, TExchangeApi>
    -domainMapper: IDomainMapper<StubDomain>
    -analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    -trader: IExchangeTrader
    -exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +getPortfolio(): Promise<SecurityBalance[]>
    +getCurrenciesBalance(): Promise<CurrencyBalance[]>
    +getCurrencies(): Promise<Currency[]>
    +getSecurity(ticker: string): Promise<Security>
    +getSecurityName(ticker: string): Promise<string>
    +getSecurityLastPrice(ticker: string): Promise<number>
    +getSecurityCurrency(ticker: string): Promise<Currency>
    +onOrderSent(order: GetOrderType<Domain>, operation_type: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): OrderStatus
}
interface IExchangeAnalyzer<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> {
    +tradebot: ITradeBot<Domain, TExchangeApi>
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher<Domain>
    +tradeAlgos: ITradeAlgorithmsEngine
    +start(): Promise<void>
    +updateCurrencies(): Promise<Currency[]>
    +getCurrencies(): Promise<Currency[]>
    +updateCurrenciesBalance(): Promise<CurrencyBalance[]>
    +getCurrenciesBalance(): Promise<CurrencyBalance[]>
    +updateSecurities(): Promise<Security[]>
    +getSecurities(): Promise<Security[]>
    +getSecurity(ticker: string): Promise<Security>
    +addSecurities(securities: Security[]): Promise<Security[]>
    +getFollowedSecurities(): Promise<Security[]>
    +followSecurity(securityTicker: string): Promise<Security | undefined>
    +unfollowSecurity(securityTicker: string): Promise<Security | undefined>
    +updateFollowedSecurities(): Promise<Security[]>
    +updatePortfolio(): Promise<(CurrencyBalance | SecurityBalance)[]>
    +getPortfolio(): Promise<(CurrencyBalance | SecurityBalance)[]>
    +clearPortfolio(): Promise<number>
    +saveOrder(order: Order, operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): Promise<Order>
    +getOrders(options: { from?: Date | undefined; to?: Date | undefined; securityTicker?: string | undefined; operation?: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel" | undefined; runId?: number | undefined; }): Promise<Order[]>
    +saveAlgorithms(): Promise<Algorithm[]>
    +runAlgorithm(algorithmName: string, inputs: unknown, state?: unknown): Promise<AlgorithmRun<any, any>>
    +saveAlgorithmRunProgress(id: number, state: unknown): Promise<AlgorithmRun<any, any>>
    +loadAlgorithmRunProgress(id: number): Promise<AlgorithmRun<any, any> | null>
    +stopAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +resumeAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +finishAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +errorAlgorithmRun(id: number, error: Error): Promise<AlgorithmRun<any, any>>
    +getAlgorithmRunsByAlgorithm(algorithmName: string): Promise<AlgorithmRun<any, any>[]>
    +getUnfinishedAlgorithmRuns(): Promise<AlgorithmRun<any, any>[]>
}
class TradeAlgorithmsEngine<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements ITradeAlgorithmsEngine {
    #analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    #trader: IExchangeTrader
    #watcher: IExchangeWatcher<Domain>
    #tradebot: ITradeBot<Domain, TExchangeApi>
    #algorithms: ITradeAlgorithm<unknown, unknown>[]
    +description: Algorithm[]
    +runAlgorithm(name: string, inputs: unknown): Promise<AlgorithmRun<any, any>>
    +resumeAlgorithms(): Promise<void>
    +continueAlgorithm(name: string, id: number): Promise<AlgorithmRun<any, any>>
    +stopAlgorithm(name: string, id: number): Promise<AlgorithmRun<any, any>>
}
class ExchangeAnalyzer<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IExchangeAnalyzer {
    +tradebot: ITradeBot<Domain, TExchangeApi>
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher<Domain>
    +tradeAlgos: ITradeAlgorithmsEngine
    +start(): Promise<void>
    -initUpdaters(): Promise<void>
    -loadSecurityIfNotExist(ticker: string): Promise<Security | undefined>
    -loadSecuritiesIfNotExist(tickers: string[]): Promise<Security[]>
    +updateCurrencies(): Promise<Currency[]>
    +getCurrencies(): Promise<Currency[]>
    +updateCurrenciesBalance(): Promise<CurrencyBalance[]>
    +getCurrenciesBalance(): Promise<CurrencyBalance[]>
    +updateSecurities(): Promise<Security[]>
    +getSecurities(): Promise<Security[]>
    +getSecurity(ticker: string): Promise<Security>
    +addSecurities(securities: Security[]): Promise<Security[]>
    +getFollowedSecurities(): Promise<Security[]>
    +followSecurity(securityTicker: string): Promise<Security | undefined>
    +unfollowSecurity(securityTicker: string): Promise<Security | undefined>
    +updateFollowedSecurities(): Promise<Security[]>
    +updatePortfolio(): Promise<(CurrencyBalance | SecurityBalance)[]>
    +getPortfolio(): Promise<(CurrencyBalance | SecurityBalance)[]>
    +clearPortfolio(): Promise<number>
    +saveOrder(order: Order, operation: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel", runId?: number | undefined): Promise<Order>
    +getOrders(__0: { from?: Date | undefined; to?: Date | undefined; securityTicker?: string | undefined; operation?: "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel" | undefined; runId?: number | undefined; }): Promise<Order[]>
    +saveAlgorithms(): Promise<Algorithm[]>
    +runAlgorithm(algorithmName: string, inputs: unknown, state?: unknown): Promise<AlgorithmRun<any, any>>
    +saveAlgorithmRunProgress(id: number, state: unknown): Promise<AlgorithmRun<any, any>>
    +loadAlgorithmRunProgress(id: number): Promise<AlgorithmRun<any, any> | null>
    +stopAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +resumeAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +finishAlgorithmRun(id: number): Promise<AlgorithmRun<any, any>>
    +errorAlgorithmRun(id: number, error: Error): Promise<AlgorithmRun<any, any>>
    +getAlgorithmRunsByAlgorithm(algorithmName: string): Promise<AlgorithmRun<any, any>[]>
    +getUnfinishedAlgorithmRuns(): Promise<AlgorithmRun<any, any>[]>
}
interface IExpressAppCarrier {
    +app: Application
}
class ApiService {
    -tradeBot: ITradeBot<StubDomain, unknown>
    -express: Express
    -wss: ws.WebSocketServer
    -http: http.Server
    -configureServers(): Promise<void>
}
interface IHttpHeadersCarrier {
    +headers: IncomingHttpHeaders
}
class AuthService {
    -botToken: string
    +authByToken(token?: string): boolean
    +authByRequest(request: IHttpHeadersCarrier): boolean
}
class LoggerService {
    -tradebot: ITradeBot<any, any>
    -logger: Logger
    -lastLogs: SocketLogs[]
    -eventEmitter: EventEmitter
    -createLogsDirIfNotExist(): void
    -logToString(log: SocketLogs, __1?: { useColors?: boolean | undefined; showRobotId?: boolean | undefined; showType?: boolean | undefined; showTimestamp?: boolean | undefined; showAlgorithmName?: boolean | undefined; showAlgorithmRunId?: boolean | undefined; showAlgorithmState?: boolean | undefined; showAttachment?: boolean | undefined; }): string
    -logToFile(log: SocketLogs): void
    -logToConsole(log: SocketLogs): void
    -logToSocket(log: SocketLogs): void
    -updateLastLogs(log: SocketLogs): void
    +getLastLogs(): SocketLogs[]
    +log(body: Omit<Omit<SocketLogs, "robot_id">, "timestamp">, __1?: { internal?: boolean | undefined; }): void
    +subscribe(callback: (logs: SocketLogs) => void): void
    +unsubscribe(callback: (logs: SocketLogs) => void): void
}
interface ITradeAlgorithm<InputsType, StateType> {
    +details: Algorithm
    +name: string
    +description: string
    +inputs: InputTypes
    +main(inputs: InputsType): Promise<AlgorithmRun<InputsType, StateType>>
    +continue(id: number): Promise<AlgorithmRun<InputsType, StateType>>
    +stop(id: number): Promise<AlgorithmRun<InputsType, StateType>>
}
abstract class AbstractTradeAlgorithm<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi, InputsType, StateType, StopDataType> implements ITradeAlgorithm {
    #analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    #watcher: IExchangeWatcher<Domain>
    #trader: IExchangeTrader
    #stopData: Map<number, StopDataType>
    -logger: LoggerService
    +details: Algorithm
    #fixStart(inputs: InputsType, state: StateType): Promise<AlgorithmRun<any, any>>
    #fixStop(id: number): Promise<AlgorithmRun<any, any>>
    #fixContinue(id: number): Promise<AlgorithmRun<any, any>>
    #fixFinish(id: number): Promise<AlgorithmRun<any, any>>
    #fixError(id: number, error: Error): Promise<AlgorithmRun<any, any>>
    #saveProgress(id: number, progress: StateType): Promise<AlgorithmRun<any, any>>
    #loadProgress(id: number): Promise<AlgorithmRun<any, any>>
    +{abstract} name: string
    +{abstract} description: string
    +{abstract} inputs: InputTypes
    +{abstract} main(inputs: InputsType): Promise<AlgorithmRun<InputsType, StateType>>
    +{abstract} continue(id: number): Promise<AlgorithmRun<InputsType, StateType>>
    +{abstract} stop(id: number): Promise<AlgorithmRun<InputsType, StateType>>
}
interface IExchangeClient<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> {
    +api: TExchangeApi
    +tradeModule: ITradeModule<Domain>
    +infoModule: IInfoModule<Domain>
    +domainMapper: IDomainMapper<Domain>
    +getPortfolio(): Promise<GetSecurityBalanceType<Domain>[]>
    +getCurrenciesBalance(): Promise<GetCurrencyBalanceType<Domain>[]>
}
abstract class AbstractDomainMapper<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements IDomainMapper {
    #exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +setExchangeClient(exchangeClient: IExchangeClient<Domain, TExchangeApi>): void
    +{abstract} currency(currency: GetCurrencyType<Domain>): Promise<Currency>
    +{abstract} currencyBalance(currency: GetCurrencyBalanceType<Domain>): Promise<CurrencyBalance>
    +{abstract} security(security: GetSecurityType<Domain>): Promise<Security>
    +{abstract} securityBalance(portfolio: GetSecurityBalanceType<Domain>): Promise<SecurityBalance>
    +{abstract} order(order: GetOrderType<Domain>): Promise<Order>
    +{abstract} orderStatus(order: GetOrderType<Domain>): OrderStatus
    +{abstract} orderOperation(order: GetOrderType<Domain>): "undefined" | "limit_buy" | "limit_sell" | "market_buy" | "market_sell" | "buy_or_cancel" | "sell_or_cancel"
}
class TradeBot<Domain extends DomainTemplate<unknown, unknown, unknown, unknown, unknown>, TExchangeApi> implements ITradeBot {
    -_exchangeClient: IExchangeClient<Domain, TExchangeApi>
    -_analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    -_trader: IExchangeTrader
    -_watcher: IExchangeWatcher<Domain>
    -_api: ApiService
    -_logger: LoggerService
    -_auth: AuthService
    +exchangeClient: IExchangeClient<Domain, TExchangeApi>
    +analyzer: IExchangeAnalyzer<Domain, TExchangeApi>
    +trader: IExchangeTrader
    +watcher: IExchangeWatcher<Domain>
    +api: ApiService
    +logger: LoggerService
    +auth: AuthService
    -setup(__0: { exchangeClient: IExchangeClient<Domain, TExchangeApi>; botToken?: string | undefined; initAlgorithmsCallback?: ((analyzer: IExchangeAnalyzer<Domain, TExchangeApi>) => ITradeAlgorithm[]) | undefined; }): Promise<void>
}
@enduml

PlantUML version 1.2019.06(Fri May 24 21:10:25 GET 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Java Version: 1.8.0_361-b09
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1251
Language: ru
Country: RU
--></g></svg>